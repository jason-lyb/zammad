{"version":3,"file":"CommonConfirmationDialog-os2HLJIx.js","sources":["../../../../../app/frontend/apps/desktop/components/CommonConfirmationDialog/CommonConfirmationDialog.vue"],"sourcesContent":["<!-- Copyright (C) 2012-2025 Zammad Foundation, https://zammad-foundation.org/ -->\n\n<script setup lang=\"ts\">\nimport { computed } from 'vue'\n\nimport { useConfirmation } from '#shared/composables/useConfirmation.ts'\nimport { i18n } from '#shared/i18n.ts'\n\nimport CommonDialog from '#desktop/components/CommonDialog/CommonDialog.vue'\n\nimport type { ConfirmationVariantOptions } from './types.ts'\n\nconst { confirmationOptions } = useConfirmation()\n\ninterface Props {\n  uniqueId: string\n}\n\nconst props = defineProps<Props>()\n\nconst currentConfirmationOptions = computed(() => {\n  return confirmationOptions.value?.get(props.uniqueId)\n})\n\nconst handleConfirmation = (isCancel?: boolean) => {\n  if (isCancel) {\n    currentConfirmationOptions.value?.cancelCallback()\n  } else if (isCancel === false) {\n    currentConfirmationOptions.value?.confirmCallback()\n  } else {\n    currentConfirmationOptions.value?.closeCallback()\n  }\n\n  confirmationOptions.value.delete(props.uniqueId)\n}\n\nconst confirmationVariant = computed<ConfirmationVariantOptions>(() => {\n  switch (currentConfirmationOptions.value?.confirmationVariant) {\n    case 'delete':\n      return {\n        headerTitle: __('Delete Object'),\n        headerIcon: 'trash3',\n        content: __('Are you sure you want to delete this object?'),\n        footerActionOptions: {\n          actionLabel:\n            currentConfirmationOptions.value?.buttonLabel ||\n            __('Delete Object'),\n          actionButton: {\n            variant: 'danger',\n          },\n        },\n      }\n    case 'unsaved':\n      return {\n        headerTitle: __('Unsaved Changes'),\n        content: __(\n          'Are you sure? You have unsaved changes that will get lost.',\n        ),\n        footerActionOptions: {\n          actionLabel: __('Discard Changes'),\n          actionButton: {\n            variant: 'danger',\n          },\n        },\n      }\n    default:\n      return {\n        headerTitle: __('Confirmation'),\n        content: __('Do you want to continue?'),\n        footerActionOptions: {\n          actionLabel:\n            currentConfirmationOptions.value?.buttonLabel || __('Yes'),\n          actionButton: {\n            variant:\n              currentConfirmationOptions.value?.buttonVariant || 'primary',\n          },\n          cancelLabel: currentConfirmationOptions.value?.cancelLabel,\n        },\n      }\n  }\n})\n\nconst headerTitle = computed(() => {\n  if (currentConfirmationOptions.value?.headerTitle) {\n    return i18n.t(\n      currentConfirmationOptions.value?.headerTitle,\n      ...(currentConfirmationOptions.value?.headerTitlePlaceholder || []),\n    )\n  }\n\n  return confirmationVariant.value.headerTitle\n})\n</script>\n\n<template>\n  <CommonDialog\n    :name=\"`confirmation:${props.uniqueId}`\"\n    :header-title=\"headerTitle\"\n    :header-icon=\"\n      currentConfirmationOptions?.headerIcon || confirmationVariant.headerIcon\n    \"\n    :content=\"currentConfirmationOptions?.text || confirmationVariant.content\"\n    :content-placeholder=\"currentConfirmationOptions?.textPlaceholder\"\n    :footer-action-options=\"confirmationVariant.footerActionOptions\"\n    :fullscreen=\"currentConfirmationOptions?.fullscreen ?? false\"\n    global\n    @close=\"handleConfirmation\"\n  />\n</template>\n"],"names":["confirmationOptions","useConfirmation","props","__props","currentConfirmationOptions","computed","_a","handleConfirmation","isCancel","_b","_c","confirmationVariant","_d","_e","headerTitle","i18n"],"mappings":"qqCAYM,KAAA,CAAE,oBAAAA,GAAwBC,IAM1BC,EAAQC,EAERC,EAA6BC,EAAS,IAAM,OAChD,OAAOC,EAAAN,EAAoB,QAApB,YAAAM,EAA2B,IAAIJ,EAAM,SAAQ,CACrD,EAEKK,EAAsBC,GAAuB,WAC7CA,GACFF,EAAAF,EAA2B,QAA3B,MAAAE,EAAkC,iBACzBE,IAAa,IACtBC,EAAAL,EAA2B,QAA3B,MAAAK,EAAkC,mBAElCC,EAAAN,EAA2B,QAA3B,MAAAM,EAAkC,gBAGhBV,EAAA,MAAM,OAAOE,EAAM,QAAQ,CAAA,EAG3CS,EAAsBN,EAAqC,IAAM,eAC7D,QAAAC,EAAAF,EAA2B,QAA3B,YAAAE,EAAkC,oBAAqB,CAC7D,IAAK,SACI,MAAA,CACL,YAAa,GAAG,eAAe,EAC/B,WAAY,SACZ,QAAS,GAAG,8CAA8C,EAC1D,oBAAqB,CACnB,cACEG,EAAAL,EAA2B,QAA3B,YAAAK,EAAkC,cAClC,GAAG,eAAe,EACpB,aAAc,CACZ,QAAS,QACX,CACF,CAAA,EAEJ,IAAK,UACI,MAAA,CACL,YAAa,GAAG,iBAAiB,EACjC,QAAS,GACP,4DACF,EACA,oBAAqB,CACnB,YAAa,GAAG,iBAAiB,EACjC,aAAc,CACZ,QAAS,QACX,CACF,CAAA,EAEJ,QACS,MAAA,CACL,YAAa,GAAG,cAAc,EAC9B,QAAS,GAAG,0BAA0B,EACtC,oBAAqB,CACnB,cACEC,EAAAN,EAA2B,QAA3B,YAAAM,EAAkC,cAAe,GAAG,KAAK,EAC3D,aAAc,CACZ,UACEE,EAAAR,EAA2B,QAA3B,YAAAQ,EAAkC,gBAAiB,SACvD,EACA,aAAaC,EAAAT,EAA2B,QAA3B,YAAAS,EAAkC,WACjD,CAAA,CAEN,CAAA,CACD,EAEKC,EAAcT,EAAS,IAAM,WAC7B,OAAAC,EAAAF,EAA2B,QAA3B,MAAAE,EAAkC,YAC7BS,EAAK,GACVN,EAAAL,EAA2B,QAA3B,YAAAK,EAAkC,YAClC,KAAIC,EAAAN,EAA2B,QAA3B,YAAAM,EAAkC,yBAA0B,CAAC,CAAA,EAI9DC,EAAoB,MAAM,WAAA,CAClC"}