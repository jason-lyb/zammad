{"version":3,"file":"TicketChangeCustomerFlyout-fDcamutV.js","sources":["../../../../../app/frontend/apps/desktop/pages/ticket/components/TicketDetailView/actions/TicketChangeCustomer/TicketChangeCustomerFlyout.vue"],"sourcesContent":["<!-- Copyright (C) 2012-2025 Zammad Foundation, https://zammad-foundation.org/ -->\n\n<script setup lang=\"ts\">\nimport { toRef } from 'vue'\n\nimport Form from '#shared/components/Form/Form.vue'\nimport type { FormSubmitData } from '#shared/components/Form/types.ts'\nimport { useForm } from '#shared/components/Form/useForm.ts'\nimport { useTicketChangeCustomer } from '#shared/entities/ticket/composables/useTicketChangeCustomer.ts'\nimport { useTicketFormOrganizationHandler } from '#shared/entities/ticket/composables/useTicketFormOrganizationHandler.ts'\nimport type {\n  TicketById,\n  TicketCustomerUpdateFormData,\n} from '#shared/entities/ticket/types.ts'\nimport { defineFormSchema } from '#shared/form/defineFormSchema.ts'\nimport { EnumObjectManagerObjects } from '#shared/graphql/types.ts'\n\nimport CommonFlyout from '#desktop/components/CommonFlyout/CommonFlyout.vue'\nimport { closeFlyout } from '#desktop/components/CommonFlyout/useFlyout.ts'\n\ninterface Props {\n  ticket: TicketById\n}\n\nconst props = defineProps<Props>()\n\nconst ticketChangeCustomerFlyoutName = 'ticket-change-customer'\n\nconst { form } = useForm()\n\nconst formSchema = defineFormSchema([\n  {\n    name: 'customer_id',\n    screen: 'edit',\n    object: EnumObjectManagerObjects.Ticket,\n    required: true,\n  },\n  {\n    name: 'organization_id',\n    screen: 'edit',\n    object: EnumObjectManagerObjects.Ticket,\n  },\n])\n\nconst { changeCustomer } = useTicketChangeCustomer(toRef(props, 'ticket'), {\n  onSuccess: () => closeFlyout(ticketChangeCustomerFlyoutName),\n})\n</script>\n\n<template>\n  <CommonFlyout\n    header-icon=\"person\"\n    no-close-on-action\n    :name=\"ticketChangeCustomerFlyoutName\"\n    :header-title=\"__('Change Customer')\"\n    :footer-action-options=\"{\n      form,\n      actionButton: {\n        type: 'submit',\n      },\n    }\"\n  >\n    <Form\n      id=\"form-change-customer\"\n      ref=\"form\"\n      should-autofocus\n      :handlers=\"[useTicketFormOrganizationHandler()]\"\n      :initial-entity-object=\"ticket\"\n      use-object-attributes\n      :schema=\"formSchema\"\n      @submit=\"\n        changeCustomer($event as FormSubmitData<TicketCustomerUpdateFormData>)\n      \"\n    />\n  </CommonFlyout>\n</template>\n"],"names":["ticketChangeCustomerFlyoutName","props","__props","form","useForm","formSchema","defineFormSchema","EnumObjectManagerObjects","changeCustomer","useTicketChangeCustomer","toRef","closeFlyout"],"mappings":"w3CA0BA,MAAMA,EAAiC,8FAFvC,MAAMC,EAAQC,EAIR,CAAE,KAAAC,GAASC,IAEXC,EAAaC,EAAiB,CAClC,CACE,KAAM,cACN,OAAQ,OACR,OAAQC,EAAyB,OACjC,SAAU,EACZ,EACA,CACE,KAAM,kBACN,OAAQ,OACR,OAAQA,EAAyB,MACnC,CAAA,CACD,EAEK,CAAE,eAAAC,CAAe,EAAIC,EAAwBC,EAAMT,EAAO,QAAQ,EAAG,CACzE,UAAW,IAAMU,EAAYX,CAA8B,CAAA,CAC5D"}