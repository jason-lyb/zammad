import{f as h,ap as I,s as v,c as b,d as z,m as M,p as U,q as s,J as $}from"./vue-oicRkvo0.js";import{_ as x}from"./Form.vue_vue_type_script_setup_true_lang-B6L-6HzY.js";import{u as D}from"./useBaseUrl-BsZiEKQE.js";import{u as q}from"./useLogoUrl-8sIhej5J.js";import{e as L,M as R}from"./apollo-Cj5TVUDk.js";import{e as k}from"./routes-CgLO9M4y.js";import{_ as w}from"./GuidedSetupActionFooter.vue_vue_type_script_setup_true_lang-Cze7-cY3.js";import{u as B}from"./useSystemSetup-CBS5N4Hd.js";import{n as C}from"./vendor-C11O1Xx8.js";import{X as G}from"./overviewAttributes.api-C09LSZ8O.js";import"./formkit-5nol1GBe.js";import"./FormGroup.vue_vue_type_script_setup_true_lang-DIx-HUKU.js";import"./lodash-pFOI14f-.js";import"./vite-FJshFMF2.js";import"./useForm-CUKec4n5.js";import"./desktop-l0eJ1dZN.js";import"./useCopyToClipboard-CjkPg__g.js";import"./theme-Bv2ClBzZ.js";import"./datepicker-BBNcWeHz.js";import"./date-B2UyDZN7.js";import"./autocompleteTags.api-CG5-cm_A.js";import"./autocompleteSearchTicket.api-DfOQWGlO.js";import"./ticketUpdates.api-BhGIG_Ti.js";import"./ticketAttributes.api-rqx5ITab.js";import"./useTicketCreateArticleType-D7iVcJ_6.js";import"./types-Cu-Nkl7K.js";import"./useTicketCreateView-HCH46SPv.js";import"./commonjsHelpers-BosuxZz1.js";import"./LayoutPublicPageBoxActions-BFjF_v1c.js";const E=C`
    mutation guidedSetupSetSystemInformation($input: SystemInformation!) {
  guidedSetupSetSystemInformation(input: $input) {
    success
    errors {
      ...errors
    }
  }
}
    ${G}`;function O(i={}){return L(E,i)}const dt=h({__name:"GuidedSetupManualSystemInformation",setup(i){const a=I(),o=k(),{logoUrl:m}=q(),{setTitle:u}=B();u(__("System Information"));const l=[{isLayout:!0,element:"div",attrs:{class:"grid gap-y-2.5"},children:[{name:"organization",label:__("Organization name"),type:"text",required:!0,placeholder:__("Company Inc.")},{name:"logo",label:__("Organization logo"),type:"imageUpload",props:{placeholderImagePath:m}},{if:"$isSystemOnlineService !== true",name:"url",label:__("System URL"),type:"text",required:!0,validation:"url",help:__("The URL of this installation of Zammad.")}]}],{baseUrl:p}=D(),c={organization:o.config.organization,url:p.value},r=v(),f=b(()=>o.config.system_online_service),d=z({isSystemOnlineService:f}),t=Intl!=null&&Intl.DateTimeFormat?new Intl.DateTimeFormat().resolvedOptions():null,S=t==null?void 0:t.locale,_=t==null?void 0:t.timeZone,g=async e=>new R(O({})).send({input:{organization:e.organization,logo:e.logo,url:e.url,localeDefault:S,timezoneDefault:_}}).then(()=>{if(o.config.system_online_service){a.push("/guided-setup/manual/channels/email-pre-configured");return}a.push("/guided-setup/manual/email-notification")});return(e,n)=>(M(),U($,null,[s(x,{id:"set-system-manual",ref_key:"form",ref:r,"form-class":"mb-2.5",schema:l,"schema-data":d,"initial-values":c,onSubmit:n[0]||(n[0]=y=>g(y))},null,8,["schema-data"]),s(w,{form:r.value,"submit-button-text":e.__("Save and Continue")},null,8,["form","submit-button-text"])],64))}});export{dt as default};
//# sourceMappingURL=GuidedSetupManualSystemInformation-DSBB3S6q.js.map
