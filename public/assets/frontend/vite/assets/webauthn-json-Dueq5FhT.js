function p(e){const i="==".slice(0,(4-e.length%4)%4),a=e.replace(/-/g,"+").replace(/_/g,"/")+i,c=atob(a),s=new ArrayBuffer(c.length),l=new Uint8Array(s);for(let u=0;u<c.length;u++)l[u]=c.charCodeAt(u);return s}function g(e){const i=new Uint8Array(e);let a="";for(const l of i)a+=String.fromCharCode(l);return btoa(a).replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}var t="copy",o="convert";function d(e,i,a){if(i===t)return a;if(i===o)return e(a);if(i instanceof Array)return a.map(c=>d(e,i[0],c));if(i instanceof Object){const c={};for(const[s,l]of Object.entries(i)){if(l.derive){const u=l.derive(a);u!==void 0&&(a[s]=u)}if(!(s in a)){if(l.required)throw new Error(`Missing key: ${s}`);continue}if(a[s]==null){c[s]=null;continue}c[s]=d(e,l.schema,a[s])}return c}}function f(e,i){return{required:!0,schema:e,derive:i}}function r(e){return{required:!0,schema:e}}function n(e){return{required:!1,schema:e}}var y={type:r(t),id:r(o),transports:n(t)},b={appid:n(t),appidExclude:n(t),credProps:n(t)},h={appid:n(t),appidExclude:n(t),credProps:n(t)},v={publicKey:r({rp:r(t),user:r({id:r(o),name:r(t),displayName:r(t)}),challenge:r(o),pubKeyCredParams:r(t),timeout:n(t),excludeCredentials:n([y]),authenticatorSelection:n(t),attestation:n(t),extensions:n(b)}),signal:n(t)},m={type:r(t),id:r(t),rawId:r(o),authenticatorAttachment:n(t),response:r({clientDataJSON:r(o),attestationObject:r(o),transports:f(t,e=>{var i;return((i=e.getTransports)==null?void 0:i.call(e))||[]})}),clientExtensionResults:f(h,e=>e.getClientExtensionResults())},S={mediation:n(t),publicKey:r({challenge:r(o),timeout:n(t),rpId:n(t),allowCredentials:n([y]),userVerification:n(t),extensions:n(b)}),signal:n(t)},C={type:r(t),id:r(t),rawId:r(o),authenticatorAttachment:n(t),response:r({clientDataJSON:r(o),authenticatorData:r(o),signature:r(o),userHandle:r(o)}),clientExtensionResults:f(h,e=>e.getClientExtensionResults())};function w(e){return d(p,v,e)}function x(e){return d(g,m,e)}async function A(e){const i=await navigator.credentials.create(w(e));return x(i)}function O(e){return d(p,S,e)}function R(e){return d(g,C,e)}async function E(e){const i=await navigator.credentials.get(O(e));return R(i)}export{A as create,E as get};
//# sourceMappingURL=webauthn-json-Dueq5FhT.js.map
