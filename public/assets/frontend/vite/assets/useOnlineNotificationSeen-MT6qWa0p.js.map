{"version":3,"file":"useOnlineNotificationSeen-MT6qWa0p.js","sources":["../../../../../app/frontend/shared/composables/useOnlineNotification/useOnlineNotificationSeen.ts"],"sourcesContent":["// Copyright (C) 2012-2025 Zammad Foundation, https://zammad-foundation.org/\n\nimport { watch } from 'vue'\n\nimport { useOnlineNotificationSeenMutation } from '#shared/entities/online-notification/graphql/mutations/seen.api.ts'\nimport { MutationHandler } from '#shared/server/apollo/handler/index.ts'\nimport type { ObjectWithId } from '#shared/types/utils.ts'\n\nimport type { Ref } from 'vue'\n\nexport const useOnlineNotificationSeen = (\n  object: Ref<ObjectWithId | undefined>,\n) => {\n  const seenMutation = new MutationHandler(useOnlineNotificationSeenMutation())\n\n  const setAsSeen = async () => {\n    if (!object.value?.id) return\n\n    await seenMutation.send({ objectId: object.value.id })\n  }\n\n  watch(() => object.value?.id, setAsSeen)\n}\n"],"names":["useOnlineNotificationSeen","object","seenMutation","MutationHandler","useOnlineNotificationSeenMutation","watch","_a"],"mappings":"0HAUa,MAAAA,EACXC,GACG,CACH,MAAMC,EAAe,IAAIC,EAAgBC,EAAmC,CAAA,EAQ5EC,EAAM,IAAA,OAAM,OAAAC,EAAAL,EAAO,QAAP,YAAAK,EAAc,IANR,SAAY,QACvBA,EAAAL,EAAO,QAAP,MAAAK,EAAc,IAEnB,MAAMJ,EAAa,KAAK,CAAE,SAAUD,EAAO,MAAM,GAAI,CAAA,CAGhB,CACzC"}