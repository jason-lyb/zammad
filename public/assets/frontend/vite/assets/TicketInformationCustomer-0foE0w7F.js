import{_ as E}from"./overviewAttributes.api-C09LSZ8O.js";import{_ as D}from"./ObjectAttributes.vue_vue_type_script_setup_true_lang-B0DrxGTz.js";import{u as S}from"./useUserDetail-C29_PwWz.js";import{u as T}from"./useErrorHandler-ZIzy1Mvt.js";import{_ as U}from"./mobile-Bk4bKGxF.js";import{_ as x}from"./CommonLoader.vue_vue_type_script_setup_true_lang-BtrvaoyW.js";import{u as q,_ as B,a as N}from"./useUserTicketsCount-DMVUQWZC.js";import{_ as V}from"./CommonTicketStateList.vue_vue_type_script_setup_true_lang-BroMKQU9.js";import{u as j}from"./useTicketInformation-DhcXzEKN.js";import{f as L,c as p,Y as A,a1 as F,m as r,p as n,q as o,y as i,u as t,I as f,M as c,Q as _,E as l,v as H,D as M,J as O}from"./vue-oicRkvo0.js";import"./routes-CgLO9M4y.js";import"./vite-FJshFMF2.js";import"./vendor-C11O1Xx8.js";import"./commonjsHelpers-BosuxZz1.js";import"./apollo-Cj5TVUDk.js";import"./lodash-pFOI14f-.js";import"./formkit-5nol1GBe.js";import"./useDisplayObjectAttributes-sspS-pHp.js";import"./user.api-BwewaCks.js";import"./pwa-THoW_3xc.js";import"./add.api-CxwFhgGn.js";import"./datepicker-BBNcWeHz.js";import"./date-B2UyDZN7.js";import"./CommonShowMoreButton.vue_vue_type_script_setup_true_lang-0Icksle5.js";import"./types-Cu-Nkl7K.js";const Q={key:0,class:"mb-3 flex items-center gap-3"},R={class:"text-lg font-semibold"},Y={key:0},J={key:0},vt=L({__name:"TicketInformationCustomer",props:{internalId:{}},setup(G){const{ticket:k,updateRefetchingStatus:y}=j(),{createQueryErrorHandler:g}=T(),h=g({notFound:__("User with specified ID was not found. Try checking the URL for errors."),forbidden:__("You have insufficient rights to view this user.")}),v=p(()=>{var a;return(a=k.value)==null?void 0:a.customer.internalId}),{user:e,loading:m,objectAttributes:b,secondaryOrganizations:d,loadAllSecondaryOrganizations:w}=S(v,h);A(()=>{y(m.value&&e.value!=null)});const{openEditUserDialog:C}=q(),{getTicketData:z}=N(),u=p(()=>z(e.value));return(a,s)=>{const $=F("CommonLink");return r(),n(O,null,[o(x,{loading:t(m)&&!t(e)},{default:i(()=>[t(e)?(r(),n("div",Q,[o(E,{"aria-hidden":"true",size:"normal",entity:t(e)},null,8,["entity"]),f("div",null,[f("h2",R,c(t(e).fullname),1),t(e).organization?(r(),n("h3",Y,[o($,{link:`/organizations/${t(e).organization.internalId}`,class:"text-blue"},{default:i(()=>[_(c(t(e).organization.name),1)]),_:1},8,["link"])])):l("",!0)])])):l("",!0)]),_:1},8,["loading"]),t(e)?(r(),n("div",J,[o(D,{attributes:t(b),object:t(e),"skip-attributes":["firstname","lastname"],"always-show-after-fields":t(e).policy.update},H({_:2},[t(e).policy.update?{name:"after-fields",fn:i(()=>[o(U,{class:"p-4",variant:"primary","transparent-background":"",onClick:s[0]||(s[0]=I=>t(C)(t(e)))},{default:i(()=>[_(c(a.$t("Edit Customer")),1)]),_:1})]),key:"0"}:void 0]),1032,["attributes","object","always-show-after-fields"]),o(B,{organizations:t(d).array,"total-count":t(d).totalCount,"disable-show-more":t(m),label:a.__("Secondary organizations"),onShowMore:s[1]||(s[1]=I=>t(w)())},null,8,["organizations","total-count","disable-show-more","label"]),u.value?(r(),M(V,{key:0,counts:u.value.count,"tickets-link-query":u.value.query},null,8,["counts","tickets-link-query"])):l("",!0)])):l("",!0)],64)}}});export{vt as default};
//# sourceMappingURL=TicketInformationCustomer-0foE0w7F.js.map
