import{f as w,a7 as j,c as x,m as i,p as h,q as d,C as ve,I as S,J as D,i as Pe,a8 as oe,y as b,u as s,U as P,H as C,D as v,E as V,$ as Be,aH as Fe,a1 as k,Q as A,M as U,t as se,F as Q,x as B,aI as je,aJ as he,r as J,w as X,k as Qe,ab as ne,a0 as He,aa as Ke,V as Y,ap as _e,n as ke,ag as ge,K as ye,a4 as Ge,L as Ce,aK as We,G as Ye,aL as Je,aM as me}from"./vue-oicRkvo0.js";import{u as H,n as te}from"./vendor-C11O1Xx8.js";import{_ as we,an as Xe,m as Ze,ao as et,ap as $e,a2 as Te,X as tt,l as Le,u as at}from"./overviewAttributes.api-C09LSZ8O.js";import{a as K,e as Se,J as nt,K as ot,L as st,M as it,N as rt,P as lt,Q as re}from"./routes-CgLO9M4y.js";import{b as ct,u as ce,_ as ue}from"./theme-Bv2ClBzZ.js";import{_ as ut,a as dt,b as xe,c as F,d as Ie,e as mt,f as pt,u as Re,g as ze}from"./desktop-l0eJ1dZN.js";import{_ as ft}from"./ThemeSwitch.vue_vue_type_script_setup_true_lang-CwtIhe0x.js";import{u as bt,a as Ne,b as vt}from"./useOnlineNotificationActions-CIHAkwwp.js";import{u as Ue}from"./useOnlineNotificationCount-CN5COmqb.js";import{Q as de,k as Z,d as ht,e as Ve,u as _t,a as kt,S as gt,M as Ae,N as le,c as yt}from"./apollo-Cj5TVUDk.js";import{u as Ct}from"./useElementScroll-BdrPIdz0.js";import{_ as wt}from"./LayoutSidebar.vue_vue_type_script_setup_true_lang-BO1pkKrb.js";import{_ as ee}from"./CommonSectionCollapse.vue_vue_type_script_setup_true_lang-B-hHJAEI.js";import{u as $t}from"./useDebouncedLoading-D3djd3bz.js";import{_ as Tt}from"./CommonSkeleton.vue_vue_type_script_setup_true_lang-CNAAMgPI.js";import{d as Lt,a as St,u as xt,p as It}from"./index-DwuY2HL4.js";import{s as Rt}from"./startAndEndEventsDNDPlugin-Bd5tQkcZ.js";import{a as zt}from"./lodash-pFOI14f-.js";import{u as Nt}from"./useResizeGridColumns-CieKHty_.js";import"./commonjsHelpers-BosuxZz1.js";import"./formkit-5nol1GBe.js";import"./vite-FJshFMF2.js";import"./Form.vue_vue_type_script_setup_true_lang-B6L-6HzY.js";import"./FormGroup.vue_vue_type_script_setup_true_lang-DIx-HUKU.js";import"./useForm-CUKec4n5.js";import"./useCopyToClipboard-CjkPg__g.js";import"./datepicker-BBNcWeHz.js";import"./date-B2UyDZN7.js";import"./autocompleteTags.api-CG5-cm_A.js";import"./autocompleteSearchTicket.api-DfOQWGlO.js";import"./ticketUpdates.api-BhGIG_Ti.js";import"./ticketAttributes.api-rqx5ITab.js";import"./useTicketCreateArticleType-D7iVcJ_6.js";import"./types-Cu-Nkl7K.js";import"./useTicketCreateView-HCH46SPv.js";import"./getUserDisplayName-Dg0PCZQh.js";import"./seen.api-DLK-LLmy.js";const Ut={class:"flex items-center px-2"},Vt=w({__name:"AvatarMenuAppearanceItem",props:{label:{},ariaLabel:{type:[String,Function]},labelPlaceholder:{},link:{},linkExternal:{type:Boolean},variant:{},icon:{},labelClass:{}},setup(n){const e=j("theme-switch"),o=()=>{var l;(l=e.value)==null||l.cycleValue()},t=ct(),{updateTheme:a}=t,{currentTheme:c}=H(t),r=x({get:()=>c.value,set:l=>a(l)});return(l,u)=>(i(),h(D,null,[d(ut,ve({...l.$props,...l.$attrs},{onClick:o}),null,16),S("div",Ut,[d(ft,{ref:"theme-switch",modelValue:r.value,"onUpdate:modelValue":u[0]||(u[0]=m=>r.value=m),class:"hover:outline-blue-300 focus:outline-blue-600 hover:focus:outline-blue-600 dark:hover:outline-blue-950 dark:focus:outline-blue-900 dark:hover:focus:outline-blue-900",size:"small"},null,8,["modelValue"])])],64))}}),At={key:"appearance",label:__("Appearance"),icon:"brightness-alt-high",noCloseOnClick:!0,order:100,component:Vt,permission:"user_preferences.appearance"},Et={key:"keyboard-shortcuts",label:__("Keyboard shortcuts"),onClick:()=>{console.log("OPEN KEYBOARD SHORTCUTS DIALOG")},icon:"keyboard",order:200},Ot={key:"sign-out",label:__("Sign out"),link:"/logout",icon:"box-arrow-in-right",separatorTop:!0,order:600},Mt={key:"personal-setting",label:__("Profile settings"),link:"/personal-setting",icon:"person-gear",order:400},Dt=!1,qt={key:"playground",label:"Playground",show:()=>Dt,link:"/playground",icon:"logo-flat",order:150},Pt=Object.assign({"./appearance.ts":At,"./keyboard-shortcuts.ts":Et,"./logout.ts":Ot,"./personal-settings.ts":Mt,"./playground.ts":qt}),Bt=Object.values(Pt).sort((n,e)=>n.order-e.order),Ft=Bt.map(({order:n,...e})=>e),Ee=Symbol("collapsed-state-key"),ie=()=>({collapsedState:Pe(Ee)}),jt=["aria-label"],Qt=w({__name:"AvatarMenu",setup(n){const{user:e}=H(K()),{collapsedState:o}=ie(),t=x(()=>o!=null&&o.value?"small":"normal"),{popover:a,popoverTarget:c,toggle:r,isOpen:l}=ce();return(u,m)=>{var O,g,L,$;const R=oe("tooltip");return i(),h(D,null,[d(ue,{id:"user-menu-popover",ref_key:"popover",ref:a,owner:s(c),"hide-arrow":s(o),orientation:"autoVertical",placement:s(o)?"start":"arrowStart"},{default:b(()=>{var _;return[d(dt,{popover:s(a),"header-label":(_=s(e))==null?void 0:_.fullname,items:s(Ft)},null,8,["popover","header-label","items"])]}),_:1},8,["owner","hide-arrow","placement"]),P((i(),h("button",{id:"user-menu",ref_key:"popoverTarget",ref:c,class:C(["rounded-full outline-2 outline-transparent hover:outline-blue-900 focus-visible:outline-blue-800 hover:focus-visible:outline-blue-800",{"outline-blue-800! hover:outline-blue-800!":s(l)}]),"aria-label":((O=s(e))==null?void 0:O.fullname)||((g=s(e))==null?void 0:g.email)||u.$t("User menu"),"aria-controls":"user-menu-popover","aria-expanded":"false",onClick:m[0]||(m[0]=_=>s(r)(!0))},[s(e)?(i(),v(we,{key:0,entity:s(e),class:"!flex",size:t.value,personal:""},null,8,["entity","size"])):V("",!0)],10,jt)),[[R,((L=s(e))==null?void 0:L.fullname)||(($=s(e))==null?void 0:$.email)||u.$t("User menu")]])],64)}}}),Ht={key:"ticket-create",permission:["ticket.agent","ticket.customer"],order:100,label:__("New ticket"),variant:"secondary",show(){var o;const{config:n}=Se(),{user:e}=K();return(o=e==null?void 0:e.permissions)!=null&&o.names.includes("ticket.agent")?!0:n.customer_ticket_create},icon:"plus-square-fill",link:"/tickets/create"},Kt=Object.assign({"./ticket-create.ts":Ht}),Gt=Object.entries(Kt).map(([n,e])=>e),pe=Gt.sort((n,e)=>n.order-e.order),Wt=w({__name:"AddMenu",setup(n){const{collapsedState:e}=ie(),o=x(()=>pe.find(t=>t.key==="ticket-create"));return(t,a)=>{var c,r;return i(),v(xe,{class:"flex!",orientation:"autoVertical","hide-arrow":s(e),"default-icon":(c=o.value)==null?void 0:c.icon,"default-button-variant":(r=o.value)==null?void 0:r.variant,placement:s(e)?"start":"arrowStart","link-size":"small","button-size":"large",actions:s(pe)},null,8,["hide-arrow","default-icon","default-button-variant","placement","actions"])}}}),Yt={order:100,key:"admin",label:__("Administration"),permission:["admin.*"],variant:"neutral",icon:"gear",link:"/#manage"},Jt=Object.assign({"./setting.ts":Yt}),Xt=Object.entries(Jt).map(([n,e])=>e),fe=Xt.sort((n,e)=>n.order-e.order),Zt=w({__name:"AdminMenu",setup(n){const{collapsedState:e}=ie(),o=x(()=>fe.find(t=>t.key==="admin"));return(t,a)=>{var c,r;return i(),v(xe,{class:"flex!",actions:s(fe),orientation:"autoVertical","default-icon":(c=o.value)==null?void 0:c.icon,"default-button-variant":(r=o.value)==null?void 0:r.variant,"hide-arrow":s(e),placement:s(e)?"start":"arrowStart","link-size":"small","button-size":"large"},null,8,["actions","default-icon","default-button-variant","hide-arrow","placement"])}}}),ea=w({__name:"MenuContainer",setup(n){const{collapsedState:e}=ie();return(o,t)=>(i(),h("div",{role:"list",class:C(["flex items-center gap-4 rounded-xl bg-gray-700 p-4 empty:hidden",{"flex-col bg-transparent":s(e)}])},[d(Zt,{role:"listitem"}),d(Wt,{role:"listitem"})],2))}}),ta=w({__name:"LeftSidebarFooterMenu",props:{collapsed:{type:Boolean}},setup(n){const e=n;return Be(Ee,x(()=>e.collapsed)),(o,t)=>(i(),h("section",{class:C(["flex flex-row items-center justify-between",{"mx-auto mb-0.5 flex-col!":o.collapsed}])},[d(Qt),d(ea)],2))}}),aa=()=>{const n=Fe("notifications"),e=x(()=>n.value==="granted");return{notificationPermission:n,isGranted:e,requestNotification:async()=>"requestPermission"in Notification?Notification.requestPermission():Promise.resolve()}},na="Xylo.mp3",oa=()=>{const{user:n}=H(K()),e=x(()=>{var r,l,u;return!!(((u=(l=(r=n.value)==null?void 0:r.preferences)==null?void 0:l.notification_sound)==null?void 0:u.enabled)??!0)}),o=x(()=>{var l,u,m;return`/assets/sounds/${((m=(u=(l=n.value)==null?void 0:l.preferences)==null?void 0:u.notification_sound)==null?void 0:m.file)??na}`}),t=r=>{const l=new Audio(r);return l.preload="auto",l},a=x(()=>t(o.value));return{isEnabled:e,play:()=>{var r;return(r=a.value)==null?void 0:r.play().catch(()=>{console.error("Failed to play notification sound")})}}},sa=()=>{const n=new de(bt()),e=n.loading(),o=n.result(),t=x(()=>{var l;return Xe((l=o.value)==null?void 0:l.onlineNotifications)}),a=x(()=>o.value!==void 0?!1:e.value),c=x(()=>t.value.some(l=>!l.seen));return{notificationList:t,hasUnseenNotification:c,refetch:()=>n.refetch(),loading:a}},ia=["aria-label"],ra=w({__name:"NotificationButton",props:{unseenCount:{}},emits:["show"],setup(n){const e=n,o=x(()=>e.unseenCount>99?"99+":e.unseenCount);return(t,a)=>{const c=k("CommonIcon"),r=k("CommonLabel");return i(),h(D,null,[S("button",ve(t.$attrs,{"aria-label":t.$t("Show notifications"),class:"flex h-9 w-9 items-center justify-center rounded-full outline-blue-800 focus-visible:outline",onClick:a[0]||(a[0]=l=>t.$emit("show",l))}),[d(c,{name:"logo",class:"z-10 block h-full w-full"})],16,ia),t.unseenCount>0?(i(),v(r,{key:0,size:"xs",class:"pointer-events-none absolute -bottom-[3px] z-20 block rounded-full border-2 border-white bg-pink-500 px-1 py-0.5 text-center font-bold text-white! ltr:left-[54%] rtl:right-[54%] dark:border-gray-500","aria-label":t.$t("Unseen notifications count"),role:"status"},{default:b(()=>[A(U(o.value),1)]),_:1},8,["aria-label"])):V("",!0)],64)}}}),la={class:"flex items-center justify-between gap-4 rounded-t-xl"},ca=w({__name:"NotificationHeader",props:{hasUnseenNotification:{type:Boolean}},emits:["mark-all"],setup(n){return(e,o)=>{const t=k("CommonLabel");return i(),h("header",la,[d(t,{size:"small",class:"dark:text-neutral-500",tag:"h3"},{default:b(()=>[A(U(e.$t("Notifications")),1)]),_:1}),e.hasUnseenNotification?(i(),v(F,{key:0,"prefix-icon":"lightning",onClick:o[0]||(o[0]=a=>e.$emit("mark-all"))},{default:b(()=>[A(U(e.$t("mark all as read")),1)]),_:1})):V("",!0)])}}}),ua={class:"group flex items-center justify-between gap-3"},da=w({__name:"NotificationItem",props:{notification:{}},emits:["seen","remove"],setup(n,{emit:e}){const o=n,t=e,{link:a,builder:c,message:r}=Ne(se(o,"notification")),l=u=>{a&&t("seen",u)};return(u,m)=>{const R=k("CommonIcon"),O=k("CommonLabel"),g=k("CommonDateTime");return i(),h("li",null,[S("div",ua,[s(c)?(i(),v(Q(s(a)?"CommonLink":"div"),{key:0,class:C(["group/link grid grid-cols-[1fr_auto] grid-rows-[auto_auto] gap-x-2 hover:no-underline!",{"opacity-30":u.notification.seen}]),link:`/${s(a)}`,onClick:m[0]||(m[0]=L=>l(u.notification))},{default:b(()=>[u.notification.createdBy?(i(),v(we,{key:0,entity:u.notification.createdBy,size:"small",class:"col-start-1 row-span-2","no-indicator":""},null,8,["entity"])):(i(),v(R,{key:1,class:"col-start-1 row-span-2 m-2.5 self-center text-red-500",size:"xs",role:"presentation",name:"x-lg"})),d(O,{id:`notification-${u.notification.id}`,tag:"p",class:C(["inline! text-lg leading-5 text-black dark:text-white",{"group-hover/link:underline":u.notification.createdBy}]),innerHTML:s(Ze)(s(r))},null,8,["id","class","innerHTML"]),d(g,{class:"row-2 col-start-2 text-xs text-gray-100 dark:text-neutral-500","date-time":u.notification.createdAt,type:"relative"},null,8,["date-time"])]),_:1},8,["class","link"])):V("",!0),d(F,{"aria-labelledby":`notification-${u.notification.id}`,"aria-description":u.$t("Remove Notification"),class:"opacity-0 group-hover:opacity-100 focus-visible:opacity-100",icon:"x-lg",variant:"remove",onClick:m[1]||(m[1]=L=>u.$emit("remove",u.notification))},null,8,["aria-labelledby","aria-description"])])])}}}),ma={class:"space-y-2 px-3 pb-3"},pa={key:0},fa=w({__name:"NotificationList",props:{list:{}},emits:["seen","remove"],setup(n){return(e,o)=>{var a;const t=k("CommonLabel");return i(),h("ol",ma,[((a=e.list)==null?void 0:a.length)===0?(i(),h("li",pa,[d(t,null,{default:b(()=>[A(U(e.$t("No unread notifications.")),1)]),_:1})])):(i(!0),h(D,{key:1},B(e.list,c=>(i(),v(da,{key:c.id,notification:c,onSeen:o[0]||(o[0]=r=>e.$emit("seen",r)),onRemove:o[1]||(o[1]=r=>e.$emit("remove",r))},null,8,["notification"]))),128))])}}}),ba={ref:"section",class:"scroll max-h-full w-[400px] overflow-y-auto"},va=w({__name:"NotificationPopover",props:{notificationList:{},loading:{type:Boolean},hasUnseenNotification:{type:Boolean}},emits:["refetch","close"],setup(n,{emit:e}){const o=n,t=e;let a=!1;const{notificationsCountSubscription:c}=Ue();c.watchOnResult(()=>{a||t("refetch"),a=!1});const r=j("section"),{reachedTop:l,isScrollable:u}=Ct(r),{seenNotification:m,markAllRead:R,deleteNotification:O}=vt(),g=async _=>{var T;return a=!0,t("close"),m((T=_.metaObject)==null?void 0:T.id).then(()=>{a=!1})},L=async _=>O(_.id),$=async()=>{a=!0;const _=o.notificationList.map(T=>T.id);return R(_).then(()=>{a=!1})};return(_,T)=>(i(),h("section",ba,[d(ca,{class:C(["sticky top-0 z-10 mb-2 bg-neutral-50 px-3 py-3 dark:bg-gray-500",{"border-b border-b-neutral-300 dark:border-b-gray-900":!s(l)}]),"has-unseen-notification":_.hasUnseenNotification,onMarkAll:$},null,8,["class","has-unseen-notification"]),d(Ie,{loading:_.loading},{default:b(()=>[d(fa,{class:C({"ltr:pr-5 rtl:pl-5":s(u)}),list:_.notificationList,onSeen:g,onRemove:L},null,8,["class","list"])]),_:1},8,["loading"])],512))}}),ha=["aria-label"],_a=w({__name:"OnlineNotification",setup(n){const{unseenCount:e}=Ue(),{popover:o,popoverTarget:t,toggle:a,close:c}=ce(),{play:r,isEnabled:l}=oa(),{notificationPermission:u,isGranted:m,requestNotification:R}=aa(),{show:O,isSupported:g}=je(),{notificationList:L,loading:$,hasUnseenNotification:_,refetch:T}=sa(),M=he(e,(z,f)=>{if(!g.value)return M.stop();if(!m.value&&z>f)return;const q=L.value.at(-1);if(!q)return;const{message:N}=Ne(J(q)),E=et(N);O({title:E,icon:"/assets/images/logo.svg",tag:q.id,silent:!0})});return X(e,(z,f)=>{!l.value||!f||z>f&&m.value&&r()},{flush:"post"}),Qe(()=>{l.value&&!u.value&&R()}),(z,f)=>(i(),h("div",{id:"app-online-notification",ref_key:"popoverTarget",ref:t,"aria-label":z.$t("Notifications"),class:"relative"},[d(ra,{"unseen-count":s(e),onShow:f[0]||(f[0]=q=>s(a)(!0))},null,8,["unseen-count"]),d(ue,{ref_key:"popover",ref:o,orientation:"right",owner:s(t)},{default:b(()=>[d(va,{"unseen-count":s(e),loading:s($),"has-unseen-notification":s(_),"notification-list":s(L),onRefetch:s(T),onClose:s(c)},null,8,["unseen-count","loading","has-unseen-notification","notification-list","onRefetch","onClose"])]),_:1},8,["owner"])],8,ha))}}),ka={class:"flex items-center gap-3"},ga=w({__name:"QuickSearchInput",props:{modelValue:{},modelModifiers:{},"search-active":{type:Boolean,default:!1},"search-activeModifiers":{}},emits:["update:modelValue","update:search-active"],setup(n){const e=ne(n,"modelValue"),o=ne(n,"search-active"),t=j("input-search"),a=()=>{var r;e.value="",o.value=!1,(r=t.value)==null||r.blur()},c=r=>{r.code==="Escape"&&a()};return X(o,r=>r?window.addEventListener("keydown",c):window.removeEventListener("keydown",c)),He(()=>{window.removeEventListener("keydown",c)}),Z.on("focus-quick-search-field",()=>{var r;return(r=t.value)==null?void 0:r.focus()}),Z.on("reset-quick-search-field",()=>a()),(r,l)=>(i(),h("div",ka,[d(mt,{ref:"input-search",modelValue:e.value,"onUpdate:modelValue":l[0]||(l[0]=u=>e.value=u),"wrapper-class":"rounded-lg bg-blue-200 px-2.5 py-2 outline-offset-1 outline-blue-800 focus-within:outline dark:bg-gray-700",onFocusInput:l[1]||(l[1]=u=>o.value=!0)},null,8,["modelValue"]),o.value?(i(),v(F,{key:0,"aria-label":r.$t("Reset Search"),icon:"x-lg",variant:"neutral",onClick:a},null,8,["aria-label"])):V("",!0)]))}}),ya=w({__name:"LeftSidebarHeader",props:Ke({collapsed:{type:Boolean}},{search:{required:!0},searchModifiers:{},"search-active":{type:Boolean,default:!1},"search-activeModifiers":{}}),emits:["update:search","update:search-active"],setup(n){const e=ne(n,"search"),o=ne(n,"search-active");return(t,a)=>(i(),h("header",{class:C(["flex gap-2 rounded-t-lg",{"justify-center":t.collapsed}])},[t.collapsed?V("",!0):(i(),v(ga,{key:0,modelValue:e.value,"onUpdate:modelValue":a[0]||(a[0]=c=>e.value=c),"search-active":o.value,"onUpdate:searchActive":a[1]||(a[1]=c=>o.value=c),class:"grow"},null,8,["modelValue","search-active"])),P(d(_a,{class:C({"ltr:ml-auto rtl:mr-auto":!t.collapsed})},null,8,["class"]),[[Y,!o.value]])],2))}}),Ca=Object.assign({"../../pages/authentication/routes.ts":nt,"../../pages/dashboard/routes.ts":ot,"../../pages/guided-setup/routes.ts":st,"../../pages/personal-setting/routes.ts":it,"../../pages/ticket-overviews/routes.ts":rt,"../../pages/ticket/routes.ts":lt}),wa=Object.values(Ca),Oe=[];let Me=0;wa.forEach(n=>{if(Array.isArray(n)){Me+=n.filter(t=>{var a;return(a=t.meta)==null?void 0:a.permanentItem}).length;const e=n.filter(t=>{var a;return((a=t.meta)==null?void 0:a.level)===1});if(!(e!=null&&e.length))return;const o=e.map(t=>({path:t.path,name:t.name,meta:t.meta}));Oe.push(...o)}});const $a=Oe.sort((n,e)=>n.meta.order-e.meta.order),Ta=Me,La={class:"py-2"},Sa=["aria-labelledby"],xa={class:"m-0 flex basis-full flex-col gap-1 p-0"},Ia={class:"flex justify-center"},Ra=w({__name:"PageNavigation",props:{collapsed:{type:Boolean}},setup(n){const e=_e(),{userId:o}=K(),t=()=>{Z.emit("expand-collapsed-content",`${o}-left`),ke(()=>Z.emit("focus-quick-search-field"))};return(a,c)=>{const r=k("CommonLabel"),l=k("CommonLink");return i(),h("div",La,[d(ee,{id:"page-navigation",title:a.__("Navigation"),"no-header":a.collapsed},{default:b(({headerId:u})=>[S("nav",{"aria-labelledby":u},[S("ul",xa,[S("li",Ia,[a.collapsed?(i(),v(F,{key:0,class:"flex-shrink-0 text-neutral-400 hover:outline-blue-900",size:"large",variant:"neutral","aria-label":a.$t("Open quick search"),icon:"search",onClick:t},null,8,["aria-label"])):V("",!0)]),(i(!0),h(D,null,B(s($a),m=>(i(),h("li",{key:m.path,class:"flex justify-center"},[a.collapsed?(i(),v(F,{key:0,class:"flex-shrink-0 text-neutral-400 hover:outline-blue-900",size:"large",variant:"neutral",icon:m.meta.icon,onClick:R=>s(e).push(m.path.replace(/:\w+/,""))},null,8,["icon","onClick"])):(i(),v(l,{key:1,class:C(["flex grow gap-2 rounded-md px-2 py-3 text-neutral-400 hover:bg-blue-900 hover:text-white! hover:no-underline!",{"bg-blue-800! text-white!":s(e).currentRoute.value.name===m.name}]),link:m.path.replace(/\/:\w+/,""),"exact-active-class":"bg-blue-800! w-full text-white!",internal:""},{default:b(()=>[d(r,{class:"gap-2 text-sm! text-current!",size:"large","prefix-icon":m.meta.icon},{default:b(()=>[A(U(a.$t(m.meta.title)),1)]),_:2},1032,["prefix-icon"])]),_:2},1032,["class","link"]))]))),128))])],8,Sa)]),_:1},8,["title","no-header"])])}}}),za=te`
    query quickSearch($search: String!, $limit: Int = 10) {
  quickSearchOrganizations: search(
    search: $search
    onlyIn: Organization
    limit: $limit
  ) {
    totalCount
    items {
      ... on Organization {
        id
        internalId
        name
        active
      }
    }
  }
  quickSearchTickets: search(search: $search, onlyIn: Ticket, limit: $limit) {
    totalCount
    items {
      ... on Ticket {
        id
        internalId
        title
        number
        state {
          id
          name
        }
        stateColorCode
      }
    }
  }
  quickSearchUsers: search(search: $search, onlyIn: User, limit: $limit) {
    totalCount
    items {
      ... on User {
        id
        internalId
        fullname
        active
      }
    }
  }
}
    `;function Na(n,e={}){return ht(za,n,e)}const De=()=>({resetQuickSearchInputField:()=>{Z.emit("reset-quick-search-field")}}),Ua=w({__name:"Organization",props:{item:{},mode:{}},setup(n){const e=n,o=x(()=>!e.item.active);return(t,a)=>{const c=k("CommonIcon"),r=k("CommonLabel"),l=k("CommonLink");return i(),v(l,{class:"group/item flex grow gap-2 rounded-md px-2 py-3 text-neutral-400 hover:bg-blue-900 hover:no-underline!",link:`/organizations/${t.item.internalId}`,"aria-description":o.value?t.$t("Organization is inactive."):void 0,internal:""},{default:b(()=>[d(c,{class:"shrink-0 text-neutral-500",name:o.value?"buildings-slash":"buildings",size:"small",decorative:""},null,8,["name"]),d(r,{class:C(["block! truncate group-hover/item:text-white",{"text-neutral-500! group-hover/item:text-white!":o.value}])},{default:b(()=>[A(U(t.item.name),1)]),_:1},8,["class"])]),_:1},8,["link","aria-description"])}}}),Va={name:"Organization",component:Ua,priority:300,searchResultKey:"quickSearchOrganizations",searchResultLabel:__("Found organizations")},Aa=w({__name:"Ticket",props:{item:{},mode:{}},setup(n){const e=n,o=x(()=>e.mode==="recently-viewed"?e.item.title:`#${e.item.number} - ${e.item.title}`);return(t,a)=>{const c=k("CommonLabel"),r=k("CommonLink");return i(),v(r,{class:"group/item flex grow gap-2 rounded-md px-2 py-3 hover:bg-blue-900 hover:no-underline!",link:`/tickets/${t.item.internalId}`,internal:""},{default:b(()=>[d(pt,{class:"shrink-0","icon-size":"small","color-code":t.item.stateColorCode,label:t.item.state.name},null,8,["color-code","label"]),d(c,{class:"block! truncate group-hover/item:text-white"},{default:b(()=>[A(U(o.value),1)]),_:1})]),_:1},8,["link"])}}}),Ea={name:"Ticket",component:Aa,priority:100,searchResultKey:"quickSearchTickets",searchResultLabel:__("Found tickets")},Oa=w({__name:"User",props:{item:{},mode:{}},setup(n){const e=n,o=x(()=>{var t;return!((t=e.item)!=null&&t.active)});return(t,a)=>{const c=k("CommonIcon"),r=k("CommonLabel"),l=k("CommonLink");return i(),v(l,{class:"group/item flex grow gap-2 rounded-md px-2 py-3 text-neutral-400 hover:bg-blue-900 hover:no-underline!",link:`/users/${t.item.internalId}`,"aria-description":o.value?t.$t("User is inactive."):void 0,internal:""},{default:b(()=>[d(c,{class:"shrink-0 text-neutral-500",name:o.value?"user-inactive":"person",size:"small",decorative:""},null,8,["name"]),d(r,{class:C(["block! truncate group-hover/item:text-white",{"text-neutral-500! group-hover/item:text-white!":o.value}])},{default:b(()=>[A(U(t.item.fullname),1)]),_:1},8,["class"])]),_:1},8,["link","aria-description"])}}}),Ma={name:"User",component:Oa,priority:200,searchResultKey:"quickSearchUsers",searchResultLabel:__("Found users")},Da=Object.assign({"./organization.ts":Va,"./ticket.ts":Ea,"./user.ts":Ma}),qe=Object.values(Da),qa=qe.sort((n,e)=>n.priority-e.priority),Pa=n=>{var e;return(e=qe.find(o=>o.name===n))==null?void 0:e.component},Ba={key:0,class:"mt-4 flex flex-col gap-8"},Fa={key:1,class:"space-y-1"},ja={class:"flex flex-col"},Qa={class:"space-y-1.5"},Ha=10,Ka=w({__name:"QuickSearchResultList",props:{search:{},debounceTime:{}},setup(n){const e=n,o=se(e,"search"),t=ge(o,e.debounceTime),a=new de(Na(()=>({search:t.value,limit:Ha}),{fetchPolicy:"no-cache"})),c=a.result(),r=a.loading();he(t,()=>{a.load()},{once:!0,immediate:!0});const l=x(()=>{const g=c.value;if(!g)return;const L=[];return qa.forEach($=>{if(!g[$.searchResultKey])return;const _=g[$.searchResultKey];!_||_.totalCount===0||L.push({name:$.name,component:$.component,items:_.items,label:$.searchResultLabel,remainingItemCount:_.totalCount-_.items.length,totalCount:_.totalCount})}),L}),u=x(()=>l.value!==void 0?!1:r.value),{debouncedLoading:m}=$t({isLoading:u,ms:150}),R=x(()=>{var g;return!!((g=l.value)!=null&&g.length)}),{resetQuickSearchInputField:O}=De();return(g,L)=>{const $=k("CommonLabel"),_=k("CommonLink");return s(m)?(i(),h("div",Ba,[(i(),h(D,null,B(2,T=>S("div",{key:T,class:"flex flex-col gap-4"},[(i(),h(D,null,B(3,M=>d(Tt,{key:M,class:C(["block rounded-lg",{"h-5 w-25":M===1,"h-6 w-full":M!==1}]),style:ye({"animation-delay":`${(T*3+M)*.1}s`})},null,8,["class","style"])),64))])),64))])):(i(),h(D,{key:1},[u.value?V("",!0):(i(),v(_,{key:0,class:"group/link mb-4 block",link:"#"},{default:b(()=>[d($,{link:"#",class:"text-blue-800! group-hover/link:underline","prefix-icon":"search-detail",size:"small"},{default:b(()=>[A(U(g.$t("detailed search")),1)]),_:1})]),_:1})),R.value?(i(),h("div",Fa,[(i(!0),h(D,null,B(l.value,(T,M)=>(i(),v(ee,{id:`${T.name}-${M}`,key:`${T.name}-${M}`,"no-collapse":"",title:g.$t(T.label)},{default:b(()=>[S("div",ja,[S("ol",Qa,[(i(!0),h(D,null,B(T.items,z=>(i(),h("li",{key:z.id},[(i(),v(Q(T.component),{item:z,mode:"quick-search-result",onClick:s(O)},null,8,["item","onClick"]))]))),128))]),T.remainingItemCount>0?(i(),v(_,{key:0,class:"group/link my-1.5 ms-auto",link:"#"},{default:b(()=>[d($,{class:"text-blue-800! group-hover/link:underline","prefix-icon":"search-detail",size:"small"},{default:b(()=>[A(U(g.$t("%s more",T.remainingItemCount)),1)]),_:2},1024)]),_:2},1024)):V("",!0)])]),_:2},1032,["id","title"]))),128))])):u.value?V("",!0):(i(),v($,{key:2},{default:b(()=>[A(U(g.$t("No results for this query.")),1)]),_:1}))],64))}}}),Ga=10,Wa=()=>{const{userId:n}=K(),e=Ge(`${n}-recentSearches`,[]);return{recentSearches:e,addSearch:c=>{e.value=e.value.filter(r=>r!==c),e.value.push(c),e.value.length>Ga&&e.value.shift()},removeSearch:c=>{e.value=e.value.filter(r=>r!==c)},clearSearches:()=>{e.value=[]}}},Ya=te`
    mutation userCurrentRecentViewReset {
  userCurrentRecentViewReset {
    success
  }
}
    `;function Ja(n={}){return Ve(Ya,n)}const Xa=te`
    query userCurrentRecentViewList($limit: Int) {
  userCurrentRecentViewList(limit: $limit) {
    ... on Ticket {
      id
      internalId
      title
      number
      state {
        id
        name
      }
      priority {
        id
        name
        defaultCreate
        uiColor
      }
      stateColorCode
    }
    ... on User {
      id
      internalId
      fullname
      active
    }
    ... on Organization {
      id
      internalId
      name
      active
    }
  }
}
    `;function Za(n={},e={}){return _t(Xa,n,e)}const en=te`
    subscription userCurrentRecentViewUpdates {
  userCurrentRecentViewUpdates {
    recentViewsUpdated
  }
}
    `;function tn(n={}){return kt(en,{},n)}const an={class:"overflow-x-hidden overflow-y-auto px-3 py-2.5 outline-none"},nn=["aria-labelledby"],on={class:"m-0 flex flex-col gap-1 p-0"},sn={class:"mt-2 mb-1 flex justify-end"},rn=["aria-labelledby"],ln={class:"m-0 flex flex-col gap-1 p-0"},cn={class:"mt-2 mb-1 flex justify-end"},be=400,un=w({__name:"QuickSearch",props:{collapsed:{type:Boolean},search:{}},setup(n){const e=n,o=x(()=>{var f;return((f=e.search)==null?void 0:f.length)>0}),t=ge(o,be),{isTouchDevice:a}=$e(),{recentSearches:c,clearSearches:r,removeSearch:l}=Wa(),u=new de(Za({limit:10})),m=u.result(),R=x(()=>{var f;return((f=m.value)==null?void 0:f.userCurrentRecentViewList)??[]});new gt(tn()).onResult(({data:f})=>{f!=null&&f.userCurrentRecentViewUpdates&&u.refetch()});const{waitForConfirmation:g}=Te(),{notify:L}=yt(),$=async f=>{await g(__("Are you sure? This recent search will get lost."),{fullscreen:!0})&&(l(f),L({id:"recent-search-removed",type:le.Success,message:__("Recent search was removed successfully.")}))},_=async()=>{await g(__("Are you sure? Your recent searches will get lost."),{fullscreen:!0})&&(r(),L({id:"recent-searches-cleared",type:le.Success,message:__("Recent searches were cleared successfully.")}))},T=new Ae(Ja()),M=async()=>{await g(__("Are you sure? Your recently viewed items will get lost."),{fullscreen:!0})&&T.send().then(()=>{L({id:"recent-viewed-cleared",type:le.Success,message:__("Recently viewed items were cleared successfully.")})})},{resetQuickSearchInputField:z}=De();return(f,q)=>{const N=k("CommonIcon"),E=k("CommonLabel"),G=k("CommonLink");return i(),h("div",an,[s(t)&&o.value?(i(),v(Ka,{key:0,search:f.search,"debounce-time":be},null,8,["search"])):s(c).length>0||R.value.length>0?(i(),h(D,{key:1},[s(c).length>0?(i(),v(ee,{key:0,id:"page-recent-searches",title:f.__("Recent searches"),"no-header":f.collapsed,"no-collapse":""},{default:b(({headerId:W})=>[S("nav",{"aria-labelledby":W},[S("ul",on,[(i(!0),h(D,null,B(s(c),p=>(i(),h("li",{key:p,class:"group/recent-search flex justify-center"},[d(G,{class:"relative flex grow items-center gap-2 rounded-md px-2 py-3 text-neutral-400 hover:bg-blue-900 hover:no-underline!",link:`/search/${p}`,"exact-active-class":"bg-blue-800! w-full text-white!",internal:"",onClick:s(z)},{default:b(()=>[d(N,{name:"search",size:"tiny"}),d(E,{class:"gap-2 text-white!"},{default:b(()=>[A(U(p),1)]),_:2},1024),d(F,{"aria-label":f.$t("Delete this recent search"),class:C([{"opacity-0 transition-opacity":!s(a)},"absolute end-2 top-3 justify-end group-hover/recent-search:opacity-100 focus:opacity-100"]),icon:"x-lg",size:"small",variant:"remove",onClick:Ce(y=>$(p),["stop","prevent"])},null,8,["aria-label","class","onClick"])]),_:2},1032,["link","onClick"])]))),128))]),S("div",sn,[d(G,{link:"#",size:"small",onClick:_},{default:b(()=>[A(U(f.$t("Clear recent searches")),1)]),_:1})])],8,nn)]),_:1},8,["title","no-header"])):V("",!0),R.value.length>0?(i(),v(ee,{key:1,id:"page-recently-viewed",title:f.__("Recently viewed"),"no-header":f.collapsed,"no-collapse":""},{default:b(({headerId:W})=>[S("nav",{"aria-labelledby":W},[S("ul",ln,[(i(!0),h(D,null,B(R.value,p=>(i(),h("li",{key:p.id,class:"relative"},[(i(),v(Q(s(Pa)(p.__typename)),{item:p,mode:"recently-viewed",onClick:s(z)},null,8,["item","onClick"]))]))),128))]),S("div",cn,[d(G,{link:"#",size:"small",onClick:M},{default:b(()=>[A(U(f.$t("Clear recently viewed")),1)]),_:1})])],8,rn)]),_:1},8,["title","no-header"])):V("",!0)],64)):(i(),v(E,{key:2},{default:b(()=>[A(U(f.$t("Start typing i.e. the name of a ticket, an organization or a user.")),1)]),_:1}))])}}}),dn=te`
    mutation userCurrentTaskbarItemListPrio($list: [UserTaskbarItemListPrioInput!]!) {
  userCurrentTaskbarItemListPrio(list: $list) {
    success
    errors {
      ...errors
    }
  }
}
    ${tt}`;function mn(n={}){return Ve(dn,n)}const pn=w({__name:"UserTaskbarTabForbidden",props:{taskbarTab:{},taskbarTabLink:{},context:{}},setup(n){const e=n,{tabLinkInstance:o,taskbarTabActive:t}=Re(se(e,"taskbarTab"));return(a,c)=>{const r=k("CommonIcon"),l=k("CommonLabel"),u=k("CommonLink"),m=oe("tooltip");return a.taskbarTabLink?P((i(),v(u,{key:0,ref_key:"tabLinkInstance",ref:o,class:C(["flex grow gap-2 rounded-md px-2 py-3 group-hover/tab:bg-blue-600 hover:no-underline! focus-visible:rounded-md focus-visible:outline-hidden group-hover/tab:dark:bg-blue-900",{"!bg-blue-800 text-white":s(t)}]),link:a.taskbarTabLink,internal:""},{default:b(()=>[d(r,{name:"x-lg",size:"small",class:"shrink-0 text-red-500",decorative:""}),d(l,{class:C(["block! truncate text-gray-300 group-hover/tab:text-white group-focus-visible/link:text-white dark:text-neutral-400",{"text-white!":s(t)}])},{default:b(()=>[A(U(a.$t("Access denied")),1)]),_:1},8,["class"])]),_:1},8,["class","link"])),[[m,a.$t("You have insufficient rights to view this object.")]]):V("",!0)}}}),fn=w({__name:"UserTaskbarTabNotFound",props:{taskbarTab:{},taskbarTabLink:{},context:{}},setup(n){const e=n,{tabLinkInstance:o,taskbarTabActive:t}=Re(se(e,"taskbarTab"));return(a,c)=>{const r=k("CommonIcon"),l=k("CommonLabel"),u=k("CommonLink"),m=oe("tooltip");return a.taskbarTabLink?P((i(),v(u,{key:0,ref_key:"tabLinkInstance",ref:o,class:C(["flex grow gap-2 rounded-md px-2 py-3 group-hover/tab:bg-blue-600 hover:no-underline! focus-visible:rounded-md focus-visible:outline-hidden group-hover/tab:dark:bg-blue-900",{"!bg-blue-800 text-white":s(t)}]),link:a.taskbarTabLink,internal:""},{default:b(()=>[d(r,{name:"x-lg",size:"small",class:"shrink-0 text-red-500",decorative:""}),d(l,{class:C(["block! truncate text-gray-300 group-hover/tab:text-white group-focus-visible/link:text-white dark:text-neutral-400",{"text-white!":s(t)}])},{default:b(()=>[A(U(a.$t("Not found")),1)]),_:1},8,["class"])]),_:1},8,["class","link"])),[[m,a.$t("This object could not be found.")]]):V("",!0)}}}),bn=Le(fn,[["__scopeId","data-v-6daec732"]]),vn=w({__name:"UserTaskbarTabRemove",props:{taskbarTab:{},dirty:{type:Boolean},plugin:{}},setup(n){const e=n,o=ze(),{activeTaskbarTabEntityKey:t}=H(o),{isTouchDevice:a}=$e(),c=_e(),r=async()=>{var l,u;if(e.taskbarTab.taskbarTabId){if((l=e.plugin)!=null&&l.confirmTabRemove){if(e.dirty&&e.taskbarTab.tabEntityKey!==t.value&&typeof((u=e.plugin)==null?void 0:u.buildTaskbarTabLink)=="function"){const m=e.plugin.buildTaskbarTabLink(e.taskbarTab.entity,e.taskbarTab.tabEntityKey);m&&await c.push(m)}if(e.dirty){const{waitForVariantConfirmation:m}=Te();if(!await m("unsaved",void 0,`ticket-unsaved-${e.taskbarTab.tabEntityKey}`))return}}o.deleteTaskbarTab(e.taskbarTab.taskbarTabId)}};return(l,u)=>{const m=oe("tooltip");return e.taskbarTab.taskbarTabId?P((i(),v(F,{key:0,class:C([{"opacity-0 transition-opacity":!s(a)},"absolute end-2 top-3 group-hover/tab:opacity-100 focus:opacity-100"]),icon:"x-lg",size:"small",variant:"remove",onClick:Ce(r,["stop"])},null,8,["class"])),[[m,l.$t("Close this tab")]]):V("",!0)}}}),hn=Le(vn,[["__scopeId","data-v-112ab821"]]),_n={key:0,class:"-m-1 flex flex-col overflow-y-hidden py-2"},kn={key:0,class:"flex justify-center"},gn={id:"taskbarTabListCollapsed",ref:"taskbar-tab-list"},yn={id:"drag-and-drop-taskbar-tabs",class:"sr-only"},Cn={id:"taskbarTabListExpanded",ref:"taskbar-tab-list"},wn={id:"taskbarTabListHidden",class:"hidden","aria-hidden":"true"},$n=["draggable","aria-describedby"],Tn=w({__name:"UserTaskbarTabs",props:{collapsed:{type:Boolean}},setup(n){const e=n,o=ze(),{taskbarTabListByTabEntityKey:t,taskbarTabListOrder:a,hasTaskbarTabs:c,taskbarTabContexts:r,loading:l}=H(o),{getTaskbarTabTypePlugin:u}=o,m=p=>{p.querySelectorAll(".draggable:not(.dragging-active)").forEach(I=>{I.classList.remove("group/tab"),I.classList.add("no-tooltip")})},R=new Ae(mn()),O=p=>{const y=p==null?void 0:p.map((I,ae)=>({id:t.value[I].taskbarTabId,prio:ae+1})).filter(I=>I.id);y!=null&&y.length&&R.send({list:y})},g=p=>{const y=It.get(p);y&&O(y.getValues(p)),p.querySelectorAll(".draggable:not(.dragging-active)").forEach(ae=>{ae.classList.add("group/tab"),ae.classList.remove("no-tooltip")}),setTimeout(()=>{p.classList.add("pointer-events-none"),requestAnimationFrame(()=>{p.classList.remove("pointer-events-none")})},0)},L=j("dnd-parent"),$=J(a.value||[]);X(a,p=>{$.value=zt(p||[])}),Lt({parent:L,values:$,plugins:[Rt(m,g),St()],dropZoneClass:"opacity-0 no-tooltip dragging-active",touchDropZoneClass:"opacity-0 no-tooltip dragging-active",draggingClass:"dragging-active"}),X(()=>e.collapsed,p=>{L.value&&xt(L.value,{disabled:p})});const _=p=>{const y=t.value[p];if(y){if(!y.entityAccess||y.entityAccess===re.Granted)return u(y.type).component;if(y.entityAccess===re.Forbidden)return pn;if(y.entityAccess===re.NotFound)return bn}},T=p=>{const y=t.value[p];if(!y)return;const I=u(y.type);if(typeof I.buildTaskbarTabLink=="function")return I.buildTaskbarTabLink(y.entity,y.tabEntityKey)??"#"},{popover:M,popoverTarget:z,toggle:f,isOpen:q}=ce(),N=j("taskbar-tab-list"),E=We(()=>N.value?ke(()=>e.collapsed?"#taskbarTabListCollapsed":"#taskbarTabListExpanded"):"#taskbarTabListHidden","#taskbarTabListHidden"),G=p=>{if(N.value)return r.value[p]},W=p=>{var y;if(N.value)return((y=r.value[p])==null?void 0:y.formIsDirty)??t.value[p].dirty};return(p,y)=>(i(),v(Ie,{"no-transition":"",loading:s(l)},{default:b(()=>[s(c)?(i(),h("div",_n,[e.collapsed?(i(),h("div",kn,[d(ue,{id:"user-taskbar-tabs-popover",ref_key:"popover",ref:M,class:"max-w-64 min-w-52",owner:s(z),orientation:"autoHorizontal",placement:"start","hide-arrow":"",persistent:""},{default:b(()=>[S("div",gn,null,512)]),_:1},8,["owner"]),d(F,{id:"user-taskbar-tabs-popover-button",ref_key:"popoverTarget",ref:z,class:C(["text-neutral-400 hover:outline-blue-900",{"!bg-blue-800 !text-white":s(q)}]),icon:"card-list",size:"large",variant:"neutral","aria-controls":s(q)?"user-taskbar-tabs-popover":void 0,"aria-haspopup":"true","aria-expanded":s(q),"aria-label":p.$t("List of all user taskbar tabs"),onClick:y[0]||(y[0]=I=>s(f)(!0))},null,8,["aria-controls","aria-expanded","aria-label","class"])])):(i(),v(ee,{key:1,id:"user-taskbar-tabs",title:p.__("Tabs"),"no-negative-margin":"",scrollable:""},{default:b(()=>[S("span",yn,U(p.$t("Drag and drop to reorder your tabs.")),1),S("div",Cn,null,512)]),_:1},8,["title"])),S("div",wn,[(i(),v(Ye,{to:s(E),defer:""},[S("ul",{ref:"dnd-parent",class:C({"flex flex-col gap-1.5 overflow-y-auto p-1":!p.collapsed})},[(i(!0),h(D,null,B($.value,I=>(i(),h("li",{key:I,class:C(["group/tab relative",{draggable:!p.collapsed}]),draggable:p.collapsed?void 0:"true","aria-describedby":p.collapsed?void 0:"drag-and-drop-taskbar-tabs"},[(i(),v(Q(_(I)),{context:G(I),"taskbar-tab":s(t)[I],"taskbar-tab-link":T(I),class:C({"group/link rounded-none group-first/tab:rounded-t-[10px] group-last/tab:rounded-b-[10px] focus-visible:bg-blue-800 focus-visible:outline-0":p.collapsed,"active:cursor-grabbing":!p.collapsed})},null,8,["context","taskbar-tab","taskbar-tab-link","class"])),d(hn,{"taskbar-tab":s(t)[I],dirty:W(I),plugin:s(u)(s(t)[I].type)},null,8,["taskbar-tab","dirty","plugin"])],10,$n))),128))],2)],8,["to"]))])])):V("",!0)]),_:1},8,["loading"]))}}),Ln={class:"flex h-full flex-col","data-theme":"dark",style:{"color-scheme":"dark"}},Sn={id:"main-content",class:"relative"},mo=w({__name:"LayoutPage",setup(n){const{config:e}=H(Se()),o=J(!1),t=j("layout-sidebar"),a=J(!1),c=J(""),{deactivateTabTrap:r,activateTabTrap:l}=at(Je(t),!0);X(a,z=>z?l():r());const{userId:u}=K(),m=`${u}-left`,{currentSidebarWidth:R,maxSidebarWidth:O,minSidebarWidth:g,gridColumns:L,collapseSidebar:$,resizeSidebar:_,expandSidebar:T,resetSidebarWidth:M}=Nt(m);return(z,f)=>{const q=k("RouterView");return i(),h("div",{class:C(["grid h-full max-h-full overflow-y-clip duration-100",{"transition-none":o.value}]),style:ye(s(L))},[d(wt,{id:"main-sidebar",ref:"layout-sidebar",name:m,"aria-label":z.$t("Main sidebar"),"current-width":s(R),"max-width":s(O),"min-width":s(g),classes:{collapseButton:"z-60",resizeLine:"z-60"},collapsible:!a.value,resizable:"","no-scroll":"","no-padding":a.value,"remember-collapse":"",onCollapse:s($),onExpand:s(T),onResizeHorizontal:s(_),onResizeHorizontalStart:f[2]||(f[2]=N=>o.value=!0),onResizeHorizontalEnd:f[3]||(f[3]=N=>o.value=!1),onResetWidth:s(M)},{default:b(({isCollapsed:N})=>[S("div",Ln,[d(ya,{search:c.value,"onUpdate:search":f[0]||(f[0]=E=>c.value=E),"search-active":a.value,"onUpdate:searchActive":f[1]||(f[1]=E=>a.value=E),class:C(["mb-2",{"px-3 pt-2.5":a.value}]),collapsed:N},null,8,["search","search-active","class","collapsed"]),P(d(un,{search:c.value,collapsed:N},null,8,["search","collapsed"]),[[Y,a.value]]),P(d(Ra,{collapsed:N},null,8,["collapsed"]),[[Y,!a.value]]),P(d(Tn,{collapsed:N},null,8,["collapsed"]),[[Y,!a.value]]),P(d(ta,{collapsed:N,class:"mt-auto"},null,8,["collapsed"]),[[Y,!a.value]])])]),_:1},8,["aria-label","current-width","max-width","min-width","collapsible","no-padding","onCollapse","onExpand","onResizeHorizontal","onResetWidth"]),S("div",Sn,[d(q,null,{default:b(({Component:N,route:E})=>[(i(),v(me,{exclude:["ErrorTab"],max:s(e).ui_task_mananger_max_task_count},[E.meta.permanentItem?V("",!0):(i(),v(Q(N),{key:E.path}))],1032,["max"])),(i(),v(me,{max:s(Ta)},[E.meta.permanentItem?(i(),v(Q(N),{key:E.meta.pageKey||E.path})):V("",!0)],1032,["max"]))]),_:1})])],6)}}});export{mo as default};
//# sourceMappingURL=LayoutPage-Bcm2ry0w.js.map
