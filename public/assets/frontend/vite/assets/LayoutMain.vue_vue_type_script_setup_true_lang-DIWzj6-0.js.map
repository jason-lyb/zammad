{"version":3,"file":"LayoutMain.vue_vue_type_script_setup_true_lang-DIWzj6-0.js","sources":["../../../../../app/frontend/apps/desktop/composables/useScrollPosition.ts","../../../../../app/frontend/apps/desktop/components/layout/LayoutMain.vue"],"sourcesContent":["// Copyright (C) 2012-2025 Zammad Foundation, https://zammad-foundation.org/\n\nimport { onActivated, ref, type ShallowRef } from 'vue'\nimport { onBeforeRouteLeave, onBeforeRouteUpdate } from 'vue-router'\n\nexport const useScrollPosition = (\n  scrollContainer?: ShallowRef<HTMLElement | null>,\n) => {\n  const scrollPosition = ref<number>()\n\n  const storeScrollPosition = () => {\n    if (!scrollContainer?.value) return\n    scrollPosition.value = scrollContainer.value?.scrollTop\n  }\n\n  const restoreScrollPosition = () => {\n    if (!scrollContainer?.value || scrollPosition.value === undefined) return\n    scrollContainer.value.scrollTop = scrollPosition.value\n  }\n\n  onActivated(restoreScrollPosition)\n  onBeforeRouteLeave(storeScrollPosition)\n  onBeforeRouteUpdate(storeScrollPosition)\n\n  return {\n    scrollPosition,\n    storeScrollPosition,\n    restoreScrollPosition,\n  }\n}\n","<!-- Copyright (C) 2012-2025 Zammad Foundation, https://zammad-foundation.org/ -->\n\n<script setup lang=\"ts\">\nimport { computed, useTemplateRef } from 'vue'\n\nimport { useScrollPosition } from '#desktop/composables/useScrollPosition.ts'\n\nimport type { BackgroundVariant } from './types.ts'\n\nexport interface Props {\n  backgroundVariant?: BackgroundVariant\n  noPadding?: boolean\n  noScrollable?: boolean\n}\n\nconst props = withDefaults(defineProps<Props>(), {\n  backgroundVariant: 'tertiary',\n})\n\nconst scrollContainer = useTemplateRef('scroll-container')\n\n// FIXME: Warning, not reactive! But do we really need that switchable for the same route?\nif (!props.noScrollable) useScrollPosition(scrollContainer)\n\nconst backgroundVariantClasses = computed(() => {\n  switch (props.backgroundVariant) {\n    case 'primary':\n      return 'bg-blue-50 dark:bg-gray-800'\n    case 'tertiary':\n    default:\n      return 'bg-neutral-50 dark:bg-gray-500'\n  }\n})\n</script>\n\n<template>\n  <main\n    ref=\"scroll-container\"\n    class=\"h-full w-full text-gray-100 dark:text-neutral-400\"\n    :class=\"[\n      backgroundVariantClasses,\n      {\n        'p-4': !noPadding,\n        'overflow-y-auto': !noScrollable,\n        'overflow-y-hidden': noScrollable,\n      },\n    ]\"\n  >\n    <slot />\n  </main>\n</template>\n"],"names":["useScrollPosition","scrollContainer","scrollPosition","ref","storeScrollPosition","_a","restoreScrollPosition","onActivated","onBeforeRouteLeave","onBeforeRouteUpdate","props","__props","useTemplateRef","backgroundVariantClasses","computed"],"mappings":"2GAKa,MAAAA,EACXC,GACG,CACH,MAAMC,EAAiBC,IAEjBC,EAAsB,IAAM,OAC3BH,GAAA,MAAAA,EAAiB,QACPC,EAAA,OAAQG,EAAAJ,EAAgB,QAAhB,YAAAI,EAAuB,UAAA,EAG1CC,EAAwB,IAAM,CAC9B,EAACL,GAAA,MAAAA,EAAiB,QAASC,EAAe,QAAU,SACxCD,EAAA,MAAM,UAAYC,EAAe,MAAA,EAGnD,OAAAK,EAAYD,CAAqB,EACjCE,EAAmBJ,CAAmB,EACtCK,EAAoBL,CAAmB,EAEhC,CACL,eAAAF,EACA,oBAAAE,EACA,sBAAAE,CAAA,CAEJ,wICdA,MAAMI,EAAQC,EAIRV,EAAkBW,EAAe,kBAAkB,EAGpDF,EAAM,cAAcV,EAAkBC,CAAe,EAEpD,MAAAY,EAA2BC,EAAS,IAAM,CAC9C,OAAQJ,EAAM,kBAAmB,CAC/B,IAAK,UACI,MAAA,8BACT,IAAK,WACL,QACS,MAAA,gCACX,CAAA,CACD"}