{"version":3,"file":"CommonSectionCollapse.vue_vue_type_script_setup_true_lang-B-hHJAEI.js","sources":["../../../../../app/frontend/apps/desktop/components/CommonSectionCollapse/CommonSectionCollapse.vue"],"sourcesContent":["<!-- Copyright (C) 2012-2025 Zammad Foundation, https://zammad-foundation.org/ -->\n\n<script setup lang=\"ts\">\nimport { computed, watch } from 'vue'\n\nimport CollapseButton from '#desktop/components/CollapseButton/CollapseButton.vue'\nimport { useCollapseHandler } from '#desktop/components/CollapseButton/useCollapseHandler.ts'\nimport { useTransitionCollapse } from '#desktop/composables/useTransitionCollapse.ts'\n\nexport interface Props {\n  id: string\n  title?: string\n  size?: 'small' | 'large'\n  noCollapse?: boolean\n  noNegativeMargin?: boolean\n  noHeader?: boolean\n  scrollable?: boolean\n}\n\nconst props = withDefaults(defineProps<Props>(), {\n  size: 'small',\n})\n\nconst modelValue = defineModel<boolean>({\n  default: false,\n})\n\nconst emit = defineEmits<{\n  collapse: [boolean]\n  expand: [boolean]\n}>()\n\nconst headerId = computed(() => `${props.id}-header`)\n\nconst { toggleCollapse, isCollapsed } = useCollapseHandler(emit)\n\nconst { collapseDuration, collapseEnter, collapseAfterEnter, collapseLeave } =\n  useTransitionCollapse()\n\nwatch(\n  modelValue,\n  (newValue) => {\n    if (isCollapsed.value === newValue) return\n\n    isCollapsed.value = newValue\n  },\n  {\n    immediate: true,\n  },\n)\n\nwatch(\n  isCollapsed,\n  (newValue) => {\n    if (modelValue.value === newValue) return\n\n    modelValue.value = newValue\n  },\n  {\n    immediate: true,\n  },\n)\n</script>\n\n<template>\n  <!--  eslint-disable vuejs-accessibility/no-static-element-interactions-->\n  <div\n    class=\"flex flex-col gap-1\"\n    :class=\"{ 'overflow-y-auto outline-none': scrollable }\"\n  >\n    <header\n      v-if=\"!noHeader\"\n      :id=\"headerId\"\n      class=\"group flex cursor-default items-center justify-between text-stone-200 dark:text-neutral-500\"\n      :class=\"{\n        'cursor-pointer rounded-md focus-within:outline-1 focus-within:outline-offset-1 focus-within:outline-blue-800 hover:bg-blue-600 hover:text-black dark:hover:bg-blue-900 hover:dark:text-white':\n          !noCollapse,\n        'px-1 py-0.5': size === 'small',\n        '-mx-1': size === 'small' && !noNegativeMargin,\n        'px-2 py-2.5': size === 'large',\n        '-mx-2': size === 'large' && !noNegativeMargin,\n      }\"\n      @click=\"!noCollapse && toggleCollapse()\"\n      @keydown.enter=\"!noCollapse && toggleCollapse()\"\n    >\n      <slot name=\"title\">\n        <CommonLabel\n          class=\"grow text-current! select-none\"\n          :size=\"size\"\n          tag=\"h3\"\n        >\n          {{ $t(title) }}\n        </CommonLabel>\n      </slot>\n\n      <CollapseButton\n        v-if=\"!noCollapse\"\n        :collapsed=\"isCollapsed\"\n        :owner-id=\"id\"\n        no-padded\n        class=\"group-hover:text-black! group-hover:opacity-100 focus-visible:bg-transparent focus-visible:text-black dark:group-hover:text-white! dark:focus-visible:text-white\"\n        :class=\"{ 'opacity-100': isCollapsed }\"\n        orientation=\"vertical\"\n        @keydown.enter=\"toggleCollapse()\"\n      />\n    </header>\n    <Transition\n      name=\"collapse\"\n      :duration=\"collapseDuration\"\n      @enter=\"collapseEnter\"\n      @after-enter=\"collapseAfterEnter\"\n      @leave=\"collapseLeave\"\n    >\n      <div\n        v-show=\"!isCollapsed || noHeader\"\n        :id=\"id\"\n        :data-test-id=\"id\"\n        :class=\"{ 'overflow-y-auto outline-none': scrollable }\"\n      >\n        <slot :header-id=\"headerId\" />\n      </div>\n    </Transition>\n  </div>\n</template>\n"],"names":["props","__props","modelValue","_useModel","emit","__emit","headerId","computed","toggleCollapse","isCollapsed","useCollapseHandler","collapseDuration","collapseEnter","collapseAfterEnter","collapseLeave","useTransitionCollapse","watch","newValue"],"mappings":"oqBAmBA,MAAMA,EAAQC,EAIRC,EAAaC,EAElBF,EAAA,YAAA,EAEKG,EAAOC,EAKPC,EAAWC,EAAS,IAAM,GAAGP,EAAM,EAAE,SAAS,EAE9C,CAAE,eAAAQ,EAAgB,YAAAC,CAAY,EAAIC,EAAmBN,CAAI,EAEzD,CAAE,iBAAAO,EAAkB,cAAAC,EAAe,mBAAAC,EAAoB,cAAAC,CAAA,EAC3DC,IAEF,OAAAC,EACEd,EACCe,GAAa,CACRR,EAAY,QAAUQ,IAE1BR,EAAY,MAAQQ,EACtB,EACA,CACE,UAAW,EACb,CAAA,EAGFD,EACEP,EACCQ,GAAa,CACRf,EAAW,QAAUe,IAEzBf,EAAW,MAAQe,EACrB,EACA,CACE,UAAW,EACb,CAAA"}