{"version":3,"file":"LayoutHeader.vue_vue_type_script_setup_true_lang-BeSNC-UK.js","sources":["../../../../../app/frontend/apps/mobile/components/CommonRefetch/CommonRefetch.vue","../../../../../app/frontend/apps/mobile/components/layout/LayoutHeader.vue"],"sourcesContent":["<!-- Copyright (C) 2012-2025 Zammad Foundation, https://zammad-foundation.org/ -->\n\n<script setup lang=\"ts\">\nimport { ref, watch } from 'vue'\n\nconst props = defineProps<{\n  refetch: boolean\n}>()\n\ndefineOptions({ inheritAttrs: false })\n\nconst refetching = ref(false)\n\nlet timeout: number\n\nwatch(\n  () => props.refetch,\n  (status) => {\n    if (status) {\n      timeout = window.setTimeout(() => {\n        refetching.value = true\n      }, 250)\n    } else {\n      window.clearTimeout(timeout)\n      refetching.value = false\n    }\n  },\n)\n</script>\n\n<template>\n  <Transition\n    enter-active-class=\"transition-opacity duration-200\"\n    leave-active-class=\"transition-opacity duration-200\"\n    enter-from-class=\"opacity-0\"\n    leave-to-class=\"opacity-0\"\n  >\n    <div\n      v-if=\"refetching\"\n      v-bind=\"$attrs\"\n      class=\"absolute items-center justify-center\"\n      role=\"status\"\n    >\n      <CommonIcon\n        :label=\"__('Loading content')\"\n        name=\"loading\"\n        animation=\"spin\"\n      />\n    </div>\n    <div v-else v-bind=\"$attrs\">\n      <slot />\n    </div>\n  </Transition>\n</template>\n","<!-- Copyright (C) 2012-2025 Zammad Foundation, https://zammad-foundation.org/ -->\n\n<script setup lang=\"ts\">\nimport { computed, useTemplateRef, useSlots, type SetupContext } from 'vue'\n\nimport CommonBackButton from '#mobile/components/CommonBackButton/CommonBackButton.vue'\nimport CommonButton from '#mobile/components/CommonButton/CommonButton.vue'\nimport type { CommonButtonProps } from '#mobile/components/CommonButton/types.ts'\nimport CommonRefetch from '#mobile/components/CommonRefetch/CommonRefetch.vue'\n\nimport type { RouteLocationRaw } from 'vue-router'\n\nexport interface Props {\n  containerTag?: 'header' | 'div'\n  title?: string\n  titleClass?: string\n  backTitle?: string\n  backIgnore?: string[]\n  backUrl?: RouteLocationRaw\n  backAvoidHomeButton?: boolean\n  defaultAttrs?: Record<string, unknown>\n  refetch?: boolean\n  actionTitle?: string\n  actionHidden?: boolean\n  actionButtonProps?: CommonButtonProps\n\n  onAction?(): void\n}\n\nconst headerElement = useTemplateRef<HTMLElement>('header')\n\ndefineExpose({\n  headerElement,\n})\n\nconst props = withDefaults(defineProps<Props>(), {\n  refetch: false,\n  containerTag: 'header',\n})\n\n/**\n *Workaround to satisfy linter\n * @bug https://github.com/vuejs/language-tools/issues/5082\n * Wait to be closed\n * */\nconst slots: SetupContext['slots'] = useSlots()\n\nconst hasSlots = computed(() => Object.keys(slots).length > 0)\n\nconst headerClass = computed(() => {\n  return [\n    'flex items-center justify-center text-center text-lg font-bold',\n    props.titleClass,\n  ]\n})\n</script>\n\n<template>\n  <component\n    :is=\"containerTag\"\n    v-if=\"title || backUrl || (onAction && actionTitle) || hasSlots\"\n    ref=\"header\"\n    class=\"grid h-[64px] shrink-0 grid-cols-[75px_auto_75px] border-b-[0.5px] border-white/10 bg-black px-4\"\n    data-test-id=\"appHeader\"\n  >\n    <div class=\"flex items-center justify-self-start text-base\">\n      <slot\n        name=\"before\"\n        :data=\"{ backUrl, backTitle, backIgnore, backAvoidHomeButton }\"\n      >\n        <CommonBackButton\n          v-if=\"backUrl\"\n          :fallback=\"backUrl\"\n          :label=\"backTitle\"\n          :ignore=\"backIgnore\"\n          :avoid-home-button=\"backAvoidHomeButton\"\n        />\n      </slot>\n    </div>\n    <div class=\"flex flex-1 items-center justify-center\">\n      <CommonRefetch v-bind=\"defaultAttrs\" :refetch=\"refetch\">\n        <slot :data=\"{ defaultAttrs, refetch }\">\n          <h1 :class=\"headerClass\">\n            {{ $t(title) }}\n          </h1>\n        </slot>\n      </CommonRefetch>\n    </div>\n    <div\n      v-if=\"((onAction || actionTitle) && !actionHidden) || slots.after\"\n      class=\"flex items-center justify-self-end text-base\"\n    >\n      <slot name=\"after\" :data=\"{ actionButtonProps }\">\n        <CommonButton\n          v-bind=\"{\n            variant: 'primary',\n            transparentBackground: true,\n            ...actionButtonProps,\n          }\"\n          @click=\"onAction?.()\"\n        >\n          {{ $t(actionTitle) }}\n        </CommonButton>\n      </slot>\n    </div>\n  </component>\n</template>\n"],"names":["props","__props","refetching","ref","timeout","watch","status","headerElement","useTemplateRef","__expose","slots","useSlots","hasSlots","computed","headerClass"],"mappings":"uZAKA,MAAMA,EAAQC,EAMRC,EAAaC,EAAI,EAAK,EAExB,IAAAC,EAEJ,OAAAC,EACE,IAAML,EAAM,QACXM,GAAW,CACNA,EACQF,EAAA,OAAO,WAAW,IAAM,CAChCF,EAAW,MAAQ,IAClB,GAAG,GAEN,OAAO,aAAaE,CAAO,EAC3BF,EAAW,MAAQ,GAEvB,CAAA,g+BCGI,MAAAK,EAAgBC,EAA4B,QAAQ,EAE7CC,EAAA,CACX,cAAAF,CAAA,CACD,EAED,MAAMP,EAAQC,EAURS,EAA+BC,IAE/BC,EAAWC,EAAS,IAAM,OAAO,KAAKH,CAAK,EAAE,OAAS,CAAC,EAEvDI,EAAcD,EAAS,IACpB,CACL,iEACAb,EAAM,UAAA,CAET"}