import{g as d,a as S}from"./formkit-5nol1GBe.js";import{r as c,d as k,c as o,w as y,t as h}from"./vue-oicRkvo0.js";const w=i=>{const r=c(""),a=k({}),u=c([]),l=o(()=>Object.keys(a)),v=o(()=>l.value[l.value.length-1]);y(r,(e,t)=>{var n;t&&!u.value.includes(t)&&u.value.push(t),u.value.forEach(b=>{const s=d(b);s&&s.walk(g=>{g.store.set(S({key:"submitted",value:!0,visible:!1}))})}),(n=i.value)==null||n.emit("autofocus")});const f=e=>{if(e)r.value=e;else{const t=l.value.indexOf(r.value);r.value=l.value[t+1]}},p=e=>(e.props.type==="group"&&(a[e.name]=a[e.name]||{},e.on("created",()=>{e.context&&(a[e.name].valid=h(e.context.state,"valid"),a[e.name].label=Object.keys(a).length.toString(),a[e.name].order=Object.keys(a).length)}),e.on("count:errors",({payload:t})=>{a[e.name].errorCount=t}),e.on("count:blocking",({payload:t})=>{a[e.name].blockingCount=t}),r.value===""&&(r.value=e.name)),!1),m=o(()=>{const e={};return l.value.forEach(t=>{const n=u.value.includes(t);e[t]={label:a[t].label,order:a[t].order,errorCount:a[t].blockingCount+a[t].errorCount,valid:a[t].valid&&a[t].errorCount===0,disabled:!n||r.value===t,completed:n}}),e});return{multiStepPlugin:p,setMultiStep:f,allSteps:m,stepNames:l,lastStepName:v,activeStep:r,visitedSteps:u}};export{w as u};
//# sourceMappingURL=useMultiStepForm-CbTGEQR9.js.map
