import{f as S,r as R,c as k,aR as H,a8 as F,m as y,p as B,U as I,I as U,u as n,H as w,E as T,av as j,al as V,aj as X,a0 as Y,aw as D,q as O,a4 as q,k as G,w as K,a7 as J,aS as Q,D as x,z as Z,A as _,B as ee}from"./vue-oicRkvo0.js";import{ap as ae}from"./overviewAttributes.api-C09LSZ8O.js";import{b as P,c as $,i as A}from"./routes-CgLO9M4y.js";import{c as N}from"./desktop-l0eJ1dZN.js";import{g as te,k as le}from"./apollo-Cj5TVUDk.js";const re=["aria-describedby","disabled"],ne=["id","aria-orientation","aria-valuenow","aria-valuemax","aria-valuemin"],oe=S({__name:"ResizeLine",props:{label:{},orientation:{default:"vertical"},values:{},disabled:{type:Boolean},buttonClass:{}},emits:["mousedown-event","touchstart-event","dblclick-event"],setup(c,{expose:s,emit:t}){const a=c,v=R(),i=R(!1),u=t,d=k(()=>a.orientation==="horizontal"?"vertical":"horizontal"),b=o=>{j(o,()=>{i.value=!1},{once:!0})},z=o=>{a.disabled||(u("mousedown-event",o),i.value=!0,b("mouseup"))},E=o=>{a.disabled||(u("touchstart-event",o),i.value=!0,b("touchend"))},C=o=>{var h;a.disabled||(u("dblclick-event",o),(h=v.value)==null||h.blur())},g=te();return s({resizeLine:v,resizing:H(i)}),(o,h)=>{var f,l,r;const e=F("tooltip");return y(),B("div",{class:w(["flex justify-center opacity-0 focus-within:opacity-100 hover:opacity-100",{horizontal:"h-[12px] w-full",vertical:"h-full w-[12px]"}[o.orientation]])},[I(U("button",{ref_key:"resizeLine",ref:v,"aria-describedby":n(g),disabled:o.disabled,tabindex:"0",class:w(["not-disabled:bg-neutral-500 focus-within:bg-blue-800! not-disabled:hover:bg-blue-600 focus:outline-hidden disabled:pointer-events-none not-disabled:dark:bg-gray-200 not-disabled:dark:hover:bg-blue-900",[{"bg-blue-800!":i.value},{horizontal:"h-1 w-full enabled:cursor-row-resize!",vertical:"h-full w-1 enabled:cursor-col-resize!"}[o.orientation],o.buttonClass]]),onMousedown:z,onBlur:h[0]||(h[0]=m=>i.value=!1),onTouchstart:E,onDblclick:C},null,42,re),[[e,o.disabled?void 0:o.label]]),o.disabled?T("",!0):(y(),B("span",{key:0,id:n(g),role:"separator",class:"invisible absolute -z-20","aria-orientation":d.value,"aria-valuenow":((f=o.values)==null?void 0:f.current)??void 0,"aria-valuemax":((l=o.values)==null?void 0:l.max)??void 0,"aria-valuemin":((r=o.values)==null?void 0:r.min)??void 0},null,8,ne))],2)}}}),se=(c,s,t,a)=>{const v=R(!1),i=P(),{height:u}=V(),{width:d,height:b}=X(s),{width:z}=V(),E=l=>{var m,L;let r=Math.round(d.value/2);l instanceof MouseEvent?r+=l.pageX:l.targetTouches[0]&&(r+=l.targetTouches[0].pageX),((m=i.localeData)==null?void 0:m.dir)===$.Rtl&&!(a!=null&&a.calculateFromRight)&&(r=z.value-r),((L=i.localeData)==null?void 0:L.dir)===$.Ltr&&(a!=null&&a.calculateFromRight)&&(r=z.value-r),c(r)},C=l=>{let r=Math.round(b.value/2);l instanceof MouseEvent?r+=l.pageY:l.targetTouches[0]&&(r+=l.targetTouches[0].pageY),r=u.value-r-((a==null?void 0:a.offsetThreshold)??0),c(r)},g=l=>{if((a==null?void 0:a.orientation)==="vertical")return E(l);C(l)},o=()=>{h(),v.value=!1},h=()=>{document.removeEventListener("touchmove",g),document.removeEventListener("touchend",o),document.removeEventListener("mousemove",g),document.removeEventListener("mouseup",o)},e=()=>{document.addEventListener("touchend",o),document.addEventListener("touchmove",g),document.addEventListener("mouseup",o),document.addEventListener("mousemove",g)},f=l=>{l.detail>1||(l.preventDefault(),v.value=!0,e())};return Y(()=>{h()}),(a==null?void 0:a.orientation)==="vertical"?(D("ArrowLeft",l=>{var r,m;a!=null&&a.calculateFromRight?t(l,((r=i.localeData)==null?void 0:r.dir)==="rtl"?-5:5):t(l,((m=i.localeData)==null?void 0:m.dir)==="rtl"?5:-5)},{target:s}),D("ArrowRight",l=>{var r,m;a!=null&&a.calculateFromRight?t(l,((r=i.localeData)==null?void 0:r.dir)==="rtl"?5:-5):t(l,((m=i.localeData)==null?void 0:m.dir)==="rtl"?-5:5)},{target:s})):(D("ArrowUp",l=>{t(l,5)},{target:s}),D("ArrowDown",l=>{t(l,-5)},{target:s})),{isResizing:v,startResizing:f}},ie=S({__name:"CollapseButton",props:{ownerId:{},collapsed:{type:Boolean,default:!1},orientation:{default:"horizontal"},expandLabel:{},collapseLabel:{},inverse:{type:Boolean},variant:{},noPadded:{type:Boolean},buttonClass:{}},emits:["toggle-collapse"],setup(c){const{isTouchDevice:s}=ae(),t=c,a=P(),v=k(()=>{var d,b;return t.orientation==="vertical"?t.collapsed?"arrows-expand":"arrows-collapse":t.inverse&&((d=a.localeData)==null?void 0:d.dir)!==$.Rtl||!t.inverse&&((b=a.localeData)==null?void 0:b.dir)===$.Rtl?t.collapsed?"arrow-bar-left":"arrow-bar-right":t.collapsed?"arrow-bar-right":"arrow-bar-left"}),i=k(()=>t.variant==="tertiary-gray"?"bg-neutral-500 focus-visible:bg-blue-800 active:dark:bg-blue-800 focus:dark:bg-blue-800 active:bg-blue-800 focus:bg-blue-800 hover:bg-blue-600 hover:dark:bg-blue-900 text-black dark:bg-gray-200 dark:text-white":""),u=k(()=>({expand:t.expandLabel||A.t("Expand this element"),collapse:t.collapseLabel||A.t("Collapse this element")}));return(d,b)=>{const z=F("tooltip");return y(),B("div",{class:w(["flex items-center justify-center focus-within:opacity-100 hover:opacity-100",{"opacity-0":!n(s),"p-2":!d.noPadded}])},[I(O(N,{class:w(["hover:outline-transparent focus:outline-transparent focus-visible:outline-transparent dark:hover:outline-transparent dark:focus:outline-transparent",[i.value,d.buttonClass]]),icon:v.value,"aria-expanded":!d.collapsed,variant:"none","aria-controls":d.ownerId,"data-test-id":`controls-${d.ownerId}`,"aria-label":d.collapsed?d.$t("Expand this element"):d.$t("Collapse this element"),size:"small",onClick:b[0]||(b[0]=E=>d.$emit("toggle-collapse",E))},null,8,["class","icon","aria-expanded","aria-controls","data-test-id","aria-label"]),[[z,d.collapsed?u.value.expand:u.value.collapse]])],2)}}}),de=(c,s)=>{let t;s!=null&&s.storageKey?t=q(s.storageKey,!1):t=R(!1);const a=()=>t.value?c("collapse",!0):c("expand",!0),v=()=>{t.value=!t.value,a()};return le.on("expand-collapsed-content",i=>{(s==null?void 0:s.name)===i&&t.value&&v()}),G(()=>{s!=null&&s.storageKey&&K(t,()=>{a()},{immediate:!0})}),{isCollapsed:t,toggleCollapse:v}};var p=(c=>(c.Start="start",c.End="end",c))(p||{});const ue=["id"],he=S({__name:"LayoutSidebar",props:{name:{},currentWidth:{},minWidth:{},maxWidth:{},noScroll:{type:Boolean},collapsible:{type:Boolean},iconCollapsed:{},position:{default:p.Start},resizable:{type:Boolean},id:{},noPadding:{type:Boolean},classes:{},rememberCollapse:{type:Boolean},backgroundVariant:{default:"primary"}},emits:["resize-horizontal","resize-horizontal-start","resize-horizontal-end","reset-width","collapse","expand"],setup(c,{emit:s}){var h;const t=c,a=s,v={name:t.name};t.rememberCollapse&&(v.storageKey=`${t.name}-sidebar-collapsed`);const{toggleCollapse:i,isCollapsed:u}=de(a,v),d=k(()=>{switch(t.backgroundVariant){case"secondary":return"bg-blue-50 dark:bg-gray-800";case"primary":default:return"bg-neutral-950"}}),b=J("resize-line"),z=Q(),E=(e,f)=>{var r;if(!t.currentWidth||z.value!==((r=b.value)==null?void 0:r.resizeLine))return;e.preventDefault();const l=Number(t.currentWidth)+f;a("resize-horizontal",l)},{startResizing:C,isResizing:g}=se(e=>a("resize-horizontal",e),(h=b.value)==null?void 0:h.resizeLine,E,{calculateFromRight:t.position===p.End,orientation:"vertical"});K(g,e=>{a(e?"resize-horizontal-start":"resize-horizontal-end")});const o=k(()=>t.position===p.Start?"ltr:rounded-l-none rtl:rounded-r-none":t.position===p.End?"ltr:rounded-r-none rtl:rounded-l-none":"");return(e,f)=>{var l,r,m,L;return y(),B("aside",{id:e.id,class:w(["relative flex max-h-screen flex-col overflow-y-clip border-neutral-100 dark:border-gray-900",[{"py-3":n(u)&&!e.noPadding,"border-s":e.position===n(p).End},d.value]])},[e.iconCollapsed&&n(u)?(y(),x(N,{key:0,class:"mx-auto",size:"large",variant:"neutral",icon:e.iconCollapsed,onClick:n(i)},null,8,["icon","onClick"])):(y(),B("div",{key:1,class:w(["flex h-full max-w-full flex-col overflow-x-hidden",{"px-3 py-2.5":!n(u)&&!e.noPadding,"overflow-y-hidden":e.noScroll,"overflow-y-auto":!e.noScroll,"border-e border-neutral-100 dark:border-gray-900":e.backgroundVariant==="secondary"&&n(p).Start,"border-s border-neutral-100 dark:border-gray-900":e.backgroundVariant==="secondary"&&n(p).End}])},[Z(e.$slots,"default",_(ee({isCollapsed:n(u),toggleCollapse:n(i)})))],2)),e.resizable?(y(),x(oe,{key:2,ref:"resize-line",label:e.$t("Resize sidebar"),class:w(["absolute z-20 has-[+div:hover]:opacity-100",[{"ltr:right-0 ltr:translate-x-1/2 rtl:left-0 rtl:-translate-x-1/2":e.position===n(p).Start,"ltr:left-0 ltr:-translate-x-1/2 rtl:right-0 rtl:translate-x-1/2":e.position===n(p).End,peer:!((l=n(b))!=null&&l.resizing)},((r=e.classes)==null?void 0:r.resizeLine)||""]]),values:{max:(m=Number(e.maxWidth))==null?void 0:m.toFixed(2),min:e.minWidth,current:e.currentWidth},disabled:n(u),onMousedownEvent:n(C),onTouchstartEvent:n(C),onDblclickEvent:f[0]||(f[0]=W=>e.$emit("reset-width"))},null,8,["label","class","values","disabled","onMousedownEvent","onTouchstartEvent"])):T("",!0),e.collapsible?(y(),x(ie,{key:3,collapsed:n(u),"owner-id":e.id,class:w(["absolute top-[49px] z-20 peer-hover:opacity-100",[{"ltr:right-0 ltr:translate-x-[calc(100%-10px)] rtl:left-0 rtl:-translate-x-[calc(100%-10px)]":e.position===n(p).Start,"ltr:left-0 ltr:-translate-x-[calc(100%-10px)] rtl:right-0 rtl:translate-x-[calc(100%-10px)]":e.position===n(p).End,"ltr:translate-x-[calc(100%-7.5px)] rtl:-translate-x-[calc(100%-7.5px)]":n(u)&&e.position===n(p).Start,"ltr:-translate-x-[calc(100%-7.5px)] rtl:translate-x-[calc(100%-7.5px)]":n(u)&&e.position===n(p).End},((L=e.classes)==null?void 0:L.collapseButton)||""]]),inverse:e.position===n(p).End,variant:"tertiary-gray","collapse-label":e.$t("Collapse sidebar"),"expand-label":e.$t("Expand sidebar"),"button-class":o.value,onClick:f[1]||(f[1]=W=>{var M;return(M=W.target)==null?void 0:M.blur()}),onToggleCollapse:n(i)},null,8,["collapsed","owner-id","inverse","collapse-label","expand-label","class","button-class","onToggleCollapse"])):T("",!0)],10,ue)}}});export{p as S,he as _,ie as a,se as b,oe as c,de as u};
//# sourceMappingURL=LayoutSidebar.vue_vue_type_script_setup_true_lang-BO1pkKrb.js.map
