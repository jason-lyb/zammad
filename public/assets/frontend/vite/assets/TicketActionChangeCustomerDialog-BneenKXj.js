import{_ as C}from"./Form.vue_vue_type_script_setup_true_lang-B6L-6HzY.js";import{u as y}from"./useForm-CUKec4n5.js";import{Y as j,a2 as D}from"./overviewAttributes.api-C09LSZ8O.js";import{u as S}from"./useTicketChangeCustomer-gjGu9BEY.js";import{u as w}from"./useTicketFormOrganizationHandler-DLoRMaF_.js";import{q as n}from"./routes-CgLO9M4y.js";import{_ as s,p as m}from"./mobile-Bk4bKGxF.js";import{_ as T}from"./CommonDialog.vue_vue_type_script_setup_true_lang-CID2Z6MI.js";import{f as v,t as $,m as F,D as q,y as t,q as r,Q as c,M as u,u as a}from"./vue-oicRkvo0.js";import"./formkit-5nol1GBe.js";import"./apollo-Cj5TVUDk.js";import"./vendor-C11O1Xx8.js";import"./commonjsHelpers-BosuxZz1.js";import"./lodash-pFOI14f-.js";import"./FormGroup.vue_vue_type_script_setup_true_lang-DIx-HUKU.js";import"./vite-FJshFMF2.js";import"./ticketAttributes.api-rqx5ITab.js";import"./pwa-THoW_3xc.js";import"./add.api-CxwFhgGn.js";import"./datepicker-BBNcWeHz.js";import"./date-B2UyDZN7.js";const Z=v({__name:"TicketActionChangeCustomerDialog",props:{name:{},ticket:{}},setup(l){const o=l,{form:f,isDirty:p,canSubmit:d}=y(),{waitForConfirmation:b}=D(),_=async()=>{p.value&&!await b(__("Are you sure? You have unsaved changes that will get lost."),{buttonLabel:__("Discard changes"),buttonVariant:"danger"})||m(o.name)},g=j([{name:"customer_id",screen:"edit",object:n.Ticket,required:!0},{name:"organization_id",screen:"edit",object:n.Ticket}]),{changeCustomer:h}=S($(o,"ticket"),{onSuccess:()=>m(o.name)});return(e,i)=>(F(),q(T,{class:"w-full","no-autofocus":"",name:e.name,label:e.__("Change customer")},{"before-label":t(()=>[r(s,{"transparent-background":"",onClick:_},{default:t(()=>[c(u(e.$t("Cancel")),1)]),_:1})]),"after-label":t(()=>[r(s,{form:e.name,disabled:!a(d),variant:"primary",type:"submit","transparent-background":""},{default:t(()=>[c(u(e.$t("Save")),1)]),_:1},8,["form","disabled"])]),default:t(()=>[r(C,{id:e.name,ref_key:"form",ref:f,class:"w-full p-4","should-autofocus":"",schema:a(g),handlers:[a(w)()],"initial-entity-object":e.ticket,"use-object-attributes":"",onSubmit:i[0]||(i[0]=k=>a(h)(k))},null,8,["id","schema","handlers","initial-entity-object"])]),_:1},8,["name","label"]))}});export{Z as default};
//# sourceMappingURL=TicketActionChangeCustomerDialog-BneenKXj.js.map
