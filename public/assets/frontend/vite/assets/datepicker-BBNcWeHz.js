import{d as Ga,r as Q,f as Fe,j as Ra,t as qa,k as We,n as ta,l as et,w as na,c as j,m as D,p as F,q as aa,v as Xe,x as Re,y as we,z as de,A as Le,B as Ze,u,C as Ee,b as el,D as $e,T as Ea,E as K,F as vt,G as jl,H as ke,I as ge,J as _e,K as la,L as Xa,M as qe,N as Kl,O as al,P as ql,Q as ha,R as Xl,S as Jl,U as ut,V as it,W as Ql,g as Zl,e as Gl}from"./vue-oicRkvo0.js";import{g as he,a as Me,b as en,e as yl,d as an,f as pa,s as Pe,c as tn,i as Ba,h as Ya,j as Ca,k as st,l as ln,m as ga,n as Ma,o as za,p as va,q as dt,r as fl,t as Pa,u as Lt,v as hl,w as tl,x as nn,y as gl,z as rn,A as ll,B as Yt,C as Ja,D as nl,E as on,F as un,G as bl,H as _l,I as sn,J as dn,K as cn,L as wa,M as vn,N as pn,O as wl,P as kl,Q as mn,R as yn}from"./date-B2UyDZN7.js";function Ha(){const e=ql();return D(),F("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon",role:"img",...e},[ge("path",{d:"M29.333 8c0-2.208-1.792-4-4-4h-18.667c-2.208 0-4 1.792-4 4v18.667c0 2.208 1.792 4 4 4h18.667c2.208 0 4-1.792 4-4v-18.667zM26.667 8v18.667c0 0.736-0.597 1.333-1.333 1.333 0 0-18.667 0-18.667 0-0.736 0-1.333-0.597-1.333-1.333 0 0 0-18.667 0-18.667 0-0.736 0.597-1.333 1.333-1.333 0 0 18.667 0 18.667 0 0.736 0 1.333 0.597 1.333 1.333z"}),ge("path",{d:"M20 2.667v5.333c0 0.736 0.597 1.333 1.333 1.333s1.333-0.597 1.333-1.333v-5.333c0-0.736-0.597-1.333-1.333-1.333s-1.333 0.597-1.333 1.333z"}),ge("path",{d:"M9.333 2.667v5.333c0 0.736 0.597 1.333 1.333 1.333s1.333-0.597 1.333-1.333v-5.333c0-0.736-0.597-1.333-1.333-1.333s-1.333 0.597-1.333 1.333z"}),ge("path",{d:"M4 14.667h24c0.736 0 1.333-0.597 1.333-1.333s-0.597-1.333-1.333-1.333h-24c-0.736 0-1.333 0.597-1.333 1.333s0.597 1.333 1.333 1.333z"})])}Ha.compatConfig={MODE:3};function Dl(){return D(),F("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon",role:"img"},[ge("path",{d:"M23.057 7.057l-16 16c-0.52 0.52-0.52 1.365 0 1.885s1.365 0.52 1.885 0l16-16c0.52-0.52 0.52-1.365 0-1.885s-1.365-0.52-1.885 0z"}),ge("path",{d:"M7.057 8.943l16 16c0.52 0.52 1.365 0.52 1.885 0s0.52-1.365 0-1.885l-16-16c-0.52-0.52-1.365-0.52-1.885 0s-0.52 1.365 0 1.885z"})])}Dl.compatConfig={MODE:3};function Et(){return D(),F("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon",role:"img"},[ge("path",{d:"M20.943 23.057l-7.057-7.057c0 0 7.057-7.057 7.057-7.057 0.52-0.52 0.52-1.365 0-1.885s-1.365-0.52-1.885 0l-8 8c-0.521 0.521-0.521 1.365 0 1.885l8 8c0.52 0.52 1.365 0.52 1.885 0s0.52-1.365 0-1.885z"})])}Et.compatConfig={MODE:3};function Ht(){return D(),F("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon",role:"img"},[ge("path",{d:"M12.943 24.943l8-8c0.521-0.521 0.521-1.365 0-1.885l-8-8c-0.52-0.52-1.365-0.52-1.885 0s-0.52 1.365 0 1.885l7.057 7.057c0 0-7.057 7.057-7.057 7.057-0.52 0.52-0.52 1.365 0 1.885s1.365 0.52 1.885 0z"})])}Ht.compatConfig={MODE:3};function Ft(){return D(),F("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon",role:"img"},[ge("path",{d:"M16 1.333c-8.095 0-14.667 6.572-14.667 14.667s6.572 14.667 14.667 14.667c8.095 0 14.667-6.572 14.667-14.667s-6.572-14.667-14.667-14.667zM16 4c6.623 0 12 5.377 12 12s-5.377 12-12 12c-6.623 0-12-5.377-12-12s5.377-12 12-12z"}),ge("path",{d:"M14.667 8v8c0 0.505 0.285 0.967 0.737 1.193l5.333 2.667c0.658 0.329 1.46 0.062 1.789-0.596s0.062-1.46-0.596-1.789l-4.596-2.298c0 0 0-7.176 0-7.176 0-0.736-0.597-1.333-1.333-1.333s-1.333 0.597-1.333 1.333z"})])}Ft.compatConfig={MODE:3};function Wt(){return D(),F("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon",role:"img"},[ge("path",{d:"M24.943 19.057l-8-8c-0.521-0.521-1.365-0.521-1.885 0l-8 8c-0.52 0.52-0.52 1.365 0 1.885s1.365 0.52 1.885 0l7.057-7.057c0 0 7.057 7.057 7.057 7.057 0.52 0.52 1.365 0.52 1.885 0s0.52-1.365 0-1.885z"})])}Wt.compatConfig={MODE:3};function jt(){return D(),F("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon",role:"img"},[ge("path",{d:"M7.057 12.943l8 8c0.521 0.521 1.365 0.521 1.885 0l8-8c0.52-0.52 0.52-1.365 0-1.885s-1.365-0.52-1.885 0l-7.057 7.057c0 0-7.057-7.057-7.057-7.057-0.52-0.52-1.365-0.52-1.885 0s-0.52 1.365 0 1.885z"})])}jt.compatConfig={MODE:3};const Ge=(e,a)=>a?new Date(e.toLocaleString("en-US",{timeZone:a})):new Date(e),Kt=(e,a,r)=>Vt(e,a,r)||W(),fn=(e,a,r)=>{const t=a.dateInTz?Ge(new Date(e),a.dateInTz):W(e);return r?He(t,!0):t},Vt=(e,a,r)=>{if(!e)return null;const t=r?He(W(e),!0):W(e);return a?a.exactMatch?fn(e,a,r):Ge(t,a.timezone):t},hn=e=>{const a=new Date(e.getFullYear(),0,1).getTimezoneOffset();return e.getTimezoneOffset()<a},gn=(e,a)=>{if(!e)return 0;const r=new Date,t=new Date(r.toLocaleString("en-US",{timeZone:"UTC"})),l=new Date(r.toLocaleString("en-US",{timeZone:e})),i=(hn(a??l)?l:a??l).getTimezoneOffset()/60;return(+t-+l)/(1e3*60*60)-i};var oa=(e=>(e.month="month",e.year="year",e))(oa||{}),ua=(e=>(e.top="top",e.bottom="bottom",e))(ua||{}),Ta=(e=>(e.header="header",e.calendar="calendar",e.timePicker="timePicker",e))(Ta||{}),Ke=(e=>(e.month="month",e.year="year",e.calendar="calendar",e.time="time",e.minutes="minutes",e.hours="hours",e.seconds="seconds",e))(Ke||{});const bn=["timestamp","date","iso"];var Je=(e=>(e.up="up",e.down="down",e.left="left",e.right="right",e))(Je||{}),Se=(e=>(e.arrowUp="ArrowUp",e.arrowDown="ArrowDown",e.arrowLeft="ArrowLeft",e.arrowRight="ArrowRight",e.enter="Enter",e.space=" ",e.esc="Escape",e.tab="Tab",e.home="Home",e.end="End",e.pageUp="PageUp",e.pageDown="PageDown",e))(Se||{}),Va=(e=>(e.MONTH_AND_YEAR="MM-yyyy",e.YEAR="yyyy",e.DATE="dd-MM-yyyy",e))(Va||{});function rl(e){return a=>new Intl.DateTimeFormat(e,{weekday:"short",timeZone:"UTC"}).format(new Date(`2017-01-0${a}T00:00:00+00:00`)).slice(0,2)}function _n(e){return a=>pa(Ge(new Date(`2017-01-0${a}T00:00:00+00:00`),"UTC"),"EEEEEE",{locale:e})}const wn=(e,a,r)=>{const t=[1,2,3,4,5,6,7];let l;if(e!==null)try{l=t.map(_n(e))}catch{l=t.map(rl(a))}else l=t.map(rl(a));const i=l.slice(0,r),d=l.slice(r+1,l.length);return[l[r]].concat(...d).concat(...i)},qt=(e,a,r)=>{const t=[];for(let l=+e[0];l<=+e[1];l++)t.push({value:+l,text:$l(l,a)});return r?t.reverse():t},Al=(e,a,r)=>{const t=[1,2,3,4,5,6,7,8,9,10,11,12].map(i=>{const d=i<10?`0${i}`:i;return new Date(`2017-${d}-01T00:00:00+00:00`)});if(e!==null)try{const i=r==="long"?"LLLL":"LLL";return t.map((d,h)=>{const s=pa(Ge(d,"UTC"),i,{locale:e});return{text:s.charAt(0).toUpperCase()+s.substring(1),value:h}})}catch{}const l=new Intl.DateTimeFormat(a,{month:r,timeZone:"UTC"});return t.map((i,d)=>{const h=l.format(i);return{text:h.charAt(0).toUpperCase()+h.substring(1),value:d}})},kn=e=>[12,1,2,3,4,5,6,7,8,9,10,11,12,1,2,3,4,5,6,7,8,9,10,11][e],ze=e=>{const a=u(e);return a!=null&&a.$el?a==null?void 0:a.$el:a},Dn=e=>({type:"dot",...e??{}}),Ml=e=>Array.isArray(e)?!!e[0]&&!!e[1]:!1,Xt={prop:e=>`"${e}" prop must be enabled!`,dateArr:e=>`You need to use array as "model-value" binding in order to support "${e}"`},Ue=e=>e,ol=e=>e===0?e:!e||isNaN(+e)?null:+e,ul=e=>e===null,xl=e=>{if(e)return[...e.querySelectorAll("input, button, select, textarea, a[href]")][0]},An=e=>{const a=[],r=t=>t.filter(l=>l);for(let t=0;t<e.length;t+=3){const l=[e[t],e[t+1],e[t+2]];a.push(r(l))}return a},Qa=(e,a,r)=>{const t=r!=null,l=a!=null;if(!t&&!l)return!1;const i=+r,d=+a;return t&&l?+e>i||+e<d:t?+e>i:l?+e<d:!1},Ua=(e,a)=>An(e).map(r=>r.map(t=>{const{active:l,disabled:i,isBetween:d,highlighted:h}=a(t);return{...t,active:l,disabled:i,className:{dp__overlay_cell_active:l,dp__overlay_cell:!l,dp__overlay_cell_disabled:i,dp__overlay_cell_pad:!0,dp__overlay_cell_active_disabled:i&&l,dp__cell_in_between:d,"dp--highlighted":h}}})),Da=(e,a,r=!1)=>{e&&a.allowStopPropagation&&(r&&e.stopImmediatePropagation(),e.stopPropagation())},Mn=()=>["a[href]","area[href]","input:not([disabled]):not([type='hidden'])","select:not([disabled])","textarea:not([disabled])","button:not([disabled])","[tabindex]:not([tabindex='-1'])","[data-datepicker-instance]"].join(", ");function xn(e,a){let r=[...document.querySelectorAll(Mn())];r=r.filter(l=>!e.contains(l)||l.hasAttribute("data-datepicker-instance"));const t=r.indexOf(e);if(t>=0&&(a?t-1>=0:t+1<=r.length))return r[t+(a?-1:1)]}const Bt=(e,a)=>e==null?void 0:e.querySelector(`[data-dp-element="${a}"]`),$l=(e,a)=>new Intl.NumberFormat(a,{useGrouping:!1,style:"decimal"}).format(e),Jt=(e,a)=>pa(e,a??Va.DATE),Mt=e=>Array.isArray(e),ct=(e,a,r)=>a.get(Jt(e,r)),$n=(e,a)=>e?a?a instanceof Map?!!ct(e,a):a(W(e)):!1:!0,Qe=(e,a,r=!1,t)=>{if(e.key===Se.enter||e.key===Se.space)return r&&e.preventDefault(),a();if(t)return t(e)},Pn=()=>"ontouchstart"in window||navigator.maxTouchPoints>0,Tn=(e,a)=>e?Va.MONTH_AND_YEAR:a?Va.YEAR:Va.DATE,Pl=e=>e<10?`0${e}`:e,il=(e,a,r,t,l,i)=>{const d=Yt(e,a.slice(0,e.length),new Date,{locale:i});return st(d)&&vn(d)?t||l?d:Pe(d,{hours:+r.hours,minutes:+(r==null?void 0:r.minutes),seconds:+(r==null?void 0:r.seconds),milliseconds:0}):null},Sn=(e,a,r,t,l,i)=>{const d=Array.isArray(r)?r[0]:r;if(typeof a=="string")return il(e,a,d,t,l,i);if(Array.isArray(a)){let h=null;for(const s of a)if(h=il(e,s,d,t,l,i),h)break;return h}return typeof a=="function"?a(e):null},W=e=>e?new Date(e):new Date,Cn=(e,a,r)=>{if(a){const l=(e.getMonth()+1).toString().padStart(2,"0"),i=e.getDate().toString().padStart(2,"0"),d=e.getHours().toString().padStart(2,"0"),h=e.getMinutes().toString().padStart(2,"0"),s=r?e.getSeconds().toString().padStart(2,"0"):"00";return`${e.getFullYear()}-${l}-${i}T${d}:${h}:${s}.000Z`}const t=Date.UTC(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds());return new Date(t).toISOString()},He=(e,a)=>{const r=W(JSON.parse(JSON.stringify(e))),t=Pe(r,{hours:0,minutes:0,seconds:0,milliseconds:0});return a?tn(t):t},Aa=(e,a,r,t)=>{let l=e?W(e):W();return(a||a===0)&&(l=on(l,+a)),(r||r===0)&&(l=un(l,+r)),(t||t===0)&&(l=bl(l,+t)),_l(l,0)},Ie=(e,a)=>!e||!a?!1:Ba(He(e),He(a)),xe=(e,a)=>!e||!a?!1:Ya(He(e),He(a)),Ye=(e,a)=>!e||!a?!1:Ca(He(e),He(a)),Za=(e,a,r)=>e!=null&&e[0]&&e!=null&&e[1]?Ye(r,e[0])&&Ie(r,e[1]):e!=null&&e[0]&&a?Ye(r,e[0])&&Ie(r,a)||Ie(r,e[0])&&Ye(r,a):!1,ia=e=>{const a=Pe(new Date(e),{date:1});return He(a)},xt=(e,a,r)=>a&&(r||r===0)?Object.fromEntries(["hours","minutes","seconds"].map(t=>t===a?[t,r]:[t,isNaN(+e[t])?void 0:+e[t]])):{hours:isNaN(+e.hours)?void 0:+e.hours,minutes:isNaN(+e.minutes)?void 0:+e.minutes,seconds:isNaN(+e.seconds)?void 0:+e.seconds},Sa=e=>({hours:ga(e),minutes:Ma(e),seconds:za(e)}),Tl=(e,a)=>{if(a){const r=he(W(a));if(r>e)return 12;if(r===e)return Me(W(a))}},Sl=(e,a)=>{if(a){const r=he(W(a));return r<e?-1:r===e?Me(W(a)):void 0}},La=e=>{if(e)return he(W(e))},Cl=(e,a)=>{const r=Ye(e,a)?a:e,t=Ye(a,e)?a:e;return yl({start:r,end:t})},Rn=e=>{const a=Pa(e,1);return{month:Me(a),year:he(a)}},ya=(e,a)=>{const r=Lt(e,{weekStartsOn:+a}),t=hl(e,{weekStartsOn:+a});return[r,t]},Rl=(e,a)=>{const r={hours:ga(W()),minutes:Ma(W()),seconds:a?za(W()):0};return Object.assign(r,e)},ka=(e,a,r)=>[Pe(W(e),{date:1}),Pe(W(),{month:a,year:r,date:1})],fa=(e,a,r)=>{let t=e?W(e):W();return(a||a===0)&&(t=sn(t,a)),r&&(t=va(t,r)),t},Ol=(e,a,r,t,l)=>{if(!t||l&&!a||!l&&!r)return!1;const i=l?Pa(e,1):Ja(e,1),d=[Me(i),he(i)];return l?!In(...d,a):!On(...d,r)},On=(e,a,r)=>Ie(...ka(r,e,a))||xe(...ka(r,e,a)),In=(e,a,r)=>Ye(...ka(r,e,a))||xe(...ka(r,e,a)),Il=(e,a,r,t,l,i,d)=>{if(typeof a=="function"&&!d)return a(e);const h=r?{locale:r}:void 0;return Array.isArray(e)?`${pa(e[0],i,h)}${l&&!e[1]?"":t}${e[1]?pa(e[1],i,h):""}`:pa(e,i,h)},Ia=e=>{if(e)return null;throw new Error(Xt.prop("partial-range"))},rt=(e,a)=>{if(a)return e();throw new Error(Xt.prop("range"))},zt=e=>Array.isArray(e)?st(e[0])&&(e[1]?st(e[1]):!0):e?st(e):!1,Nn=(e,a)=>Pe(a??W(),{hours:+e.hours||0,minutes:+e.minutes||0,seconds:+e.seconds||0}),$t=(e,a,r,t)=>{if(!e)return!0;if(t){const l=r==="max"?Ba(e,a):Ca(e,a),i={seconds:0,milliseconds:0};return l||Ya(Pe(e,i),Pe(a,i))}return r==="max"?e.getTime()<=a.getTime():e.getTime()>=a.getTime()},Pt=(e,a,r)=>e?Nn(e,a):W(r??a),sl=(e,a,r,t,l)=>{if(Array.isArray(t)){const d=Pt(e,t[0],a),h=Pt(e,t[1],a);return $t(t[0],d,r,!!a)&&$t(t[1],h,r,!!a)&&l}const i=Pt(e,t,a);return $t(t,i,r,!!a)&&l},Tt=e=>Pe(W(),Sa(e)),Yn=(e,a,r)=>{if(e instanceof Map){const t=`${Pl(r+1)}-${a}`;return e.size?e.has(t):!1}return!1},Vn=(e,a,r)=>{if(e instanceof Map){const t=`${Pl(r+1)}-${a}`;return e.size?e.has(t):!0}return!0},Nl=(e,a,r)=>typeof e=="function"?e({month:a,year:r}):!!e.months.find(t=>t.month===a&&t.year===r),Qt=(e,a)=>typeof e=="function"?e(a):e.years.includes(a),Ut=e=>`dp-${pa(e,"yyyy-MM-dd")}`,dl=(e,a)=>{const r=pn(He(a),e),t=wa(He(a),e);return{before:r,after:t}},ja=Ga({menuFocused:!1,shiftKeyInMenu:!1}),Yl=()=>{const e=r=>{ja.menuFocused=r},a=r=>{ja.shiftKeyInMenu!==r&&(ja.shiftKeyInMenu=r)};return{control:j(()=>({shiftKeyInMenu:ja.shiftKeyInMenu,menuFocused:ja.menuFocused})),setMenuFocused:e,setShiftKey:a}},Te=Ga({monthYear:[],calendar:[],time:[],actionRow:[],selectionGrid:[],timePicker:{0:[],1:[]},monthPicker:[]}),St=Q(null),ot=Q(!1),Ct=Q(!1),Rt=Q(!1),Ot=Q(!1),je=Q(0),Ne=Q(0),xa=()=>{const e=j(()=>ot.value?[...Te.selectionGrid,Te.actionRow].filter(v=>v.length):Ct.value?[...Te.timePicker[0],...Te.timePicker[1],Ot.value?[]:[St.value],Te.actionRow].filter(v=>v.length):Rt.value?[...Te.monthPicker,Te.actionRow]:[Te.monthYear,...Te.calendar,Te.time,Te.actionRow].filter(v=>v.length)),a=v=>{je.value=v?je.value+1:je.value-1;let p=null;e.value[Ne.value]&&(p=e.value[Ne.value][je.value]),!p&&e.value[Ne.value+(v?1:-1)]?(Ne.value=Ne.value+(v?1:-1),je.value=v?0:e.value[Ne.value].length-1):p||(je.value=v?je.value-1:je.value+1)},r=v=>{Ne.value===0&&!v||Ne.value===e.value.length&&v||(Ne.value=v?Ne.value+1:Ne.value-1,e.value[Ne.value]?e.value[Ne.value]&&!e.value[Ne.value][je.value]&&je.value!==0&&(je.value=e.value[Ne.value].length-1):Ne.value=v?Ne.value-1:Ne.value+1)},t=v=>{let p=null;e.value[Ne.value]&&(p=e.value[Ne.value][je.value]),p?p.focus({preventScroll:!ot.value}):je.value=v?je.value-1:je.value+1},l=()=>{a(!0),t(!0)},i=()=>{a(!1),t(!1)},d=()=>{r(!1),t(!0)},h=()=>{r(!0),t(!0)},s=(v,p)=>{Te[p]=v},Y=(v,p)=>{Te[p]=v},c=()=>{je.value=0,Ne.value=0};return{buildMatrix:s,buildMultiLevelMatrix:Y,setTimePickerBackRef:v=>{St.value=v},setSelectionGrid:v=>{ot.value=v,c(),v||(Te.selectionGrid=[])},setTimePicker:(v,p=!1)=>{Ct.value=v,Ot.value=p,c(),v||(Te.timePicker[0]=[],Te.timePicker[1]=[])},setTimePickerElements:(v,p=0)=>{Te.timePicker[p]=v},arrowRight:l,arrowLeft:i,arrowUp:d,arrowDown:h,clearArrowNav:()=>{Te.monthYear=[],Te.calendar=[],Te.time=[],Te.actionRow=[],Te.selectionGrid=[],Te.timePicker[0]=[],Te.timePicker[1]=[],ot.value=!1,Ct.value=!1,Ot.value=!1,Rt.value=!1,c(),St.value=null},setMonthPicker:v=>{Rt.value=v,c()},refSets:Te}},cl=e=>({menuAppearTop:"dp-menu-appear-top",menuAppearBottom:"dp-menu-appear-bottom",open:"dp-slide-down",close:"dp-slide-up",next:"calendar-next",previous:"calendar-prev",vNext:"dp-slide-up",vPrevious:"dp-slide-down",...e??{}}),Bn=e=>({toggleOverlay:"Toggle overlay",menu:"Datepicker menu",input:"Datepicker input",openTimePicker:"Open time picker",closeTimePicker:"Close time Picker",incrementValue:a=>`Increment ${a}`,decrementValue:a=>`Decrement ${a}`,openTpOverlay:a=>`Open ${a} overlay`,amPmButton:"Switch AM/PM mode",openYearsOverlay:"Open years overlay",openMonthsOverlay:"Open months overlay",nextMonth:"Next month",prevMonth:"Previous month",nextYear:"Next year",prevYear:"Previous year",day:void 0,weekDay:void 0,clearInput:"Clear value",calendarIcon:"Calendar icon",timePicker:"Time picker",monthPicker:a=>`Month picker${a?" overlay":""}`,yearPicker:a=>`Year picker${a?" overlay":""}`,timeOverlay:a=>`${a} overlay`,...e??{}}),vl=e=>e?typeof e=="boolean"?e?2:0:+e>=2?+e:2:0,zn=e=>{const a=typeof e=="object"&&e,r={static:!0,solo:!1};if(!e)return{...r,count:vl(!1)};const t=a?e:{},l=a?t.count??!0:e,i=vl(l);return Object.assign(r,t,{count:i})},Un=(e,a,r)=>e||(typeof r=="string"?r:a),Ln=e=>typeof e=="boolean"?e?cl({}):!1:cl(e),En=e=>{const a={enterSubmit:!0,tabSubmit:!0,openMenu:"open",selectOnFocus:!1,rangeSeparator:" - ",escClose:!0};return typeof e=="object"?{...a,...e??{},enabled:!0}:{...a,enabled:e}},Hn=e=>({months:[],years:[],times:{hours:[],minutes:[],seconds:[]},...e??{}}),Fn=e=>({showSelect:!0,showCancel:!0,showNow:!1,showPreview:!0,...e??{}}),Wn=e=>{const a={input:!1};return typeof e=="object"?{...a,...e??{},enabled:!0}:{enabled:e,...a}},jn=e=>({allowStopPropagation:!0,closeOnScroll:!1,modeHeight:255,allowPreventDefault:!1,closeOnClearValue:!0,closeOnAutoApply:!0,noSwipe:!1,keepActionRow:!1,onClickOutside:void 0,tabOutClosesMenu:!0,arrowLeft:void 0,keepViewOnOffsetClick:!1,timeArrowHoldThreshold:0,shadowDom:!1,mobileBreakpoint:600,setDateOnMenuClose:!1,...e??{}}),Kn=e=>{const a={dates:Array.isArray(e)?e.map(r=>W(r)):[],years:[],months:[],quarters:[],weeks:[],weekdays:[],options:{highlightDisabled:!1}};return typeof e=="function"?e:{...a,...e??{}}},qn=e=>typeof e=="object"?{type:(e==null?void 0:e.type)??"local",hideOnOffsetDates:(e==null?void 0:e.hideOnOffsetDates)??!1}:{type:e,hideOnOffsetDates:!1},Xn=e=>{const a={noDisabledRange:!1,showLastInRange:!0,minMaxRawRange:!1,partialRange:!0,disableTimeRangeValidation:!1,maxRange:void 0,minRange:void 0,autoRange:void 0,fixedStart:!1,fixedEnd:!1};return typeof e=="object"?{enabled:!0,...a,...e}:{enabled:e,...a}},Jn=e=>e?typeof e=="string"?{timezone:e,exactMatch:!1,dateInTz:void 0,emitTimezone:void 0,convertModel:!0}:{timezone:e.timezone,exactMatch:e.exactMatch??!1,dateInTz:e.dateInTz??void 0,emitTimezone:e.emitTimezone??void 0,convertModel:e.convertModel??!0}:{timezone:void 0,exactMatch:!1,emitTimezone:void 0},It=(e,a,r,t)=>new Map(e.map(l=>{const i=Kt(l,a,t);return[Jt(i,r),i]})),Qn=(e,a)=>e.length?new Map(e.map(r=>{const t=Kt(r.date,a);return[Jt(t,Va.DATE),r]})):null,Zn=e=>{var a;const r=Tn(e.isMonthPicker,e.isYearPicker);return{minDate:Vt(e.minDate,e.timezone,e.isSpecific),maxDate:Vt(e.maxDate,e.timezone,e.isSpecific),disabledDates:Mt(e.disabledDates)?It(e.disabledDates,e.timezone,r,e.isSpecific):e.disabledDates,allowedDates:Mt(e.allowedDates)?It(e.allowedDates,e.timezone,r,e.isSpecific):null,highlight:typeof e.highlight=="object"&&Mt((a=e.highlight)==null?void 0:a.dates)?It(e.highlight.dates,e.timezone,r):e.highlight,markers:Qn(e.markers,e.timezone)}},Gn=e=>typeof e=="boolean"?{enabled:e,dragSelect:!0,limit:null}:{enabled:!!e,limit:e.limit?+e.limit:null,dragSelect:e.dragSelect??!0},er=e=>({...Object.fromEntries(Object.keys(e).map(a=>{const r=a,t=e[r],l=typeof e[r]=="string"?{[t]:!0}:Object.fromEntries(t.map(i=>[i,!0]));return[a,l]}))}),Oe=e=>{const a=()=>{const R=e.enableSeconds?":ss":"",I=e.enableMinutes?":mm":"";return e.is24?`HH${I}${R}`:`hh${I}${R} aa`},r=()=>{var R;return e.format?e.format:e.monthPicker?"MM/yyyy":e.timePicker?a():e.weekPicker?`${((R=J.value)==null?void 0:R.type)==="iso"?"II":"ww"}-RR`:e.yearPicker?"yyyy":e.quarterPicker?"QQQ/yyyy":e.enableTimePicker?`MM/dd/yyyy, ${a()}`:"MM/dd/yyyy"},t=R=>Rl(R,e.enableSeconds),l=()=>B.value.enabled?e.startTime&&Array.isArray(e.startTime)?[t(e.startTime[0]),t(e.startTime[1])]:null:e.startTime&&!Array.isArray(e.startTime)?t(e.startTime):null,i=j(()=>zn(e.multiCalendars)),d=j(()=>l()),h=j(()=>Bn(e.ariaLabels)),s=j(()=>Hn(e.filters)),Y=j(()=>Ln(e.transitions)),c=j(()=>Fn(e.actionRow)),v=j(()=>Un(e.previewFormat,e.format,r())),p=j(()=>En(e.textInput)),w=j(()=>Wn(e.inline)),V=j(()=>jn(e.config)),C=j(()=>Kn(e.highlight)),J=j(()=>qn(e.weekNumbers)),k=j(()=>Jn(e.timezone)),H=j(()=>Gn(e.multiDates)),T=j(()=>Zn({minDate:e.minDate,maxDate:e.maxDate,disabledDates:e.disabledDates,allowedDates:e.allowedDates,highlight:C.value,markers:e.markers,timezone:k.value,isSpecific:e.monthPicker||e.yearPicker||e.quarterPicker,isMonthPicker:e.monthPicker,isYearPicker:e.yearPicker})),B=j(()=>Xn(e.range)),G=j(()=>er(e.ui));return{defaultedTransitions:Y,defaultedMultiCalendars:i,defaultedStartTime:d,defaultedAriaLabels:h,defaultedFilters:s,defaultedActionRow:c,defaultedPreviewFormat:v,defaultedTextInput:p,defaultedInline:w,defaultedConfig:V,defaultedHighlight:C,defaultedWeekNumbers:J,defaultedRange:B,propDates:T,defaultedTz:k,defaultedMultiDates:H,defaultedUI:G,getDefaultPattern:r,getDefaultStartTime:l}},ar=(e,a,r)=>{const t=Q(),{defaultedTextInput:l,defaultedRange:i,defaultedTz:d,defaultedMultiDates:h,getDefaultPattern:s}=Oe(a),Y=Q(""),c=qa(a,"format"),v=qa(a,"formatLocale");na(t,()=>{typeof a.onInternalModelChange=="function"&&e("internal-model-change",t.value,q(!0))},{deep:!0}),na(i,(n,$)=>{n.enabled!==$.enabled&&(t.value=null)}),na(c,()=>{te()});const p=n=>d.value.timezone&&d.value.convertModel?Ge(n,d.value.timezone):n,w=n=>{if(d.value.timezone&&d.value.convertModel){const $=gn(d.value.timezone,n);return ln(n,$)}return n},V=(n,$,re=!1)=>Il(n,a.format,a.formatLocale,l.value.rangeSeparator,a.modelAuto,$??s(),re),C=n=>n?a.modelType?oe(n):{hours:ga(n),minutes:Ma(n),seconds:a.enableSeconds?za(n):0}:null,J=n=>a.modelType?oe(n):{month:Me(n),year:he(n)},k=n=>Array.isArray(n)?h.value.enabled?n.map($=>H($,va(W(),$))):rt(()=>[va(W(),n[0]),n[1]?va(W(),n[1]):Ia(i.value.partialRange)],i.value.enabled):va(W(),+n),H=(n,$)=>(typeof n=="string"||typeof n=="number")&&a.modelType?N(n):$,T=n=>Array.isArray(n)?[H(n[0],Aa(null,+n[0].hours,+n[0].minutes,n[0].seconds)),H(n[1],Aa(null,+n[1].hours,+n[1].minutes,n[1].seconds))]:H(n,Aa(null,n.hours,n.minutes,n.seconds)),B=n=>{const $=Pe(W(),{date:1});return Array.isArray(n)?h.value.enabled?n.map(re=>H(re,fa($,+re.month,+re.year))):rt(()=>[H(n[0],fa($,+n[0].month,+n[0].year)),H(n[1],n[1]?fa($,+n[1].month,+n[1].year):Ia(i.value.partialRange))],i.value.enabled):H(n,fa($,+n.month,+n.year))},G=n=>{if(Array.isArray(n))return n.map($=>N($));throw new Error(Xt.dateArr("multi-dates"))},R=n=>{if(Array.isArray(n)&&i.value.enabled){const $=n[0],re=n[1];return[W(Array.isArray($)?$[0]:null),Array.isArray(re)&&re.length?W(re[0]):null]}return W(n[0])},I=n=>a.modelAuto?Array.isArray(n)?[N(n[0]),N(n[1])]:a.autoApply?[N(n)]:[N(n),null]:Array.isArray(n)?rt(()=>n[1]?[N(n[0]),n[1]?N(n[1]):Ia(i.value.partialRange)]:[N(n[0])],i.value.enabled):N(n),ie=()=>{Array.isArray(t.value)&&i.value.enabled&&t.value.length===1&&t.value.push(Ia(i.value.partialRange))},L=()=>{const n=t.value;return[oe(n[0]),n[1]?oe(n[1]):Ia(i.value.partialRange)]},O=()=>t.value[1]?L():oe(Ue(t.value[0])),se=()=>(t.value||[]).map(n=>oe(n)),ce=(n=!1)=>(n||ie(),a.modelAuto?O():h.value.enabled?se():Array.isArray(t.value)?rt(()=>L(),i.value.enabled):oe(Ue(t.value))),fe=n=>!n||Array.isArray(n)&&!n.length?null:a.timePicker?T(Ue(n)):a.monthPicker?B(Ue(n)):a.yearPicker?k(Ue(n)):h.value.enabled?G(Ue(n)):a.weekPicker?R(Ue(n)):I(Ue(n)),m=n=>{const $=fe(n);zt(Ue($))?(t.value=Ue($),te()):(t.value=null,Y.value="")},_=()=>{const n=$=>pa($,l.value.format);return`${n(t.value[0])} ${l.value.rangeSeparator} ${t.value[1]?n(t.value[1]):""}`},y=()=>r.value&&t.value?Array.isArray(t.value)?_():pa(t.value,l.value.format):V(t.value),z=()=>t.value?h.value.enabled?t.value.map(n=>V(n)).join("; "):l.value.enabled&&typeof l.value.format=="string"?y():V(t.value):"",te=()=>{!a.format||typeof a.format=="string"||l.value.enabled&&typeof l.value.format=="string"?Y.value=z():Y.value=a.format(t.value)},N=n=>{if(a.utc){const $=new Date(n);return a.utc==="preserve"?new Date($.getTime()+$.getTimezoneOffset()*6e4):$}return a.modelType?bn.includes(a.modelType)?p(new Date(n)):a.modelType==="format"&&(typeof a.format=="string"||!a.format)?p(Yt(n,s(),new Date,{locale:v.value})):p(Yt(n,a.modelType,new Date,{locale:v.value})):p(new Date(n))},oe=n=>n?a.utc?Cn(n,a.utc==="preserve",a.enableSeconds):a.modelType?a.modelType==="timestamp"?+w(n):a.modelType==="iso"?w(n).toISOString():a.modelType==="format"&&(typeof a.format=="string"||!a.format)?V(w(n)):V(w(n),a.modelType,!0):w(n):"",A=(n,$=!1,re=!1)=>{if(re)return n;if(e("update:model-value",n),d.value.emitTimezone&&$){const Ce=Array.isArray(n)?n.map(x=>Ge(Ue(x),d.value.emitTimezone)):Ge(Ue(n),d.value.emitTimezone);e("update:model-timezone-value",Ce)}},U=n=>Array.isArray(t.value)?h.value.enabled?t.value.map($=>n($)):[n(t.value[0]),t.value[1]?n(t.value[1]):Ia(i.value.partialRange)]:n(Ue(t.value)),g=()=>{if(Array.isArray(t.value)){const n=ya(t.value[0],a.weekStart),$=t.value[1]?ya(t.value[1],a.weekStart):[];return[n.map(re=>W(re)),$.map(re=>W(re))]}return ya(t.value,a.weekStart).map(n=>W(n))},M=(n,$)=>A(Ue(U(n)),!1,$),S=n=>{const $=g();return n?$:e("update:model-value",g())},q=(n=!1)=>(n||te(),a.monthPicker?M(J,n):a.timePicker?M(C,n):a.yearPicker?M(he,n):a.weekPicker?S(n):A(ce(n),!0,n));return{inputValue:Y,internalModelValue:t,checkBeforeEmit:()=>t.value?i.value.enabled?i.value.partialRange?t.value.length>=1:t.value.length===2:!!t.value:!1,parseExternalModelValue:m,formatInputValue:te,emitModelValue:q}},tr=(e,a)=>{const{defaultedFilters:r,propDates:t}=Oe(e),{validateMonthYearInRange:l}=$a(e),i=(c,v)=>{let p=c;return r.value.months.includes(Me(p))?(p=v?Pa(c,1):Ja(c,1),i(p,v)):p},d=(c,v)=>{let p=c;return r.value.years.includes(he(p))?(p=v?wl(c,1):kl(c,1),d(p,v)):p},h=(c,v=!1)=>{const p=Pe(W(),{month:e.month,year:e.year});let w=c?Pa(p,1):Ja(p,1);e.disableYearSelect&&(w=va(w,e.year));let V=Me(w),C=he(w);r.value.months.includes(V)&&(w=i(w,c),V=Me(w),C=he(w)),r.value.years.includes(C)&&(w=d(w,c),C=he(w)),l(V,C,c,e.preventMinMaxNavigation)&&s(V,C,v)},s=(c,v,p)=>{a("update-month-year",{month:c,year:v,fromNav:p})},Y=j(()=>c=>Ol(Pe(W(),{month:e.month,year:e.year}),t.value.maxDate,t.value.minDate,e.preventMinMaxNavigation,c));return{handleMonthYearChange:h,isDisabled:Y,updateMonthYear:s}},pt={multiCalendars:{type:[Boolean,Number,String,Object],default:void 0},modelValue:{type:[String,Date,Array,Object,Number],default:null},modelType:{type:String,default:null},position:{type:String,default:"center"},dark:{type:Boolean,default:!1},format:{type:[String,Function],default:()=>null},autoPosition:{type:[Boolean,String],default:!0},altPosition:{type:Function,default:null},transitions:{type:[Boolean,Object],default:!0},formatLocale:{type:Object,default:null},utc:{type:[Boolean,String],default:!1},ariaLabels:{type:Object,default:()=>({})},offset:{type:[Number,String],default:10},hideNavigation:{type:Array,default:()=>[]},timezone:{type:[String,Object],default:null},vertical:{type:Boolean,default:!1},disableMonthYearSelect:{type:Boolean,default:!1},disableYearSelect:{type:Boolean,default:!1},dayClass:{type:Function,default:null},yearRange:{type:Array,default:()=>[1900,2100]},enableTimePicker:{type:Boolean,default:!0},autoApply:{type:Boolean,default:!1},disabledDates:{type:[Array,Function],default:()=>[]},monthNameFormat:{type:String,default:"short"},startDate:{type:[Date,String],default:null},startTime:{type:[Object,Array],default:null},hideOffsetDates:{type:Boolean,default:!1},noToday:{type:Boolean,default:!1},disabledWeekDays:{type:Array,default:()=>[]},allowedDates:{type:Array,default:null},nowButtonLabel:{type:String,default:"Now"},markers:{type:Array,default:()=>[]},escClose:{type:Boolean,default:!0},spaceConfirm:{type:Boolean,default:!0},monthChangeOnArrows:{type:Boolean,default:!0},presetDates:{type:Array,default:()=>[]},flow:{type:Array,default:()=>[]},partialFlow:{type:Boolean,default:!1},preventMinMaxNavigation:{type:Boolean,default:!1},reverseYears:{type:Boolean,default:!1},weekPicker:{type:Boolean,default:!1},filters:{type:Object,default:()=>({})},arrowNavigation:{type:Boolean,default:!1},highlight:{type:[Function,Object],default:null},teleport:{type:[Boolean,String,Object],default:null},teleportCenter:{type:Boolean,default:!1},locale:{type:String,default:"en-Us"},weekNumName:{type:String,default:"W"},weekStart:{type:[Number,String],default:1},weekNumbers:{type:[String,Function,Object],default:null},monthChangeOnScroll:{type:[Boolean,String],default:!0},dayNames:{type:[Function,Array],default:null},monthPicker:{type:Boolean,default:!1},customProps:{type:Object,default:null},yearPicker:{type:Boolean,default:!1},modelAuto:{type:Boolean,default:!1},selectText:{type:String,default:"Select"},cancelText:{type:String,default:"Cancel"},previewFormat:{type:[String,Function],default:()=>""},multiDates:{type:[Object,Boolean],default:!1},ignoreTimeValidation:{type:Boolean,default:!1},minDate:{type:[Date,String],default:null},maxDate:{type:[Date,String],default:null},minTime:{type:Object,default:null},maxTime:{type:Object,default:null},name:{type:String,default:null},placeholder:{type:String,default:""},hideInputIcon:{type:Boolean,default:!1},clearable:{type:Boolean,default:!0},alwaysClearable:{type:Boolean,default:!1},state:{type:Boolean,default:null},required:{type:Boolean,default:!1},autocomplete:{type:String,default:"off"},timePicker:{type:Boolean,default:!1},enableSeconds:{type:Boolean,default:!1},is24:{type:Boolean,default:!0},noHoursOverlay:{type:Boolean,default:!1},noMinutesOverlay:{type:Boolean,default:!1},noSecondsOverlay:{type:Boolean,default:!1},hoursGridIncrement:{type:[String,Number],default:1},minutesGridIncrement:{type:[String,Number],default:5},secondsGridIncrement:{type:[String,Number],default:5},hoursIncrement:{type:[Number,String],default:1},minutesIncrement:{type:[Number,String],default:1},secondsIncrement:{type:[Number,String],default:1},range:{type:[Boolean,Object],default:!1},uid:{type:String,default:null},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},inline:{type:[Boolean,Object],default:!1},textInput:{type:[Boolean,Object],default:!1},sixWeeks:{type:[Boolean,String],default:!1},actionRow:{type:Object,default:()=>({})},focusStartDate:{type:Boolean,default:!1},disabledTimes:{type:[Function,Array],default:void 0},timePickerInline:{type:Boolean,default:!1},calendar:{type:Function,default:null},config:{type:Object,default:void 0},quarterPicker:{type:Boolean,default:!1},yearFirst:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},onInternalModelChange:{type:[Function,Object],default:null},enableMinutes:{type:Boolean,default:!0},ui:{type:Object,default:()=>({})}},sa={...pt,shadow:{type:Boolean,default:!1},flowStep:{type:Number,default:0},internalModelValue:{type:[Date,Array],default:null},noOverlayFocus:{type:Boolean,default:!1},collapse:{type:Boolean,default:!1},menuWrapRef:{type:Object,default:null},getInputRect:{type:Function,default:()=>({})},isTextInputDate:{type:Boolean,default:!1},isMobile:{type:Boolean,default:void 0}},lr=["title"],nr=["disabled"],rr=Fe({compatConfig:{MODE:3},__name:"ActionRow",props:{menuMount:{type:Boolean,default:!1},calendarWidth:{type:Number,default:0},...sa},emits:["close-picker","select-date","select-now","invalid-select"],setup(e,{emit:a}){const r=a,t=e,{defaultedActionRow:l,defaultedPreviewFormat:i,defaultedMultiCalendars:d,defaultedTextInput:h,defaultedInline:s,defaultedRange:Y,defaultedMultiDates:c}=Oe(t),{isTimeValid:v,isMonthValid:p}=$a(t),{buildMatrix:w}=xa(),V=Q(null),C=Q(null),J=Q(!1),k=Q({}),H=Q(null),T=Q(null);We(()=>{t.arrowNavigation&&w([ze(V),ze(C)],"actionRow"),B(),window.addEventListener("resize",B)}),et(()=>{window.removeEventListener("resize",B)});const B=()=>{J.value=!1,setTimeout(()=>{var m,_;const y=(m=H.value)==null?void 0:m.getBoundingClientRect(),z=(_=T.value)==null?void 0:_.getBoundingClientRect();y&&z&&(k.value.maxWidth=`${z.width-y.width-20}px`),J.value=!0},0)},G=j(()=>Y.value.enabled&&!Y.value.partialRange&&t.internalModelValue?t.internalModelValue.length===2:!0),R=j(()=>!v.value(t.internalModelValue)||!p.value(t.internalModelValue)||!G.value),I=()=>{const m=i.value;return t.timePicker||t.monthPicker,m(Ue(t.internalModelValue))},ie=()=>{const m=t.internalModelValue;return d.value.count>0?`${L(m[0])} - ${L(m[1])}`:[L(m[0]),L(m[1])]},L=m=>Il(m,i.value,t.formatLocale,h.value.rangeSeparator,t.modelAuto,i.value),O=j(()=>!t.internalModelValue||!t.menuMount?"":typeof i.value=="string"?Array.isArray(t.internalModelValue)?t.internalModelValue.length===2&&t.internalModelValue[1]?ie():c.value.enabled?t.internalModelValue.map(m=>`${L(m)}`):t.modelAuto?`${L(t.internalModelValue[0])}`:`${L(t.internalModelValue[0])} -`:L(t.internalModelValue):I()),se=()=>c.value.enabled?"; ":" - ",ce=j(()=>Array.isArray(O.value)?O.value.join(se()):O.value),fe=()=>{v.value(t.internalModelValue)&&p.value(t.internalModelValue)&&G.value?r("select-date"):r("invalid-select")};return(m,_)=>(D(),F("div",{ref_key:"actionRowRef",ref:T,class:"dp__action_row"},[m.$slots["action-row"]?de(m.$slots,"action-row",Le(Ee({key:0},{internalModelValue:m.internalModelValue,disabled:R.value,selectDate:()=>m.$emit("select-date"),closePicker:()=>m.$emit("close-picker")}))):(D(),F(_e,{key:1},[u(l).showPreview?(D(),F("div",{key:0,class:"dp__selection_preview",title:ce.value,style:la(k.value)},[m.$slots["action-preview"]&&J.value?de(m.$slots,"action-preview",{key:0,value:m.internalModelValue}):K("",!0),!m.$slots["action-preview"]&&J.value?(D(),F(_e,{key:1},[ha(qe(ce.value),1)],64)):K("",!0)],12,lr)):K("",!0),ge("div",{ref_key:"actionBtnContainer",ref:H,class:"dp__action_buttons","data-dp-element":"action-row"},[m.$slots["action-buttons"]?de(m.$slots,"action-buttons",{key:0,value:m.internalModelValue}):K("",!0),m.$slots["action-buttons"]?K("",!0):(D(),F(_e,{key:1},[!u(s).enabled&&u(l).showCancel?(D(),F("button",{key:0,ref_key:"cancelButtonRef",ref:V,type:"button",class:"dp__action_button dp__action_cancel",onClick:_[0]||(_[0]=y=>m.$emit("close-picker")),onKeydown:_[1]||(_[1]=y=>u(Qe)(y,()=>m.$emit("close-picker")))},qe(m.cancelText),545)):K("",!0),u(l).showNow?(D(),F("button",{key:1,type:"button",class:"dp__action_button dp__action_cancel",onClick:_[2]||(_[2]=y=>m.$emit("select-now")),onKeydown:_[3]||(_[3]=y=>u(Qe)(y,()=>m.$emit("select-now")))},qe(m.nowButtonLabel),33)):K("",!0),u(l).showSelect?(D(),F("button",{key:2,ref_key:"selectButtonRef",ref:C,type:"button",class:"dp__action_button dp__action_select",disabled:R.value,"data-test-id":"select-button",onKeydown:_[4]||(_[4]=y=>u(Qe)(y,()=>fe())),onClick:fe},qe(m.selectText),41,nr)):K("",!0)],64))],512)],64))],512))}}),or=["role","aria-label","tabindex"],ur={class:"dp__selection_grid_header"},ir=["aria-selected","aria-disabled","data-test-id","onClick","onKeydown","onMouseover"],sr=["aria-label"],at=Fe({__name:"SelectionOverlay",props:{items:{},type:{},isLast:{type:Boolean},arrowNavigation:{type:Boolean},skipButtonRef:{type:Boolean},headerRefs:{},hideNavigation:{},escClose:{type:Boolean},useRelative:{type:Boolean},height:{},textInput:{type:[Boolean,Object]},config:{},noOverlayFocus:{type:Boolean},focusValue:{},menuWrapRef:{},ariaLabels:{},overlayLabel:{}},emits:["selected","toggle","reset-flow","hover-value"],setup(e,{expose:a,emit:r}){const{setSelectionGrid:t,buildMultiLevelMatrix:l,setMonthPicker:i}=xa(),d=r,h=e,{defaultedAriaLabels:s,defaultedTextInput:Y,defaultedConfig:c}=Oe(h),{hideNavigationButtons:v}=ft(),p=Q(!1),w=Q(null),V=Q(null),C=Q([]),J=Q(),k=Q(null),H=Q(0),T=Q(null);Jl(()=>{w.value=null}),We(()=>{ta().then(()=>se()),h.noOverlayFocus||G(),B(!0)}),et(()=>B(!1));const B=U=>{var g;h.arrowNavigation&&((g=h.headerRefs)!=null&&g.length?i(U):t(U))},G=()=>{var U;const g=ze(V);g&&(Y.value.enabled||(w.value?(U=w.value)==null||U.focus({preventScroll:!0}):g.focus({preventScroll:!0})),p.value=g.clientHeight<g.scrollHeight)},R=j(()=>({dp__overlay:!0,"dp--overlay-absolute":!h.useRelative,"dp--overlay-relative":h.useRelative})),I=j(()=>h.useRelative?{height:`${h.height}px`,width:"var(--dp-menu-min-width)"}:void 0),ie=j(()=>({dp__overlay_col:!0})),L=j(()=>({dp__btn:!0,dp__button:!0,dp__overlay_action:!0,dp__over_action_scroll:p.value,dp__button_bottom:h.isLast})),O=j(()=>{var U,g;return{dp__overlay_container:!0,dp__container_flex:((U=h.items)==null?void 0:U.length)<=6,dp__container_block:((g=h.items)==null?void 0:g.length)>6}});na(()=>h.items,()=>se(!1),{deep:!0});const se=(U=!0)=>{ta().then(()=>{const g=ze(w),M=ze(V),S=ze(k),q=ze(T),n=S?S.getBoundingClientRect().height:0;M&&(M.getBoundingClientRect().height?H.value=M.getBoundingClientRect().height-n:H.value=c.value.modeHeight-n),g&&q&&U&&(q.scrollTop=g.offsetTop-q.offsetTop-(H.value/2-g.getBoundingClientRect().height)-n)})},ce=U=>{U.disabled||d("selected",U.value)},fe=()=>{d("toggle"),d("reset-flow")},m=()=>{h.escClose&&fe()},_=(U,g,M,S)=>{U&&((g.active||g.value===h.focusValue)&&(w.value=U),h.arrowNavigation&&(Array.isArray(C.value[M])?C.value[M][S]=U:C.value[M]=[U],y()))},y=()=>{var U,g;const M=(U=h.headerRefs)!=null&&U.length?[h.headerRefs].concat(C.value):C.value.concat([h.skipButtonRef?[]:[k.value]]);l(Ue(M),(g=h.headerRefs)!=null&&g.length?"monthPicker":"selectionGrid")},z=U=>{h.arrowNavigation||Da(U,c.value,!0)},te=U=>{J.value=U,d("hover-value",U)},N=()=>{if(fe(),!h.isLast){const U=Bt(h.menuWrapRef??null,"action-row");if(U){const g=xl(U);g==null||g.focus()}}},oe=U=>{switch(U.key){case Se.esc:return m();case Se.arrowLeft:return z(U);case Se.arrowRight:return z(U);case Se.arrowUp:return z(U);case Se.arrowDown:return z(U);default:return}},A=U=>{if(U.key===Se.enter)return fe();if(U.key===Se.tab)return N()};return a({focusGrid:G}),(U,g)=>{var M;return D(),F("div",{ref_key:"gridWrapRef",ref:V,class:ke(R.value),style:la(I.value),role:U.useRelative?void 0:"dialog","aria-label":U.overlayLabel,tabindex:U.useRelative?void 0:"0",onKeydown:oe,onClick:g[0]||(g[0]=Xa(()=>{},["prevent"]))},[ge("div",{ref_key:"containerRef",ref:T,class:ke(O.value),style:la({"--dp-overlay-height":`${H.value}px`}),role:"grid"},[ge("div",ur,[de(U.$slots,"header")]),U.$slots.overlay?de(U.$slots,"overlay",{key:0}):(D(!0),F(_e,{key:1},Re(U.items,(S,q)=>(D(),F("div",{key:q,class:ke(["dp__overlay_row",{dp__flex_row:U.items.length>=3}]),role:"row"},[(D(!0),F(_e,null,Re(S,(n,$)=>(D(),F("div",{key:n.value,ref_for:!0,ref:re=>_(re,n,q,$),role:"gridcell",class:ke(ie.value),"aria-selected":n.active||void 0,"aria-disabled":n.disabled||void 0,tabindex:"0","data-test-id":n.text,onClick:Xa(re=>ce(n),["prevent"]),onKeydown:re=>u(Qe)(re,()=>ce(n),!0),onMouseover:re=>te(n.value)},[ge("div",{class:ke(n.className)},[U.$slots.item?de(U.$slots,"item",{key:0,item:n}):K("",!0),U.$slots.item?K("",!0):(D(),F(_e,{key:1},[ha(qe(n.text),1)],64))],2)],42,ir))),128))],2))),128))],6),U.$slots["button-icon"]?ut((D(),F("button",{key:0,ref_key:"toggleButton",ref:k,type:"button","aria-label":(M=u(s))==null?void 0:M.toggleOverlay,class:ke(L.value),tabindex:"0",onClick:fe,onKeydown:A},[de(U.$slots,"button-icon")],42,sr)),[[it,!u(v)(U.hideNavigation,U.type)]]):K("",!0)],46,or)}}}),dr=["data-dp-mobile"],mt=Fe({__name:"InstanceWrap",props:{multiCalendars:{},stretch:{type:Boolean},collapse:{type:Boolean},isMobile:{type:Boolean}},setup(e){const a=e,r=j(()=>a.multiCalendars>0?[...Array(a.multiCalendars).keys()]:[0]),t=j(()=>({dp__instance_calendar:a.multiCalendars>0}));return(l,i)=>(D(),F("div",{class:ke({dp__menu_inner:!l.stretch,"dp--menu--inner-stretched":l.stretch,dp__flex_display:l.multiCalendars>0,"dp--flex-display-collapsed":l.collapse}),"data-dp-mobile":l.isMobile},[(D(!0),F(_e,null,Re(r.value,(d,h)=>(D(),F("div",{key:d,class:ke(t.value)},[de(l.$slots,"default",{instance:d,index:h})],2))),128))],10,dr))}}),cr=["data-dp-element","aria-label","aria-disabled"],Ka=Fe({compatConfig:{MODE:3},__name:"ArrowBtn",props:{ariaLabel:{},elName:{},disabled:{type:Boolean}},emits:["activate","set-ref"],setup(e,{emit:a}){const r=a,t=Q(null);return We(()=>r("set-ref",t)),(l,i)=>(D(),F("button",{ref_key:"elRef",ref:t,type:"button","data-dp-element":l.elName,class:"dp__btn dp--arrow-btn-nav",tabindex:"0","aria-label":l.ariaLabel,"aria-disabled":l.disabled||void 0,onClick:i[0]||(i[0]=d=>l.$emit("activate")),onKeydown:i[1]||(i[1]=d=>u(Qe)(d,()=>l.$emit("activate"),!0))},[ge("span",{class:ke(["dp__inner_nav",{dp__inner_nav_disabled:l.disabled}])},[de(l.$slots,"default")],2)],40,cr))}}),vr=["aria-label","data-test-id"],Vl=Fe({__name:"YearModePicker",props:{...sa,showYearPicker:{type:Boolean,default:!1},items:{type:Array,default:()=>[]},instance:{type:Number,default:0},year:{type:Number,default:0},isDisabled:{type:Function,default:()=>!1}},emits:["toggle-year-picker","year-select","handle-year"],setup(e,{emit:a}){const r=a,t=e,{showRightIcon:l,showLeftIcon:i}=ft(),{defaultedConfig:d,defaultedMultiCalendars:h,defaultedAriaLabels:s,defaultedTransitions:Y,defaultedUI:c}=Oe(t),{showTransition:v,transitionName:p}=tt(Y),w=Q(!1),V=(k=!1,H)=>{w.value=!w.value,r("toggle-year-picker",{flow:k,show:H})},C=k=>{w.value=!1,r("year-select",k)},J=(k=!1)=>{r("handle-year",k)};return(k,H)=>{var T,B,G,R,I;return D(),F(_e,null,[ge("div",{class:ke(["dp--year-mode-picker",{"dp--hidden-el":w.value}])},[u(i)(u(h),e.instance)?(D(),$e(Ka,{key:0,ref:"mpPrevIconRef","aria-label":(T=u(s))==null?void 0:T.prevYear,disabled:e.isDisabled(!1),class:ke((B=u(c))==null?void 0:B.navBtnPrev),onActivate:H[0]||(H[0]=ie=>J(!1))},{default:we(()=>[k.$slots["arrow-left"]?de(k.$slots,"arrow-left",{key:0}):K("",!0),k.$slots["arrow-left"]?K("",!0):(D(),$e(u(Et),{key:1}))]),_:3},8,["aria-label","disabled","class"])):K("",!0),ge("button",{ref:"mpYearButtonRef",class:"dp__btn dp--year-select",type:"button","aria-label":`${e.year}-${(G=u(s))==null?void 0:G.openYearsOverlay}`,"data-test-id":`year-mode-btn-${e.instance}`,onClick:H[1]||(H[1]=()=>V(!1)),onKeydown:H[2]||(H[2]=Ql(()=>V(!1),["enter"]))},[k.$slots.year?de(k.$slots,"year",{key:0,year:e.year}):K("",!0),k.$slots.year?K("",!0):(D(),F(_e,{key:1},[ha(qe(e.year),1)],64))],40,vr),u(l)(u(h),e.instance)?(D(),$e(Ka,{key:1,ref:"mpNextIconRef","aria-label":(R=u(s))==null?void 0:R.nextYear,disabled:e.isDisabled(!0),class:ke((I=u(c))==null?void 0:I.navBtnNext),onActivate:H[3]||(H[3]=ie=>J(!0))},{default:we(()=>[k.$slots["arrow-right"]?de(k.$slots,"arrow-right",{key:0}):K("",!0),k.$slots["arrow-right"]?K("",!0):(D(),$e(u(Ht),{key:1}))]),_:3},8,["aria-label","disabled","class"])):K("",!0)],2),aa(Ea,{name:u(p)(e.showYearPicker),css:u(v)},{default:we(()=>{var ie,L;return[e.showYearPicker?(D(),$e(at,{key:0,items:e.items,"text-input":k.textInput,"esc-close":k.escClose,config:k.config,"is-last":k.autoApply&&!u(d).keepActionRow,"hide-navigation":k.hideNavigation,"aria-labels":k.ariaLabels,"overlay-label":(L=(ie=u(s))==null?void 0:ie.yearPicker)==null?void 0:L.call(ie,!0),type:"year",onToggle:V,onSelected:H[4]||(H[4]=O=>C(O))},Xe({"button-icon":we(()=>[k.$slots["calendar-icon"]?de(k.$slots,"calendar-icon",{key:0}):K("",!0),k.$slots["calendar-icon"]?K("",!0):(D(),$e(u(Ha),{key:1}))]),_:2},[k.$slots["year-overlay-value"]?{name:"item",fn:we(({item:O})=>[de(k.$slots,"year-overlay-value",{text:O.text,value:O.value})]),key:"0"}:void 0]),1032,["items","text-input","esc-close","config","is-last","hide-navigation","aria-labels","overlay-label"])):K("",!0)]}),_:3},8,["name","css"])],64)}}}),Zt=(e,a,r)=>{if(a.value&&Array.isArray(a.value))if(a.value.some(t=>xe(e,t))){const t=a.value.filter(l=>!xe(l,e));a.value=t.length?t:null}else(r&&+r>a.value.length||!r)&&a.value.push(e);else a.value=[e]},Gt=(e,a,r)=>{let t=e.value?e.value.slice():[];return t.length===2&&t[1]!==null&&(t=[]),t.length?(Ie(a,t[0])?t.unshift(a):t[1]=a,r("range-end",a)):(t=[a],r("range-start",a)),t},yt=(e,a,r,t)=>{e&&(e[0]&&e[1]&&r&&a("auto-apply"),e[0]&&!e[1]&&t&&r&&a("auto-apply"))},Bl=e=>{Array.isArray(e.value)&&e.value.length<=2&&e.range?e.modelValue.value=e.value.map(a=>Ge(W(a),e.timezone)):Array.isArray(e.value)||(e.modelValue.value=Ge(W(e.value),e.timezone))},zl=(e,a,r,t)=>Array.isArray(a.value)&&(a.value.length===2||a.value.length===1&&t.value.partialRange)?t.value.fixedStart&&(Ye(e,a.value[0])||xe(e,a.value[0]))?[a.value[0],e]:t.value.fixedEnd&&(Ie(e,a.value[1])||xe(e,a.value[1]))?[e,a.value[1]]:(r("invalid-fixed-range",e),a.value):[],Ul=({multiCalendars:e,range:a,highlight:r,propDates:t,calendars:l,modelValue:i,props:d,filters:h,year:s,month:Y,emit:c})=>{const v=j(()=>qt(d.yearRange,d.locale,d.reverseYears)),p=Q([!1]),w=j(()=>(O,se)=>{const ce=Pe(ia(new Date),{month:Y.value(O),year:s.value(O)}),fe=se?gl(ce):dt(ce);return Ol(fe,t.value.maxDate,t.value.minDate,d.preventMinMaxNavigation,se)}),V=()=>Array.isArray(i.value)&&e.value.solo&&i.value[1],C=()=>{for(let O=0;O<e.value.count;O++)if(O===0)l.value[O]=l.value[0];else if(O===e.value.count-1&&V())l.value[O]={month:Me(i.value[1]),year:he(i.value[1])};else{const se=Pe(W(),l.value[O-1]);l.value[O]={month:Me(se),year:he(wl(se,1))}}},J=O=>{if(!O)return C();const se=Pe(W(),l.value[O]);return l.value[0].year=he(kl(se,e.value.count-1)),C()},k=(O,se)=>{const ce=yn(se,O);return a.value.showLastInRange&&ce>1?se:O},H=O=>d.focusStartDate||e.value.solo?O[0]:O[1]?k(O[0],O[1]):O[0],T=()=>{if(i.value){const O=Array.isArray(i.value)?H(i.value):i.value;l.value[0]={month:Me(O),year:he(O)}}},B=()=>{T(),e.value.count&&C()};na(i,(O,se)=>{d.isTextInputDate&&JSON.stringify(O??{})!==JSON.stringify(se??{})&&B()}),We(()=>{B()});const G=(O,se)=>{l.value[se].year=O,c("update-month-year",{instance:se,year:O,month:l.value[se].month}),e.value.count&&!e.value.solo&&J(se)},R=j(()=>O=>Ua(v.value,se=>{var ce;const fe=s.value(O)===se.value,m=Qa(se.value,La(t.value.minDate),La(t.value.maxDate))||((ce=h.value.years)==null?void 0:ce.includes(s.value(O))),_=Qt(r.value,se.value);return{active:fe,disabled:m,highlighted:_}})),I=(O,se)=>{G(O,se),L(se)},ie=(O,se=!1)=>{if(!w.value(O,se)){const ce=se?s.value(O)+1:s.value(O)-1;G(ce,O)}},L=(O,se=!1,ce)=>{se||c("reset-flow"),ce!==void 0?p.value[O]=ce:p.value[O]=!p.value[O],p.value[O]?c("overlay-toggle",{open:!0,overlay:Ke.year}):(c("overlay-closed"),c("overlay-toggle",{open:!1,overlay:Ke.year}))};return{isDisabled:w,groupedYears:R,showYearPicker:p,selectYear:G,toggleYearPicker:L,handleYearSelect:I,handleYear:ie}},pr=(e,a)=>{const{defaultedMultiCalendars:r,defaultedAriaLabels:t,defaultedTransitions:l,defaultedConfig:i,defaultedRange:d,defaultedHighlight:h,propDates:s,defaultedTz:Y,defaultedFilters:c,defaultedMultiDates:v}=Oe(e),p=()=>{e.isTextInputDate&&B(he(W(e.startDate)),0)},{modelValue:w,year:V,month:C,calendars:J}=lt(e,a,p),k=j(()=>Al(e.formatLocale,e.locale,e.monthNameFormat)),H=Q(null),{checkMinMaxRange:T}=$a(e),{selectYear:B,groupedYears:G,showYearPicker:R,toggleYearPicker:I,handleYearSelect:ie,handleYear:L,isDisabled:O}=Ul({modelValue:w,multiCalendars:r,range:d,highlight:h,calendars:J,year:V,propDates:s,month:C,filters:c,props:e,emit:a});We(()=>{e.startDate&&(w.value&&e.focusStartDate||!w.value)&&B(he(W(e.startDate)),0)});const se=M=>M?{month:Me(M),year:he(M)}:{month:null,year:null},ce=()=>w.value?Array.isArray(w.value)?w.value.map(M=>se(M)):se(w.value):se(),fe=(M,S)=>{const q=J.value[M],n=ce();return Array.isArray(n)?n.some($=>$.year===(q==null?void 0:q.year)&&$.month===S):(q==null?void 0:q.year)===n.year&&S===n.month},m=(M,S,q)=>{var n,$;const re=ce();return Array.isArray(re)?V.value(S)===((n=re[q])==null?void 0:n.year)&&M===(($=re[q])==null?void 0:$.month):!1},_=(M,S)=>{if(d.value.enabled){const q=ce();if(Array.isArray(w.value)&&Array.isArray(q)){const n=m(M,S,0)||m(M,S,1),$=fa(ia(W()),M,V.value(S));return Za(w.value,H.value,$)&&!n}return!1}return!1},y=j(()=>M=>Ua(k.value,S=>{var q;const n=fe(M,S.value),$=Qa(S.value,Tl(V.value(M),s.value.minDate),Sl(V.value(M),s.value.maxDate))||Yn(s.value.disabledDates,V.value(M),S.value)||((q=c.value.months)==null?void 0:q.includes(S.value))||!Vn(s.value.allowedDates,V.value(M),S.value),re=_(S.value,M),Ce=Nl(h.value,S.value,V.value(M));return{active:n,disabled:$,isBetween:re,highlighted:Ce}})),z=(M,S)=>fa(ia(W()),M,V.value(S)),te=(M,S)=>{const q=w.value?w.value:ia(new Date);w.value=fa(q,M,V.value(S)),a("auto-apply"),a("update-flow-step")},N=(M,S)=>{const q=z(M,S);d.value.fixedEnd||d.value.fixedStart?w.value=zl(q,w,a,d):w.value?T(q,w.value)&&(w.value=Gt(w,z(M,S),a)):w.value=[z(M,S)],ta().then(()=>{yt(w.value,a,e.autoApply,e.modelAuto)})},oe=(M,S)=>{Zt(z(M,S),w,v.value.limit),a("auto-apply",!0)},A=(M,S)=>(J.value[S].month=M,g(S,J.value[S].year,M),v.value.enabled?oe(M,S):d.value.enabled?N(M,S):te(M,S)),U=(M,S)=>{B(M,S),g(S,M,null)},g=(M,S,q)=>{let n=q;if(!n&&n!==0){const $=ce();n=Array.isArray($)?$[M].month:$.month}a("update-month-year",{instance:M,year:S,month:n})};return{groupedMonths:y,groupedYears:G,year:V,isDisabled:O,defaultedMultiCalendars:r,defaultedAriaLabels:t,defaultedTransitions:l,defaultedConfig:i,showYearPicker:R,modelValue:w,presetDate:(M,S)=>{Bl({value:M,modelValue:w,range:d.value.enabled,timezone:S?void 0:Y.value.timezone}),a("auto-apply")},setHoverDate:(M,S)=>{H.value=z(M,S)},selectMonth:A,selectYear:U,toggleYearPicker:I,handleYearSelect:ie,handleYear:L,getModelMonthYear:ce}},mr=Fe({compatConfig:{MODE:3},__name:"MonthPicker",props:{...sa},emits:["update:internal-model-value","overlay-closed","reset-flow","range-start","range-end","auto-apply","update-month-year","update-flow-step","mount","invalid-fixed-range","overlay-toggle"],setup(e,{expose:a,emit:r}){const t=r,l=Ra(),i=ea(l,"yearMode"),d=e;We(()=>{d.shadow||t("mount",null)});const{groupedMonths:h,groupedYears:s,year:Y,isDisabled:c,defaultedMultiCalendars:v,defaultedConfig:p,showYearPicker:w,modelValue:V,presetDate:C,setHoverDate:J,selectMonth:k,selectYear:H,toggleYearPicker:T,handleYearSelect:B,handleYear:G,getModelMonthYear:R}=pr(d,t);return a({getSidebarProps:()=>({modelValue:V,year:Y,getModelMonthYear:R,selectMonth:k,selectYear:H,handleYear:G}),presetDate:C,toggleYearPicker:I=>T(0,I)}),(I,ie)=>(D(),$e(mt,{"multi-calendars":u(v).count,collapse:I.collapse,stretch:"","is-mobile":I.isMobile},{default:we(({instance:L})=>[I.$slots["top-extra"]?de(I.$slots,"top-extra",{key:0,value:I.internalModelValue}):K("",!0),I.$slots["month-year"]?de(I.$slots,"month-year",Le(Ee({key:1},{year:u(Y),months:u(h)(L),years:u(s)(L),selectMonth:u(k),selectYear:u(H),instance:L}))):(D(),$e(at,{key:2,items:u(h)(L),"arrow-navigation":I.arrowNavigation,"is-last":I.autoApply&&!u(p).keepActionRow,"esc-close":I.escClose,height:u(p).modeHeight,config:I.config,"no-overlay-focus":!!(I.noOverlayFocus||I.textInput),"use-relative":"",type:"month",onSelected:O=>u(k)(O,L),onHoverValue:O=>u(J)(O,L)},Xe({header:we(()=>[aa(Vl,Ee(I.$props,{items:u(s)(L),instance:L,"show-year-picker":u(w)[L],year:u(Y)(L),"is-disabled":O=>u(c)(L,O),onHandleYear:O=>u(G)(L,O),onYearSelect:O=>u(B)(O,L),onToggleYearPicker:O=>u(T)(L,O==null?void 0:O.flow,O==null?void 0:O.show)}),Xe({_:2},[Re(u(i),(O,se)=>({name:O,fn:we(ce=>[de(I.$slots,O,Le(Ze(ce)))])}))]),1040,["items","instance","show-year-picker","year","is-disabled","onHandleYear","onYearSelect","onToggleYearPicker"])]),_:2},[I.$slots["month-overlay-value"]?{name:"item",fn:we(({item:O})=>[de(I.$slots,"month-overlay-value",{text:O.text,value:O.value})]),key:"0"}:void 0]),1032,["items","arrow-navigation","is-last","esc-close","height","config","no-overlay-focus","onSelected","onHoverValue"]))]),_:3},8,["multi-calendars","collapse","is-mobile"]))}}),yr=(e,a)=>{const r=()=>{e.isTextInputDate&&(c.value=he(W(e.startDate)))},{modelValue:t}=lt(e,a,r),l=Q(null),{defaultedHighlight:i,defaultedMultiDates:d,defaultedFilters:h,defaultedRange:s,propDates:Y}=Oe(e),c=Q();We(()=>{e.startDate&&(t.value&&e.focusStartDate||!t.value)&&(c.value=he(W(e.startDate)))});const v=k=>Array.isArray(t.value)?t.value.some(H=>he(H)===k):t.value?he(t.value)===k:!1,p=k=>s.value.enabled&&Array.isArray(t.value)?Za(t.value,l.value,J(k)):!1,w=k=>Y.value.allowedDates instanceof Map?Y.value.allowedDates.size?Y.value.allowedDates.has(`${k}`):!1:!0,V=k=>Y.value.disabledDates instanceof Map?Y.value.disabledDates.size?Y.value.disabledDates.has(`${k}`):!1:!0,C=j(()=>Ua(qt(e.yearRange,e.locale,e.reverseYears),k=>{const H=v(k.value),T=Qa(k.value,La(Y.value.minDate),La(Y.value.maxDate))||h.value.years.includes(k.value)||!w(k.value)||V(k.value),B=p(k.value)&&!H,G=Qt(i.value,k.value);return{active:H,disabled:T,isBetween:B,highlighted:G}})),J=k=>va(ia(dt(new Date)),k);return{groupedYears:C,modelValue:t,focusYear:c,setHoverValue:k=>{l.value=va(ia(new Date),k)},selectYear:k=>{var H;if(a("update-month-year",{instance:0,year:k}),d.value.enabled)return t.value?Array.isArray(t.value)&&(((H=t.value)==null?void 0:H.map(T=>he(T))).includes(k)?t.value=t.value.filter(T=>he(T)!==k):t.value.push(va(He(W()),k))):t.value=[va(He(dt(W())),k)],a("auto-apply",!0);s.value.enabled?(t.value=Gt(t,J(k),a),ta().then(()=>{yt(t.value,a,e.autoApply,e.modelAuto)})):(t.value=J(k),a("auto-apply"))}}},fr=Fe({compatConfig:{MODE:3},__name:"YearPicker",props:{...sa},emits:["update:internal-model-value","reset-flow","range-start","range-end","auto-apply","update-month-year"],setup(e,{expose:a,emit:r}){const t=r,l=e,{groupedYears:i,modelValue:d,focusYear:h,selectYear:s,setHoverValue:Y}=yr(l,t),{defaultedConfig:c}=Oe(l);return a({getSidebarProps:()=>({modelValue:d,selectYear:s})}),(v,p)=>(D(),F("div",null,[v.$slots["top-extra"]?de(v.$slots,"top-extra",{key:0,value:v.internalModelValue}):K("",!0),v.$slots["month-year"]?de(v.$slots,"month-year",Le(Ee({key:1},{years:u(i),selectYear:u(s)}))):(D(),$e(at,{key:2,items:u(i),"is-last":v.autoApply&&!u(c).keepActionRow,height:u(c).modeHeight,config:v.config,"no-overlay-focus":!!(v.noOverlayFocus||v.textInput),"focus-value":u(h),type:"year","use-relative":"",onSelected:u(s),onHoverValue:u(Y)},Xe({_:2},[v.$slots["year-overlay-value"]?{name:"item",fn:we(({item:w})=>[de(v.$slots,"year-overlay-value",{text:w.text,value:w.value})]),key:"0"}:void 0]),1032,["items","is-last","height","config","no-overlay-focus","focus-value","onSelected","onHoverValue"]))]))}}),hr={key:0,class:"dp__time_input"},gr=["data-compact","data-collapsed"],br=["data-test-id","aria-label","onKeydown","onClick","onMousedown"],_r=["aria-label","disabled","data-test-id","onKeydown","onClick"],wr=["data-test-id","aria-label","onKeydown","onClick","onMousedown"],kr={key:0},Dr=["aria-label","data-compact"],Ar=Fe({compatConfig:{MODE:3},__name:"TimeInput",props:{hours:{type:Number,default:0},minutes:{type:Number,default:0},seconds:{type:Number,default:0},closeTimePickerBtn:{type:Object,default:null},order:{type:Number,default:0},disabledTimesConfig:{type:Function,default:null},validateTime:{type:Function,default:()=>!1},...sa},emits:["set-hours","set-minutes","update:hours","update:minutes","update:seconds","reset-flow","mounted","overlay-closed","overlay-opened","am-pm-change"],setup(e,{expose:a,emit:r}){const t=r,l=e,{setTimePickerElements:i,setTimePickerBackRef:d}=xa(),{defaultedAriaLabels:h,defaultedTransitions:s,defaultedFilters:Y,defaultedConfig:c,defaultedRange:v,defaultedMultiCalendars:p}=Oe(l),{transitionName:w,showTransition:V}=tt(s),C=Ga({hours:!1,minutes:!1,seconds:!1}),J=Q("AM"),k=Q(null),H=Q([]),T=Q(),B=Q(!1);We(()=>{t("mounted")});const G=o=>Pe(new Date,{hours:o.hours,minutes:o.minutes,seconds:l.enableSeconds?o.seconds:0,milliseconds:0}),R=j(()=>o=>N(o,l[o])||ie(o,l[o])),I=j(()=>({hours:l.hours,minutes:l.minutes,seconds:l.seconds})),ie=(o,ee)=>v.value.enabled&&!v.value.disableTimeRangeValidation?!l.validateTime(o,ee):!1,L=(o,ee)=>{if(v.value.enabled&&!v.value.disableTimeRangeValidation){const ue=ee?+l[`${o}Increment`]:-+l[`${o}Increment`],ae=l[o]+ue;return!l.validateTime(o,ae)}return!1},O=j(()=>o=>!M(+l[o]+ +l[`${o}Increment`],o)||L(o,!0)),se=j(()=>o=>!M(+l[o]-+l[`${o}Increment`],o)||L(o,!1)),ce=(o,ee)=>fl(Pe(W(),o),ee),fe=(o,ee)=>mn(Pe(W(),o),ee),m=j(()=>({dp__time_col:!0,dp__time_col_block:!l.timePickerInline,dp__time_col_reg_block:!l.enableSeconds&&l.is24&&!l.timePickerInline,dp__time_col_reg_inline:!l.enableSeconds&&l.is24&&l.timePickerInline,dp__time_col_reg_with_button:!l.enableSeconds&&!l.is24,dp__time_col_sec:l.enableSeconds&&l.is24,dp__time_col_sec_with_button:l.enableSeconds&&!l.is24})),_=j(()=>l.timePickerInline&&v.value.enabled&&!p.value.count),y=j(()=>{const o=[{type:"hours"}];return l.enableMinutes&&o.push({type:"",separator:!0},{type:"minutes"}),l.enableSeconds&&o.push({type:"",separator:!0},{type:"seconds"}),o}),z=j(()=>y.value.filter(o=>!o.separator)),te=j(()=>o=>{if(o==="hours"){const ee=Ce(+l.hours);return{text:ee<10?`0${ee}`:`${ee}`,value:ee}}return{text:l[o]<10?`0${l[o]}`:`${l[o]}`,value:l[o]}}),N=(o,ee)=>{var ue;if(!l.disabledTimesConfig)return!1;const ae=l.disabledTimesConfig(l.order,o==="hours"?ee:void 0);return ae[o]?!!((ue=ae[o])!=null&&ue.includes(ee)):!0},oe=(o,ee)=>ee!=="hours"||J.value==="AM"?o:o+12,A=o=>{const ee=l.is24?24:12,ue=o==="hours"?ee:60,ae=+l[`${o}GridIncrement`],Ae=o==="hours"&&!l.is24?ae:0,De=[];for(let b=Ae;b<ue;b+=ae)De.push({value:l.is24?b:oe(b,o),text:b<10?`0${b}`:`${b}`});return o==="hours"&&!l.is24&&De.unshift({value:J.value==="PM"?12:0,text:"12"}),Ua(De,b=>({active:!1,disabled:Y.value.times[o].includes(b.value)||!M(b.value,o)||N(o,b.value)||ie(o,b.value)}))},U=o=>o>=0?o:59,g=o=>o>=0?o:23,M=(o,ee)=>{const ue=l.minTime?G(xt(l.minTime)):null,ae=l.maxTime?G(xt(l.maxTime)):null,Ae=G(xt(I.value,ee,ee==="minutes"||ee==="seconds"?U(o):g(o)));return ue&&ae?(Ba(Ae,ae)||Ya(Ae,ae))&&(Ca(Ae,ue)||Ya(Ae,ue)):ue?Ca(Ae,ue)||Ya(Ae,ue):ae?Ba(Ae,ae)||Ya(Ae,ae):!0},S=o=>l[`no${o[0].toUpperCase()+o.slice(1)}Overlay`],q=o=>{S(o)||(C[o]=!C[o],C[o]?(B.value=!0,t("overlay-opened",o)):(B.value=!1,t("overlay-closed",o)))},n=o=>o==="hours"?ga:o==="minutes"?Ma:za,$=()=>{T.value&&clearTimeout(T.value)},re=(o,ee=!0,ue)=>{const ae=ee?ce:fe,Ae=ee?+l[`${o}Increment`]:-+l[`${o}Increment`];M(+l[o]+Ae,o)&&t(`update:${o}`,n(o)(ae({[o]:+l[o]},{[o]:+l[`${o}Increment`]}))),!(ue!=null&&ue.keyboard)&&c.value.timeArrowHoldThreshold&&(T.value=setTimeout(()=>{re(o,ee)},c.value.timeArrowHoldThreshold))},Ce=o=>l.is24?o:(o>=12?J.value="PM":J.value="AM",kn(o)),x=()=>{J.value==="PM"?(J.value="AM",t("update:hours",l.hours-12)):(J.value="PM",t("update:hours",l.hours+12)),t("am-pm-change",J.value)},be=o=>{C[o]=!0},E=(o,ee,ue)=>{if(o&&l.arrowNavigation){Array.isArray(H.value[ee])?H.value[ee][ue]=o:H.value[ee]=[o];const ae=H.value.reduce((Ae,De)=>De.map((b,X)=>[...Ae[X]||[],De[X]]),[]);d(l.closeTimePickerBtn),k.value&&(ae[1]=ae[1].concat(k.value)),i(ae,l.order)}},le=(o,ee)=>(q(o),t(`update:${o}`,ee));return a({openChildCmp:be}),(o,ee)=>{var ue;return o.disabled?K("",!0):(D(),F("div",hr,[(D(!0),F(_e,null,Re(y.value,(ae,Ae)=>{var De,b,X;return D(),F("div",{key:Ae,class:ke(m.value),"data-compact":_.value&&!o.enableSeconds,"data-collapsed":_.value&&o.enableSeconds},[ae.separator?(D(),F(_e,{key:0},[B.value?K("",!0):(D(),F(_e,{key:0},[ha(":")],64))],64)):(D(),F(_e,{key:1},[ge("button",{ref_for:!0,ref:pe=>E(pe,Ae,0),type:"button",class:ke({dp__btn:!0,dp__inc_dec_button:!o.timePickerInline,dp__inc_dec_button_inline:o.timePickerInline,dp__tp_inline_btn_top:o.timePickerInline,dp__inc_dec_button_disabled:O.value(ae.type),"dp--hidden-el":B.value}),"data-test-id":`${ae.type}-time-inc-btn-${l.order}`,"aria-label":(De=u(h))==null?void 0:De.incrementValue(ae.type),tabindex:"0",onKeydown:pe=>u(Qe)(pe,()=>re(ae.type,!0,{keyboard:!0}),!0),onClick:pe=>u(c).timeArrowHoldThreshold?void 0:re(ae.type,!0),onMousedown:pe=>u(c).timeArrowHoldThreshold?re(ae.type,!0):void 0,onMouseup:$},[l.timePickerInline?(D(),F(_e,{key:1},[o.$slots["tp-inline-arrow-up"]?de(o.$slots,"tp-inline-arrow-up",{key:0}):(D(),F(_e,{key:1},[ee[2]||(ee[2]=ge("span",{class:"dp__tp_inline_btn_bar dp__tp_btn_in_l"},null,-1)),ee[3]||(ee[3]=ge("span",{class:"dp__tp_inline_btn_bar dp__tp_btn_in_r"},null,-1))],64))],64)):(D(),F(_e,{key:0},[o.$slots["arrow-up"]?de(o.$slots,"arrow-up",{key:0}):K("",!0),o.$slots["arrow-up"]?K("",!0):(D(),$e(u(Wt),{key:1}))],64))],42,br),ge("button",{ref_for:!0,ref:pe=>E(pe,Ae,1),type:"button","aria-label":`${te.value(ae.type).text}-${(b=u(h))==null?void 0:b.openTpOverlay(ae.type)}`,class:ke({dp__time_display:!0,dp__time_display_block:!o.timePickerInline,dp__time_display_inline:o.timePickerInline,"dp--time-invalid":R.value(ae.type),"dp--time-overlay-btn":!R.value(ae.type),"dp--hidden-el":B.value}),disabled:S(ae.type),tabindex:"0","data-test-id":`${ae.type}-toggle-overlay-btn-${l.order}`,onKeydown:pe=>u(Qe)(pe,()=>q(ae.type),!0),onClick:pe=>q(ae.type)},[o.$slots[ae.type]?de(o.$slots,ae.type,{key:0,text:te.value(ae.type).text,value:te.value(ae.type).value}):K("",!0),o.$slots[ae.type]?K("",!0):(D(),F(_e,{key:1},[ha(qe(te.value(ae.type).text),1)],64))],42,_r),ge("button",{ref_for:!0,ref:pe=>E(pe,Ae,2),type:"button",class:ke({dp__btn:!0,dp__inc_dec_button:!o.timePickerInline,dp__inc_dec_button_inline:o.timePickerInline,dp__tp_inline_btn_bottom:o.timePickerInline,dp__inc_dec_button_disabled:se.value(ae.type),"dp--hidden-el":B.value}),"data-test-id":`${ae.type}-time-dec-btn-${l.order}`,"aria-label":(X=u(h))==null?void 0:X.decrementValue(ae.type),tabindex:"0",onKeydown:pe=>u(Qe)(pe,()=>re(ae.type,!1,{keyboard:!0}),!0),onClick:pe=>u(c).timeArrowHoldThreshold?void 0:re(ae.type,!1),onMousedown:pe=>u(c).timeArrowHoldThreshold?re(ae.type,!1):void 0,onMouseup:$},[l.timePickerInline?(D(),F(_e,{key:1},[o.$slots["tp-inline-arrow-down"]?de(o.$slots,"tp-inline-arrow-down",{key:0}):(D(),F(_e,{key:1},[ee[4]||(ee[4]=ge("span",{class:"dp__tp_inline_btn_bar dp__tp_btn_in_l"},null,-1)),ee[5]||(ee[5]=ge("span",{class:"dp__tp_inline_btn_bar dp__tp_btn_in_r"},null,-1))],64))],64)):(D(),F(_e,{key:0},[o.$slots["arrow-down"]?de(o.$slots,"arrow-down",{key:0}):K("",!0),o.$slots["arrow-down"]?K("",!0):(D(),$e(u(jt),{key:1}))],64))],42,wr)],64))],10,gr)}),128)),o.is24?K("",!0):(D(),F("div",kr,[o.$slots["am-pm-button"]?de(o.$slots,"am-pm-button",{key:0,toggle:x,value:J.value}):K("",!0),o.$slots["am-pm-button"]?K("",!0):(D(),F("button",{key:1,ref_key:"amPmButton",ref:k,type:"button",class:"dp__pm_am_button",role:"button","aria-label":(ue=u(h))==null?void 0:ue.amPmButton,tabindex:"0","data-compact":_.value,onClick:x,onKeydown:ee[0]||(ee[0]=ae=>u(Qe)(ae,()=>x(),!0))},qe(J.value),41,Dr))])),(D(!0),F(_e,null,Re(z.value,(ae,Ae)=>(D(),$e(Ea,{key:Ae,name:u(w)(C[ae.type]),css:u(V)},{default:we(()=>{var De,b;return[C[ae.type]?(D(),$e(at,{key:0,items:A(ae.type),"is-last":o.autoApply&&!u(c).keepActionRow,"esc-close":o.escClose,type:ae.type,"text-input":o.textInput,config:o.config,"arrow-navigation":o.arrowNavigation,"aria-labels":o.ariaLabels,"overlay-label":(b=(De=u(h)).timeOverlay)==null?void 0:b.call(De,ae.type),onSelected:X=>le(ae.type,X),onToggle:X=>q(ae.type),onResetFlow:ee[1]||(ee[1]=X=>o.$emit("reset-flow"))},Xe({"button-icon":we(()=>[o.$slots["clock-icon"]?de(o.$slots,"clock-icon",{key:0}):K("",!0),o.$slots["clock-icon"]?K("",!0):(D(),$e(vt(o.timePickerInline?u(Ha):u(Ft)),{key:1}))]),_:2},[o.$slots[`${ae.type}-overlay-value`]?{name:"item",fn:we(({item:X})=>[de(o.$slots,`${ae.type}-overlay-value`,{text:X.text,value:X.value})]),key:"0"}:void 0,o.$slots[`${ae.type}-overlay-header`]?{name:"header",fn:we(()=>[de(o.$slots,`${ae.type}-overlay-header`,{toggle:()=>q(ae.type)})]),key:"1"}:void 0]),1032,["items","is-last","esc-close","type","text-input","config","arrow-navigation","aria-labels","overlay-label","onSelected","onToggle"])):K("",!0)]}),_:2},1032,["name","css"]))),128))]))}}}),Mr=["data-dp-mobile"],xr=["aria-label","tabindex"],$r=["role","aria-label","tabindex"],Pr=["aria-label"],Ll=Fe({compatConfig:{MODE:3},__name:"TimePicker",props:{hours:{type:[Number,Array],default:0},minutes:{type:[Number,Array],default:0},seconds:{type:[Number,Array],default:0},disabledTimesConfig:{type:Function,default:null},validateTime:{type:Function,default:()=>!1},...sa},emits:["update:hours","update:minutes","update:seconds","mount","reset-flow","overlay-opened","overlay-closed","am-pm-change"],setup(e,{expose:a,emit:r}){const t=r,l=e,{buildMatrix:i,setTimePicker:d}=xa(),h=Ra(),{defaultedTransitions:s,defaultedAriaLabels:Y,defaultedTextInput:c,defaultedConfig:v,defaultedRange:p}=Oe(l),{transitionName:w,showTransition:V}=tt(s),{hideNavigationButtons:C}=ft(),J=Q(null),k=Q(null),H=Q([]),T=Q(null),B=Q(!1);We(()=>{t("mount"),!l.timePicker&&l.arrowNavigation?i([ze(J.value)],"time"):d(!0,l.timePicker)});const G=j(()=>p.value.enabled&&l.modelAuto?Ml(l.internalModelValue):!0),R=Q(!1),I=N=>({hours:Array.isArray(l.hours)?l.hours[N]:l.hours,minutes:Array.isArray(l.minutes)?l.minutes[N]:l.minutes,seconds:Array.isArray(l.seconds)?l.seconds[N]:l.seconds}),ie=j(()=>{const N=[];if(p.value.enabled)for(let oe=0;oe<2;oe++)N.push(I(oe));else N.push(I(0));return N}),L=(N,oe=!1,A="")=>{oe||t("reset-flow"),R.value=N,t(N?"overlay-opened":"overlay-closed",Ke.time),l.arrowNavigation&&d(N),ta(()=>{A!==""&&H.value[0]&&H.value[0].openChildCmp(A)})},O=j(()=>({dp__btn:!0,dp__button:!0,dp__button_bottom:l.autoApply&&!v.value.keepActionRow})),se=ea(h,"timePicker"),ce=(N,oe,A)=>p.value.enabled?oe===0?[N,ie.value[1][A]]:[ie.value[0][A],N]:N,fe=N=>{t("update:hours",N)},m=N=>{t("update:minutes",N)},_=N=>{t("update:seconds",N)},y=()=>{if(T.value&&!c.value.enabled&&!l.noOverlayFocus){const N=xl(T.value);N&&N.focus({preventScroll:!0})}},z=N=>{B.value=!1,t("overlay-closed",N)},te=N=>{B.value=!0,t("overlay-opened",N)};return a({toggleTimePicker:L}),(N,oe)=>{var A;return D(),F("div",{class:"dp--tp-wrap","data-dp-mobile":N.isMobile},[!N.timePicker&&!N.timePickerInline?ut((D(),F("button",{key:0,ref_key:"openTimePickerBtn",ref:J,type:"button",class:ke({...O.value,"dp--hidden-el":R.value}),"aria-label":(A=u(Y))==null?void 0:A.openTimePicker,tabindex:N.noOverlayFocus?void 0:0,"data-test-id":"open-time-picker-btn",onKeydown:oe[0]||(oe[0]=U=>u(Qe)(U,()=>L(!0))),onClick:oe[1]||(oe[1]=U=>L(!0))},[N.$slots["clock-icon"]?de(N.$slots,"clock-icon",{key:0}):K("",!0),N.$slots["clock-icon"]?K("",!0):(D(),$e(u(Ft),{key:1}))],42,xr)),[[it,!u(C)(N.hideNavigation,"time")]]):K("",!0),aa(Ea,{name:u(w)(R.value),css:u(V)&&!N.timePickerInline},{default:we(()=>{var U,g;return[R.value||N.timePicker||N.timePickerInline?(D(),F("div",{key:0,ref_key:"overlayRef",ref:T,role:N.timePickerInline?void 0:"dialog",class:ke({dp__overlay:!N.timePickerInline,"dp--overlay-absolute":!l.timePicker&&!N.timePickerInline,"dp--overlay-relative":l.timePicker}),style:la(N.timePicker?{height:`${u(v).modeHeight}px`}:void 0),"aria-label":(U=u(Y))==null?void 0:U.timePicker,tabindex:N.timePickerInline?void 0:0},[ge("div",{class:ke(N.timePickerInline?"dp__time_picker_inline_container":"dp__overlay_container dp__container_flex dp__time_picker_overlay_container"),style:{display:"flex"}},[N.$slots["time-picker-overlay"]?de(N.$slots,"time-picker-overlay",{key:0,hours:e.hours,minutes:e.minutes,seconds:e.seconds,setHours:fe,setMinutes:m,setSeconds:_}):K("",!0),N.$slots["time-picker-overlay"]?K("",!0):(D(),F("div",{key:1,class:ke(N.timePickerInline?"dp__flex":"dp__overlay_row dp__flex_row")},[(D(!0),F(_e,null,Re(ie.value,(M,S)=>ut((D(),$e(Ar,Ee({key:S,ref_for:!0},{...N.$props,order:S,hours:M.hours,minutes:M.minutes,seconds:M.seconds,closeTimePickerBtn:k.value,disabledTimesConfig:e.disabledTimesConfig,disabled:S===0?u(p).fixedStart:u(p).fixedEnd},{ref_for:!0,ref_key:"timeInputRefs",ref:H,"validate-time":(q,n)=>e.validateTime(q,ce(n,S,q)),"onUpdate:hours":q=>fe(ce(q,S,"hours")),"onUpdate:minutes":q=>m(ce(q,S,"minutes")),"onUpdate:seconds":q=>_(ce(q,S,"seconds")),onMounted:y,onOverlayClosed:z,onOverlayOpened:te,onAmPmChange:oe[2]||(oe[2]=q=>N.$emit("am-pm-change",q))}),Xe({_:2},[Re(u(se),(q,n)=>({name:q,fn:we($=>[de(N.$slots,q,Ee({ref_for:!0},$))])}))]),1040,["validate-time","onUpdate:hours","onUpdate:minutes","onUpdate:seconds"])),[[it,S===0?!0:G.value]])),128))],2)),!N.timePicker&&!N.timePickerInline?ut((D(),F("button",{key:2,ref_key:"closeTimePickerBtn",ref:k,type:"button",class:ke({...O.value,"dp--hidden-el":B.value}),"aria-label":(g=u(Y))==null?void 0:g.closeTimePicker,tabindex:"0",onKeydown:oe[3]||(oe[3]=M=>u(Qe)(M,()=>L(!1))),onClick:oe[4]||(oe[4]=M=>L(!1))},[N.$slots["calendar-icon"]?de(N.$slots,"calendar-icon",{key:0}):K("",!0),N.$slots["calendar-icon"]?K("",!0):(D(),$e(u(Ha),{key:1}))],42,Pr)),[[it,!u(C)(N.hideNavigation,"time")]]):K("",!0)],2)],14,$r)):K("",!0)]}),_:3},8,["name","css"])],8,Mr)}}}),El=(e,a,r,t)=>{const{defaultedRange:l}=Oe(e),i=(T,B)=>Array.isArray(a[T])?a[T][B]:a[T],d=T=>e.enableSeconds?Array.isArray(a.seconds)?a.seconds[T]:a.seconds:0,h=(T,B)=>T?B!==void 0?Aa(T,i("hours",B),i("minutes",B),d(B)):Aa(T,a.hours,a.minutes,d()):bl(W(),d(B)),s=(T,B)=>{a[T]=B},Y=j(()=>e.modelAuto&&l.value.enabled?Array.isArray(r.value)?r.value.length>1:!1:l.value.enabled),c=(T,B)=>{const G=Object.fromEntries(Object.keys(a).map(R=>R===T?[R,B]:[R,a[R]].slice()));if(Y.value&&!l.value.disableTimeRangeValidation){const R=ie=>r.value?Aa(r.value[ie],G.hours[ie],G.minutes[ie],G.seconds[ie]):null,I=ie=>_l(r.value[ie],0);return!(xe(R(0),R(1))&&(Ca(R(0),I(1))||Ba(R(1),I(0))))}return!0},v=(T,B)=>{c(T,B)&&(s(T,B),t&&t())},p=T=>{v("hours",T)},w=T=>{v("minutes",T)},V=T=>{v("seconds",T)},C=(T,B,G,R)=>{B&&p(T),!B&&!G&&w(T),G&&V(T),r.value&&R(r.value)},J=T=>{if(T){const B=Array.isArray(T),G=B?[+T[0].hours,+T[1].hours]:+T.hours,R=B?[+T[0].minutes,+T[1].minutes]:+T.minutes,I=B?[+T[0].seconds,+T[1].seconds]:+T.seconds;s("hours",G),s("minutes",R),e.enableSeconds&&s("seconds",I)}},k=(T,B)=>{const G={hours:Array.isArray(a.hours)?a.hours[T]:a.hours,disabledArr:[]};return(B||B===0)&&(G.hours=B),Array.isArray(e.disabledTimes)&&(G.disabledArr=l.value.enabled&&Array.isArray(e.disabledTimes[T])?e.disabledTimes[T]:e.disabledTimes),G},H=j(()=>(T,B)=>{var G;if(Array.isArray(e.disabledTimes)){const{disabledArr:R,hours:I}=k(T,B),ie=R.filter(L=>+L.hours===I);return((G=ie[0])==null?void 0:G.minutes)==="*"?{hours:[I],minutes:void 0,seconds:void 0}:{hours:[],minutes:(ie==null?void 0:ie.map(L=>+L.minutes))??[],seconds:(ie==null?void 0:ie.map(L=>L.seconds?+L.seconds:void 0))??[]}}return{hours:[],minutes:[],seconds:[]}});return{setTime:s,updateHours:p,updateMinutes:w,updateSeconds:V,getSetDateTime:h,updateTimeValues:C,getSecondsValue:d,assignStartTime:J,validateTime:c,disabledTimesConfig:H}},Tr=(e,a)=>{const r=()=>{e.isTextInputDate&&B()},{modelValue:t,time:l}=lt(e,a,r),{defaultedStartTime:i,defaultedRange:d,defaultedTz:h}=Oe(e),{updateTimeValues:s,getSetDateTime:Y,setTime:c,assignStartTime:v,disabledTimesConfig:p,validateTime:w}=El(e,l,t,V);function V(){a("update-flow-step")}const C=R=>{const{hours:I,minutes:ie,seconds:L}=R;return{hours:+I,minutes:+ie,seconds:L?+L:0}},J=()=>{if(e.startTime){if(Array.isArray(e.startTime)){const I=C(e.startTime[0]),ie=C(e.startTime[1]);return[Pe(W(),I),Pe(W(),ie)]}const R=C(e.startTime);return Pe(W(),R)}return d.value.enabled?[null,null]:null},k=()=>{if(d.value.enabled){const[R,I]=J();t.value=[Ge(Y(R,0),h.value.timezone),Ge(Y(I,1),h.value.timezone)]}else t.value=Ge(Y(J()),h.value.timezone)},H=R=>Array.isArray(R)?[Sa(W(R[0])),Sa(W(R[1]))]:[Sa(R??W())],T=(R,I,ie)=>{c("hours",R),c("minutes",I),c("seconds",e.enableSeconds?ie:0)},B=()=>{const[R,I]=H(t.value);return d.value.enabled?T([R.hours,I.hours],[R.minutes,I.minutes],[R.seconds,I.seconds]):T(R.hours,R.minutes,R.seconds)};We(()=>{if(!e.shadow)return v(i.value),t.value?B():k()});const G=()=>{Array.isArray(t.value)?t.value=t.value.map((R,I)=>R&&Y(R,I)):t.value=Y(t.value),a("time-update")};return{modelValue:t,time:l,disabledTimesConfig:p,updateTime:(R,I=!0,ie=!1)=>{s(R,I,ie,G)},validateTime:w}},Sr=Fe({compatConfig:{MODE:3},__name:"TimePickerSolo",props:{...sa},emits:["update:internal-model-value","time-update","am-pm-change","mount","reset-flow","update-flow-step","overlay-toggle"],setup(e,{expose:a,emit:r}){const t=r,l=e,i=Ra(),d=ea(i,"timePicker"),h=Q(null),{time:s,modelValue:Y,disabledTimesConfig:c,updateTime:v,validateTime:p}=Tr(l,t);return We(()=>{l.shadow||t("mount",null)}),a({getSidebarProps:()=>({modelValue:Y,time:s,updateTime:v}),toggleTimePicker:(w,V=!1,C="")=>{var J;(J=h.value)==null||J.toggleTimePicker(w,V,C)}}),(w,V)=>(D(),$e(mt,{"multi-calendars":0,stretch:"","is-mobile":w.isMobile},{default:we(()=>[aa(Ll,Ee({ref_key:"tpRef",ref:h},w.$props,{hours:u(s).hours,minutes:u(s).minutes,seconds:u(s).seconds,"internal-model-value":w.internalModelValue,"disabled-times-config":u(c),"validate-time":u(p),"onUpdate:hours":V[0]||(V[0]=C=>u(v)(C)),"onUpdate:minutes":V[1]||(V[1]=C=>u(v)(C,!1)),"onUpdate:seconds":V[2]||(V[2]=C=>u(v)(C,!1,!0)),onAmPmChange:V[3]||(V[3]=C=>w.$emit("am-pm-change",C)),onResetFlow:V[4]||(V[4]=C=>w.$emit("reset-flow")),onOverlayClosed:V[5]||(V[5]=C=>w.$emit("overlay-toggle",{open:!1,overlay:C})),onOverlayOpened:V[6]||(V[6]=C=>w.$emit("overlay-toggle",{open:!0,overlay:C}))}),Xe({_:2},[Re(u(d),(C,J)=>({name:C,fn:we(k=>[de(w.$slots,C,Le(Ze(k)))])}))]),1040,["hours","minutes","seconds","internal-model-value","disabled-times-config","validate-time"])]),_:3},8,["is-mobile"]))}}),Cr={class:"dp--header-wrap"},Rr={key:0,class:"dp__month_year_wrap"},Or={key:0},Ir={class:"dp__month_year_wrap"},Nr=["data-dp-element","aria-label","data-test-id","onClick","onKeydown"],Yr=Fe({compatConfig:{MODE:3},__name:"DpHeader",props:{month:{type:Number,default:0},year:{type:Number,default:0},instance:{type:Number,default:0},years:{type:Array,default:()=>[]},months:{type:Array,default:()=>[]},...sa},emits:["update-month-year","mount","reset-flow","overlay-closed","overlay-opened"],setup(e,{expose:a,emit:r}){const t=r,l=e,{defaultedTransitions:i,defaultedAriaLabels:d,defaultedMultiCalendars:h,defaultedFilters:s,defaultedConfig:Y,defaultedHighlight:c,propDates:v,defaultedUI:p}=Oe(l),{transitionName:w,showTransition:V}=tt(i),{buildMatrix:C}=xa(),{handleMonthYearChange:J,isDisabled:k,updateMonthYear:H}=tr(l,t),{showLeftIcon:T,showRightIcon:B}=ft(),G=Q(!1),R=Q(!1),I=Q(!1),ie=Q([null,null,null,null]);We(()=>{t("mount")});const L=g=>({get:()=>l[g],set:M=>{const S=g===oa.month?oa.year:oa.month;t("update-month-year",{[g]:M,[S]:l[S]}),g===oa.month?z(!0):te(!0)}}),O=j(L(oa.month)),se=j(L(oa.year)),ce=j(()=>g=>({month:l.month,year:l.year,items:g===oa.month?l.months:l.years,instance:l.instance,updateMonthYear:H,toggle:g===oa.month?z:te})),fe=j(()=>l.months.find(M=>M.value===l.month)||{text:"",value:0}),m=j(()=>Ua(l.months,g=>{const M=l.month===g.value,S=Qa(g.value,Tl(l.year,v.value.minDate),Sl(l.year,v.value.maxDate))||s.value.months.includes(g.value),q=Nl(c.value,g.value,l.year);return{active:M,disabled:S,highlighted:q}})),_=j(()=>Ua(l.years,g=>{const M=l.year===g.value,S=Qa(g.value,La(v.value.minDate),La(v.value.maxDate))||s.value.years.includes(g.value),q=Qt(c.value,g.value);return{active:M,disabled:S,highlighted:q}})),y=(g,M,S)=>{S!==void 0?g.value=S:g.value=!g.value,g.value?(I.value=!0,t("overlay-opened",M)):(I.value=!1,t("overlay-closed",M))},z=(g=!1,M)=>{N(g),y(G,Ke.month,M)},te=(g=!1,M)=>{N(g),y(R,Ke.year,M)},N=g=>{g||t("reset-flow")},oe=(g,M)=>{l.arrowNavigation&&(ie.value[M]=ze(g),C(ie.value,"monthYear"))},A=j(()=>{var g,M,S,q,n,$;return[{type:oa.month,index:1,toggle:z,modelValue:O.value,updateModelValue:re=>O.value=re,text:fe.value.text,showSelectionGrid:G.value,items:m.value,ariaLabel:(g=d.value)==null?void 0:g.openMonthsOverlay,overlayLabel:((S=(M=d.value).monthPicker)==null?void 0:S.call(M,!0))??void 0},{type:oa.year,index:2,toggle:te,modelValue:se.value,updateModelValue:re=>se.value=re,text:$l(l.year,l.locale),showSelectionGrid:R.value,items:_.value,ariaLabel:(q=d.value)==null?void 0:q.openYearsOverlay,overlayLabel:(($=(n=d.value).yearPicker)==null?void 0:$.call(n,!0))??void 0}]}),U=j(()=>l.disableYearSelect?[A.value[0]]:l.yearFirst?[...A.value].reverse():A.value);return a({toggleMonthPicker:z,toggleYearPicker:te,handleMonthYearChange:J}),(g,M)=>{var S,q,n,$,re,Ce;return D(),F("div",Cr,[g.$slots["month-year"]?(D(),F("div",Rr,[de(g.$slots,"month-year",Le(Ze({month:e.month,year:e.year,months:e.months,years:e.years,updateMonthYear:u(H),handleMonthYearChange:u(J),instance:e.instance,isDisabled:u(k)})))])):(D(),F(_e,{key:1},[g.$slots["top-extra"]?(D(),F("div",Or,[de(g.$slots,"top-extra",{value:g.internalModelValue})])):K("",!0),ge("div",Ir,[u(T)(u(h),e.instance)&&!g.vertical?(D(),$e(Ka,{key:0,"aria-label":(S=u(d))==null?void 0:S.prevMonth,disabled:u(k)(!1),class:ke((q=u(p))==null?void 0:q.navBtnPrev),"el-name":"action-prev",onActivate:M[0]||(M[0]=x=>u(J)(!1,!0)),onSetRef:M[1]||(M[1]=x=>oe(x,0))},{default:we(()=>[g.$slots["arrow-left"]?de(g.$slots,"arrow-left",{key:0}):K("",!0),g.$slots["arrow-left"]?K("",!0):(D(),$e(u(Et),{key:1}))]),_:3},8,["aria-label","disabled","class"])):K("",!0),ge("div",{class:ke(["dp__month_year_wrap",{dp__year_disable_select:g.disableYearSelect}])},[(D(!0),F(_e,null,Re(U.value,(x,be)=>(D(),F(_e,{key:x.type},[ge("button",{ref_for:!0,ref:E=>oe(E,be+1),type:"button","data-dp-element":`overlay-${x.type}`,class:ke(["dp__btn dp__month_year_select",{"dp--hidden-el":I.value}]),"aria-label":`${x.text}-${x.ariaLabel}`,"data-test-id":`${x.type}-toggle-overlay-${e.instance}`,onClick:x.toggle,onKeydown:E=>u(Qe)(E,()=>x.toggle(),!0)},[g.$slots[x.type]?de(g.$slots,x.type,{key:0,text:x.text,value:l[x.type]}):K("",!0),g.$slots[x.type]?K("",!0):(D(),F(_e,{key:1},[ha(qe(x.text),1)],64))],42,Nr),aa(Ea,{name:u(w)(x.showSelectionGrid),css:u(V)},{default:we(()=>[x.showSelectionGrid?(D(),$e(at,{key:0,items:x.items,"arrow-navigation":g.arrowNavigation,"hide-navigation":g.hideNavigation,"is-last":g.autoApply&&!u(Y).keepActionRow,"skip-button-ref":!1,config:g.config,type:x.type,"header-refs":[],"esc-close":g.escClose,"menu-wrap-ref":g.menuWrapRef,"text-input":g.textInput,"aria-labels":g.ariaLabels,"overlay-label":x.overlayLabel,onSelected:x.updateModelValue,onToggle:x.toggle},Xe({"button-icon":we(()=>[g.$slots["calendar-icon"]?de(g.$slots,"calendar-icon",{key:0}):K("",!0),g.$slots["calendar-icon"]?K("",!0):(D(),$e(u(Ha),{key:1}))]),_:2},[g.$slots[`${x.type}-overlay-value`]?{name:"item",fn:we(({item:E})=>[de(g.$slots,`${x.type}-overlay-value`,{text:E.text,value:E.value})]),key:"0"}:void 0,g.$slots[`${x.type}-overlay`]?{name:"overlay",fn:we(()=>[de(g.$slots,`${x.type}-overlay`,Ee({ref_for:!0},ce.value(x.type)))]),key:"1"}:void 0,g.$slots[`${x.type}-overlay-header`]?{name:"header",fn:we(()=>[de(g.$slots,`${x.type}-overlay-header`,{toggle:x.toggle})]),key:"2"}:void 0]),1032,["items","arrow-navigation","hide-navigation","is-last","config","type","esc-close","menu-wrap-ref","text-input","aria-labels","overlay-label","onSelected","onToggle"])):K("",!0)]),_:2},1032,["name","css"])],64))),128))],2),u(T)(u(h),e.instance)&&g.vertical?(D(),$e(Ka,{key:1,"aria-label":(n=u(d))==null?void 0:n.prevMonth,"el-name":"action-prev",disabled:u(k)(!1),class:ke(($=u(p))==null?void 0:$.navBtnPrev),onActivate:M[2]||(M[2]=x=>u(J)(!1,!0))},{default:we(()=>[g.$slots["arrow-up"]?de(g.$slots,"arrow-up",{key:0}):K("",!0),g.$slots["arrow-up"]?K("",!0):(D(),$e(u(Wt),{key:1}))]),_:3},8,["aria-label","disabled","class"])):K("",!0),u(B)(u(h),e.instance)?(D(),$e(Ka,{key:2,ref:"rightIcon","el-name":"action-next",disabled:u(k)(!0),"aria-label":(re=u(d))==null?void 0:re.nextMonth,class:ke((Ce=u(p))==null?void 0:Ce.navBtnNext),onActivate:M[3]||(M[3]=x=>u(J)(!0,!0)),onSetRef:M[4]||(M[4]=x=>oe(x,g.disableYearSelect?2:3))},{default:we(()=>[g.$slots[g.vertical?"arrow-down":"arrow-right"]?de(g.$slots,g.vertical?"arrow-down":"arrow-right",{key:0}):K("",!0),g.$slots[g.vertical?"arrow-down":"arrow-right"]?K("",!0):(D(),$e(vt(g.vertical?u(jt):u(Ht)),{key:1}))]),_:3},8,["disabled","aria-label","class"])):K("",!0)])],64))])}}}),Vr={class:"dp__calendar_header",role:"row"},Br={key:0,class:"dp__calendar_header_item",role:"gridcell"},zr=["aria-label"],Ur={key:0,class:"dp__calendar_item dp__week_num",role:"gridcell"},Lr={class:"dp__cell_inner"},Er=["id","aria-pressed","aria-disabled","aria-label","tabindex","data-test-id","onClick","onTouchend","onKeydown","onMouseenter","onMouseleave","onMousedown"],Hr=Fe({compatConfig:{MODE:3},__name:"DpCalendar",props:{mappedDates:{type:Array,default:()=>[]},instance:{type:Number,default:0},month:{type:Number,default:0},year:{type:Number,default:0},...sa},emits:["select-date","set-hover-date","handle-scroll","mount","handle-swipe","handle-space","tooltip-open","tooltip-close"],setup(e,{expose:a,emit:r}){const t=r,l=e,{buildMultiLevelMatrix:i}=xa(),{defaultedTransitions:d,defaultedConfig:h,defaultedAriaLabels:s,defaultedMultiCalendars:Y,defaultedWeekNumbers:c,defaultedMultiDates:v,defaultedUI:p}=Oe(l),w=Q(null),V=Q({bottom:"",left:"",transform:""}),C=Q([]),J=Q(null),k=Q(!0),H=Q(""),T=Q({startX:0,endX:0,startY:0,endY:0}),B=Q([]),G=Q({left:"50%"}),R=Q(!1),I=j(()=>l.calendar?l.calendar(l.mappedDates):l.mappedDates),ie=j(()=>l.dayNames?Array.isArray(l.dayNames)?l.dayNames:l.dayNames(l.locale,+l.weekStart):wn(l.formatLocale,l.locale,+l.weekStart));We(()=>{t("mount",{cmp:"calendar",refs:C}),h.value.noSwipe||J.value&&(J.value.addEventListener("touchstart",oe,{passive:!1}),J.value.addEventListener("touchend",A,{passive:!1}),J.value.addEventListener("touchmove",U,{passive:!1})),l.monthChangeOnScroll&&J.value&&J.value.addEventListener("wheel",S,{passive:!1})});const L=x=>x?l.vertical?"vNext":"next":l.vertical?"vPrevious":"previous",O=(x,be)=>{if(l.transitions){const E=He(fa(W(),l.month,l.year));H.value=Ye(He(fa(W(),x,be)),E)?d.value[L(!0)]:d.value[L(!1)],k.value=!1,ta(()=>{k.value=!0})}},se=j(()=>({...p.value.calendar??{}})),ce=j(()=>x=>{const be=Dn(x);return{dp__marker_dot:be.type==="dot",dp__marker_line:be.type==="line"}}),fe=j(()=>x=>xe(x,w.value)),m=j(()=>({dp__calendar:!0,dp__calendar_next:Y.value.count>0&&l.instance!==0})),_=j(()=>x=>l.hideOffsetDates?x.current:!0),y=async(x,be)=>{const{width:E,height:le}=x.getBoundingClientRect();w.value=be.value;let o={left:`${E/2}px`},ee=-50;if(await ta(),B.value[0]){const{left:ue,width:ae}=B.value[0].getBoundingClientRect();ue<0&&(o={left:"0"},ee=0,G.value.left=`${E/2}px`),window.innerWidth<ue+ae&&(o={right:"0"},ee=0,G.value.left=`${ae-E/2}px`)}V.value={bottom:`${le}px`,...o,transform:`translateX(${ee}%)`}},z=async(x,be,E)=>{var le,o,ee;const ue=ze(C.value[be][E]);ue&&((le=x.marker)!=null&&le.customPosition&&(ee=(o=x.marker)==null?void 0:o.tooltip)!=null&&ee.length?V.value=x.marker.customPosition(ue):await y(ue,x),t("tooltip-open",x.marker))},te=async(x,be,E)=>{var le,o;if(R.value&&v.value.enabled&&v.value.dragSelect)return t("select-date",x);if(t("set-hover-date",x),(o=(le=x.marker)==null?void 0:le.tooltip)!=null&&o.length){if(l.hideOffsetDates&&!x.current)return;await z(x,be,E)}},N=x=>{w.value&&(w.value=null,V.value=JSON.parse(JSON.stringify({bottom:"",left:"",transform:""})),t("tooltip-close",x.marker))},oe=x=>{T.value.startX=x.changedTouches[0].screenX,T.value.startY=x.changedTouches[0].screenY},A=x=>{T.value.endX=x.changedTouches[0].screenX,T.value.endY=x.changedTouches[0].screenY,g()},U=x=>{l.vertical&&!l.inline&&x.preventDefault()},g=()=>{const x=l.vertical?"Y":"X";Math.abs(T.value[`start${x}`]-T.value[`end${x}`])>10&&t("handle-swipe",T.value[`start${x}`]>T.value[`end${x}`]?"right":"left")},M=(x,be,E)=>{x&&(Array.isArray(C.value[be])?C.value[be][E]=x:C.value[be]=[x]),l.arrowNavigation&&i(C.value,"calendar")},S=x=>{l.monthChangeOnScroll&&(x.preventDefault(),t("handle-scroll",x))},q=x=>c.value.type==="local"?dn(x.value,{weekStartsOn:+l.weekStart}):c.value.type==="iso"?cn(x.value):typeof c.value.type=="function"?c.value.type(x.value):"",n=x=>{const be=x[0];return c.value.hideOnOffsetDates?x.some(E=>E.current)?q(be):"":q(be)},$=(x,be,E=!0)=>{!E&&Pn()||(!v.value.enabled||h.value.allowPreventDefault)&&(Da(x,h.value),t("select-date",be))},re=x=>{Da(x,h.value)},Ce=x=>{v.value.enabled&&v.value.dragSelect?(R.value=!0,t("select-date",x)):v.value.enabled&&t("select-date",x)};return a({triggerTransition:O}),(x,be)=>(D(),F("div",{class:ke(m.value)},[ge("div",{ref_key:"calendarWrapRef",ref:J,class:ke(se.value),role:"grid"},[ge("div",Vr,[x.weekNumbers?(D(),F("div",Br,qe(x.weekNumName),1)):K("",!0),(D(!0),F(_e,null,Re(ie.value,(E,le)=>{var o,ee;return D(),F("div",{key:le,class:"dp__calendar_header_item",role:"gridcell","data-test-id":"calendar-header","aria-label":(ee=(o=u(s))==null?void 0:o.weekDay)==null?void 0:ee.call(o,le)},[x.$slots["calendar-header"]?de(x.$slots,"calendar-header",{key:0,day:E,index:le}):K("",!0),x.$slots["calendar-header"]?K("",!0):(D(),F(_e,{key:1},[ha(qe(E),1)],64))],8,zr)}),128))]),be[2]||(be[2]=ge("div",{class:"dp__calendar_header_separator"},null,-1)),aa(Ea,{name:H.value,css:!!x.transitions},{default:we(()=>[k.value?(D(),F("div",{key:0,class:"dp__calendar",role:"rowgroup",onMouseleave:be[1]||(be[1]=E=>R.value=!1)},[(D(!0),F(_e,null,Re(I.value,(E,le)=>(D(),F("div",{key:le,class:"dp__calendar_row",role:"row"},[x.weekNumbers?(D(),F("div",Ur,[ge("div",Lr,qe(n(E.days)),1)])):K("",!0),(D(!0),F(_e,null,Re(E.days,(o,ee)=>{var ue,ae,Ae;return D(),F("div",{id:u(Ut)(o.value),ref_for:!0,ref:De=>M(De,le,ee),key:ee+le,role:"gridcell",class:"dp__calendar_item","aria-pressed":(o.classData.dp__active_date||o.classData.dp__range_start||o.classData.dp__range_start)??void 0,"aria-disabled":o.classData.dp__cell_disabled||void 0,"aria-label":(ae=(ue=u(s))==null?void 0:ue.day)==null?void 0:ae.call(ue,o),tabindex:!o.current&&x.hideOffsetDates?void 0:0,"data-test-id":u(Ut)(o.value),onClick:Xa(De=>$(De,o),["prevent"]),onTouchend:De=>$(De,o,!1),onKeydown:De=>u(Qe)(De,()=>x.$emit("select-date",o)),onMouseenter:De=>te(o,le,ee),onMouseleave:De=>N(o),onMousedown:De=>Ce(o),onMouseup:be[0]||(be[0]=De=>R.value=!1)},[ge("div",{class:ke(["dp__cell_inner",o.classData])},[x.$slots.day&&_.value(o)?de(x.$slots,"day",{key:0,day:+o.text,date:o.value}):K("",!0),x.$slots.day?K("",!0):(D(),F(_e,{key:1},[ha(qe(o.text),1)],64)),o.marker&&_.value(o)?(D(),F(_e,{key:2},[x.$slots.marker?de(x.$slots,"marker",{key:0,marker:o.marker,day:+o.text,date:o.value}):(D(),F("div",{key:1,class:ke(ce.value(o.marker)),style:la(o.marker.color?{backgroundColor:o.marker.color}:{})},null,6))],64)):K("",!0),fe.value(o.value)?(D(),F("div",{key:3,ref_for:!0,ref_key:"activeTooltip",ref:B,class:"dp__marker_tooltip",style:la(V.value)},[(Ae=o.marker)!=null&&Ae.tooltip?(D(),F("div",{key:0,class:"dp__tooltip_content",onClick:re},[(D(!0),F(_e,null,Re(o.marker.tooltip,(De,b)=>(D(),F("div",{key:b,class:"dp__tooltip_text"},[x.$slots["marker-tooltip"]?de(x.$slots,"marker-tooltip",{key:0,tooltip:De,day:o.value}):K("",!0),x.$slots["marker-tooltip"]?K("",!0):(D(),F(_e,{key:1},[ge("div",{class:"dp__tooltip_mark",style:la(De.color?{backgroundColor:De.color}:{})},null,4),ge("div",null,qe(De.text),1)],64))]))),128)),ge("div",{class:"dp__arrow_bottom_tp",style:la(G.value)},null,4)])):K("",!0)],4)):K("",!0)],2)],40,Er)}),128))]))),128))],32)):K("",!0)]),_:3},8,["name","css"])],2)],2))}}),pl=e=>Array.isArray(e),Fr=(e,a,r,t)=>{const l=Q([]),i=Q(new Date),d=Q(),h=()=>A(e.isTextInputDate),{modelValue:s,calendars:Y,time:c,today:v}=lt(e,a,h),{defaultedMultiCalendars:p,defaultedStartTime:w,defaultedRange:V,defaultedConfig:C,defaultedTz:J,propDates:k,defaultedMultiDates:H}=Oe(e),{validateMonthYearInRange:T,isDisabled:B,isDateRangeAllowed:G,checkMinMaxRange:R}=$a(e),{updateTimeValues:I,getSetDateTime:ie,setTime:L,assignStartTime:O,validateTime:se,disabledTimesConfig:ce}=El(e,c,s,t),fe=j(()=>f=>Y.value[f]?Y.value[f].month:0),m=j(()=>f=>Y.value[f]?Y.value[f].year:0),_=f=>!C.value.keepViewOnOffsetClick||f?!0:!d.value,y=(f,Z,ye,P=!1)=>{var ne,ve;_(P)&&(Y.value[f]||(Y.value[f]={month:0,year:0}),Y.value[f].month=ul(Z)?(ne=Y.value[f])==null?void 0:ne.month:Z,Y.value[f].year=ul(ye)?(ve=Y.value[f])==null?void 0:ve.year:ye)},z=()=>{e.autoApply&&a("select-date")},te=()=>{w.value&&O(w.value)};We(()=>{e.shadow||(s.value||(be(),te()),A(!0),e.focusStartDate&&e.startDate&&be())});const N=j(()=>{var f;return(f=e.flow)!=null&&f.length&&!e.partialFlow?e.flowStep===e.flow.length:!0}),oe=()=>{e.autoApply&&N.value&&a("auto-apply",e.partialFlow?e.flowStep!==e.flow.length:!1)},A=(f=!1)=>{if(s.value)return Array.isArray(s.value)?(l.value=s.value,$(f)):M(s.value,f);if(p.value.count&&f&&!e.startDate)return g(W(),f)},U=()=>Array.isArray(s.value)&&V.value.enabled?Me(s.value[0])===Me(s.value[1]??s.value[0]):!1,g=(f=new Date,Z=!1)=>{if((!p.value.count||!p.value.static||Z)&&y(0,Me(f),he(f)),p.value.count&&(!s.value||U()||!p.value.solo)&&(!p.value.solo||Z))for(let ye=1;ye<p.value.count;ye++){const P=Pe(W(),{month:fe.value(ye-1),year:m.value(ye-1)}),ne=fl(P,{months:1});Y.value[ye]={month:Me(ne),year:he(ne)}}},M=(f,Z)=>{g(f),L("hours",ga(f)),L("minutes",Ma(f)),L("seconds",za(f)),p.value.count&&Z&&x()},S=f=>{if(p.value.count){if(p.value.solo)return 0;const Z=Me(f[0]),ye=Me(f[1]);return Math.abs(ye-Z)<p.value.count?0:1}return 1},q=(f,Z)=>{f[1]&&V.value.showLastInRange?g(f[S(f)],Z):g(f[0],Z);const ye=(P,ne)=>[P(f[0]),f[1]?P(f[1]):c[ne][1]];L("hours",ye(ga,"hours")),L("minutes",ye(Ma,"minutes")),L("seconds",ye(za,"seconds"))},n=(f,Z)=>{if((V.value.enabled||e.weekPicker)&&!H.value.enabled)return q(f,Z);if(H.value.enabled&&Z){const ye=f[f.length-1];return M(ye,Z)}},$=f=>{const Z=s.value;n(Z,f),p.value.count&&p.value.solo&&x()},re=(f,Z)=>{const ye=Pe(W(),{month:fe.value(Z),year:m.value(Z)}),P=f<0?Pa(ye,1):Ja(ye,1);T(Me(P),he(P),f<0,e.preventMinMaxNavigation)&&(y(Z,Me(P),he(P)),a("update-month-year",{instance:Z,month:Me(P),year:he(P)}),p.value.count&&!p.value.solo&&Ce(Z),r())},Ce=f=>{for(let Z=f-1;Z>=0;Z--){const ye=Ja(Pe(W(),{month:fe.value(Z+1),year:m.value(Z+1)}),1);y(Z,Me(ye),he(ye))}for(let Z=f+1;Z<=p.value.count-1;Z++){const ye=Pa(Pe(W(),{month:fe.value(Z-1),year:m.value(Z-1)}),1);y(Z,Me(ye),he(ye))}},x=()=>{if(Array.isArray(s.value)&&s.value.length===2){const f=W(W(s.value[1]?s.value[1]:Pa(s.value[0],1))),[Z,ye]=[Me(s.value[0]),he(s.value[0])],[P,ne]=[Me(s.value[1]),he(s.value[1])];(Z!==P||Z===P&&ye!==ne)&&p.value.solo&&y(1,Me(f),he(f))}else s.value&&!Array.isArray(s.value)&&(y(0,Me(s.value),he(s.value)),g(W()))},be=()=>{e.startDate&&(y(0,Me(W(e.startDate)),he(W(e.startDate))),p.value.count&&Ce(0))},E=(f,Z)=>{if(e.monthChangeOnScroll){const ye=new Date().getTime()-i.value.getTime(),P=Math.abs(f.deltaY);let ne=500;P>1&&(ne=100),P>100&&(ne=0),ye>ne&&(i.value=new Date,re(e.monthChangeOnScroll!=="inverse"?-f.deltaY:f.deltaY,Z))}},le=(f,Z,ye=!1)=>{e.monthChangeOnArrows&&e.vertical===ye&&o(f,Z)},o=(f,Z)=>{re(f==="right"?-1:1,Z)},ee=f=>{if(k.value.markers)return ct(f.value,k.value.markers)},ue=(f,Z)=>{switch(e.sixWeeks===!0?"append":e.sixWeeks){case"prepend":return[!0,!1];case"center":return[f==0,!0];case"fair":return[f==0||Z>f,!0];case"append":return[!1,!1];default:return[!1,!1]}},ae=(f,Z,ye,P)=>{if(e.sixWeeks&&f.length<6){const ne=6-f.length,ve=(Z.getDay()+7-P)%7,ca=6-(ye.getDay()+7-P)%7,[ra,Oa]=ue(ve,ca);for(let Wa=1;Wa<=ne;Wa++)if(Oa?!!(Wa%2)==ra:ra){const ba=f[0].days[0],At=Ae(wa(ba.value,-7),Me(Z));f.unshift({days:At})}else{const ba=f[f.length-1],At=ba.days[ba.days.length-1],Wl=Ae(wa(At.value,1),Me(Z));f.push({days:Wl})}}return f},Ae=(f,Z)=>{const ye=W(f),P=[];for(let ne=0;ne<7;ne++){const ve=wa(ye,ne),ca=Me(ve)!==Z;P.push({text:e.hideOffsetDates&&ca?"":ve.getDate(),value:ve,current:!ca,classData:{}})}return P},De=(f,Z)=>{const ye=[],P=new Date(Z,f),ne=new Date(Z,f+1,0),ve=e.weekStart,ca=Lt(P,{weekStartsOn:ve}),ra=Oa=>{const Wa=Ae(Oa,f);if(ye.push({days:Wa}),!ye[ye.length-1].days.some(ba=>xe(He(ba.value),He(ne)))){const ba=wa(Oa,7);ra(ba)}};return ra(ca),ae(ye,P,ne,ve)},b=f=>{const Z=Aa(W(f.value),c.hours,c.minutes,Ve());a("date-update",Z),H.value.enabled?Zt(Z,s,H.value.limit):s.value=Z,t(),ta().then(()=>{oe()})},X=f=>V.value.noDisabledRange?Cl(l.value[0],f).some(Z=>B(Z)):!1,pe=()=>{l.value=s.value?s.value.slice():[],l.value.length===2&&!(V.value.fixedStart||V.value.fixedEnd)&&(l.value=[])},Be=(f,Z)=>{const ye=[W(f.value),wa(W(f.value),+V.value.autoRange)];G(ye)?(Z&&da(f.value),l.value=ye):a("invalid-date",f.value)},da=f=>{const Z=Me(W(f)),ye=he(W(f));if(y(0,Z,ye),p.value.count>0)for(let P=1;P<p.value.count;P++){const ne=Rn(Pe(W(f),{year:m.value(P-1),month:fe.value(P-1)}));y(P,ne.month,ne.year)}},me=f=>{if(X(f.value)||!R(f.value,s.value,V.value.fixedStart?0:1))return a("invalid-date",f.value);l.value=zl(W(f.value),s,a,V)},ma=(f,Z)=>{if(pe(),V.value.autoRange)return Be(f,Z);if(V.value.fixedStart||V.value.fixedEnd)return me(f);l.value[0]?R(W(f.value),s.value)&&!X(f.value)?Ie(W(f.value),W(l.value[0]))?(l.value.unshift(W(f.value)),a("range-end",l.value[0])):(l.value[1]=W(f.value),a("range-end",l.value[1])):(e.autoApply&&a("auto-apply-invalid",f.value),a("invalid-date",f.value)):(l.value[0]=W(f.value),a("range-start",l.value[0]))},Ve=(f=!0)=>e.enableSeconds?Array.isArray(c.seconds)?f?c.seconds[0]:c.seconds[1]:c.seconds:0,Fa=f=>{l.value[f]=Aa(l.value[f],c.hours[f],c.minutes[f],Ve(f!==1))},ht=()=>{var f,Z;l.value[0]&&l.value[1]&&+((f=l.value)==null?void 0:f[0])>+((Z=l.value)==null?void 0:Z[1])&&(l.value.reverse(),a("range-start",l.value[0]),a("range-end",l.value[1]))},nt=()=>{l.value.length&&(l.value[0]&&!l.value[1]?Fa(0):(Fa(0),Fa(1),t()),ht(),s.value=l.value.slice(),yt(l.value,a,e.autoApply,e.modelAuto))},gt=(f,Z=!1)=>{if(B(f.value)||!f.current&&e.hideOffsetDates)return a("invalid-date",f.value);if(d.value=JSON.parse(JSON.stringify(f)),!V.value.enabled)return b(f);pl(c.hours)&&pl(c.minutes)&&!H.value.enabled&&(ma(f,Z),nt())},bt=(f,Z)=>{var ye;y(f,Z.month,Z.year,!0),p.value.count&&!p.value.solo&&Ce(f),a("update-month-year",{instance:f,month:Z.month,year:Z.year}),r(p.value.solo?f:void 0);const P=(ye=e.flow)!=null&&ye.length?e.flow[e.flowStep]:void 0;!Z.fromNav&&(P===Ke.month||P===Ke.year)&&t()},_t=(f,Z)=>{Bl({value:f,modelValue:s,range:V.value.enabled,timezone:Z?void 0:J.value.timezone}),z(),e.multiCalendars&&ta().then(()=>A(!0))},wt=()=>{const f=Kt(W(),J.value);!V.value.enabled&&!H.value.enabled?s.value=f:s.value&&Array.isArray(s.value)&&s.value[0]?H.value.enabled?s.value=[...s.value,f]:s.value=Ie(f,s.value[0])?[f,s.value[0]]:[s.value[0],f]:s.value=[f],z()},kt=()=>{if(Array.isArray(s.value))if(H.value.enabled){const f=Dt();s.value[s.value.length-1]=ie(f)}else s.value=s.value.map((f,Z)=>f&&ie(f,Z));else s.value=ie(s.value);a("time-update")},Dt=()=>Array.isArray(s.value)&&s.value.length?s.value[s.value.length-1]:null;return{calendars:Y,modelValue:s,month:fe,year:m,time:c,disabledTimesConfig:ce,today:v,validateTime:se,getCalendarDays:De,getMarker:ee,handleScroll:E,handleSwipe:o,handleArrow:le,selectDate:gt,updateMonthYear:bt,presetDate:_t,selectCurrentDate:wt,updateTime:(f,Z=!0,ye=!1)=>{I(f,Z,ye,kt)},assignMonthAndYear:g,setStartTime:te}},Wr={key:0},jr=Fe({__name:"DatePicker",props:{...sa},emits:["tooltip-open","tooltip-close","mount","update:internal-model-value","update-flow-step","reset-flow","auto-apply","focus-menu","select-date","range-start","range-end","invalid-fixed-range","time-update","am-pm-change","time-picker-open","time-picker-close","recalculate-position","update-month-year","auto-apply-invalid","date-update","invalid-date","overlay-toggle"],setup(e,{expose:a,emit:r}){const t=r,l=e,{calendars:i,month:d,year:h,modelValue:s,time:Y,disabledTimesConfig:c,today:v,validateTime:p,getCalendarDays:w,getMarker:V,handleArrow:C,handleScroll:J,handleSwipe:k,selectDate:H,updateMonthYear:T,presetDate:B,selectCurrentDate:G,updateTime:R,assignMonthAndYear:I,setStartTime:ie}=Fr(l,t,U,g),L=Ra(),{setHoverDate:O,getDayClassData:se,clearHoverDate:ce}=so(s,l),{defaultedMultiCalendars:fe}=Oe(l),m=Q([]),_=Q([]),y=Q(null),z=ea(L,"calendar"),te=ea(L,"monthYear"),N=ea(L,"timePicker"),oe=E=>{l.shadow||t("mount",E)};na(i,()=>{l.shadow||setTimeout(()=>{t("recalculate-position")},0)},{deep:!0}),na(fe,(E,le)=>{E.count-le.count>0&&I()},{deep:!0});const A=j(()=>E=>w(d.value(E),h.value(E)).map(le=>({...le,days:le.days.map(o=>(o.marker=V(o),o.classData=se(o),o))})));function U(E){var le;E||E===0?(le=_.value[E])==null||le.triggerTransition(d.value(E),h.value(E)):_.value.forEach((o,ee)=>o.triggerTransition(d.value(ee),h.value(ee)))}function g(){t("update-flow-step")}const M=(E,le=!1)=>{H(E,le),l.spaceConfirm&&t("select-date")},S=(E,le,o=0)=>{var ee;(ee=m.value[o])==null||ee.toggleMonthPicker(E,le)},q=(E,le,o=0)=>{var ee;(ee=m.value[o])==null||ee.toggleYearPicker(E,le)},n=(E,le,o)=>{var ee;(ee=y.value)==null||ee.toggleTimePicker(E,le,o)},$=(E,le)=>{var o;if(!l.range){const ee=s.value?s.value:v,ue=le?new Date(le):ee,ae=E?Lt(ue,{weekStartsOn:1}):hl(ue,{weekStartsOn:1});H({value:ae,current:Me(ue)===d.value(0),text:"",classData:{}}),(o=document.getElementById(Ut(ae)))==null||o.focus()}},re=E=>{var le;(le=m.value[0])==null||le.handleMonthYearChange(E,!0)},Ce=E=>{T(0,{month:d.value(0),year:h.value(0)+(E?1:-1),fromNav:!0})},x=(E,le)=>{E===Ke.time&&t(`time-picker-${le?"open":"close"}`),t("overlay-toggle",{open:le,overlay:E})},be=E=>{t("overlay-toggle",{open:!1,overlay:E}),t("focus-menu")};return a({clearHoverDate:ce,presetDate:B,selectCurrentDate:G,toggleMonthPicker:S,toggleYearPicker:q,toggleTimePicker:n,handleArrow:C,updateMonthYear:T,getSidebarProps:()=>({modelValue:s,month:d,year:h,time:Y,updateTime:R,updateMonthYear:T,selectDate:H,presetDate:B}),changeMonth:re,changeYear:Ce,selectWeekDate:$,setStartTime:ie}),(E,le)=>(D(),F(_e,null,[aa(mt,{"multi-calendars":u(fe).count,collapse:E.collapse,"is-mobile":E.isMobile},{default:we(({instance:o,index:ee})=>[E.disableMonthYearSelect?K("",!0):(D(),$e(Yr,Ee({key:0,ref:ue=>{ue&&(m.value[ee]=ue)},months:u(Al)(E.formatLocale,E.locale,E.monthNameFormat),years:u(qt)(E.yearRange,E.locale,E.reverseYears),month:u(d)(o),year:u(h)(o),instance:o},E.$props,{onMount:le[0]||(le[0]=ue=>oe(u(Ta).header)),onResetFlow:le[1]||(le[1]=ue=>E.$emit("reset-flow")),onUpdateMonthYear:ue=>u(T)(o,ue),onOverlayClosed:be,onOverlayOpened:le[2]||(le[2]=ue=>E.$emit("overlay-toggle",{open:!0,overlay:ue}))}),Xe({_:2},[Re(u(te),(ue,ae)=>({name:ue,fn:we(Ae=>[de(E.$slots,ue,Le(Ze(Ae)))])}))]),1040,["months","years","month","year","instance","onUpdateMonthYear"])),aa(Hr,Ee({ref:ue=>{ue&&(_.value[ee]=ue)},"mapped-dates":A.value(o),month:u(d)(o),year:u(h)(o),instance:o},E.$props,{onSelectDate:ue=>u(H)(ue,o!==1),onHandleSpace:ue=>M(ue,o!==1),onSetHoverDate:le[3]||(le[3]=ue=>u(O)(ue)),onHandleScroll:ue=>u(J)(ue,o),onHandleSwipe:ue=>u(k)(ue,o),onMount:le[4]||(le[4]=ue=>oe(u(Ta).calendar)),onResetFlow:le[5]||(le[5]=ue=>E.$emit("reset-flow")),onTooltipOpen:le[6]||(le[6]=ue=>E.$emit("tooltip-open",ue)),onTooltipClose:le[7]||(le[7]=ue=>E.$emit("tooltip-close",ue))}),Xe({_:2},[Re(u(z),(ue,ae)=>({name:ue,fn:we(Ae=>[de(E.$slots,ue,Le(Ze({...Ae})))])}))]),1040,["mapped-dates","month","year","instance","onSelectDate","onHandleSpace","onHandleScroll","onHandleSwipe"])]),_:3},8,["multi-calendars","collapse","is-mobile"]),E.enableTimePicker?(D(),F("div",Wr,[E.$slots["time-picker"]?de(E.$slots,"time-picker",Le(Ee({key:0},{time:u(Y),updateTime:u(R)}))):(D(),$e(Ll,Ee({key:1,ref_key:"timePickerRef",ref:y},E.$props,{hours:u(Y).hours,minutes:u(Y).minutes,seconds:u(Y).seconds,"internal-model-value":E.internalModelValue,"disabled-times-config":u(c),"validate-time":u(p),onMount:le[8]||(le[8]=o=>oe(u(Ta).timePicker)),"onUpdate:hours":le[9]||(le[9]=o=>u(R)(o)),"onUpdate:minutes":le[10]||(le[10]=o=>u(R)(o,!1)),"onUpdate:seconds":le[11]||(le[11]=o=>u(R)(o,!1,!0)),onResetFlow:le[12]||(le[12]=o=>E.$emit("reset-flow")),onOverlayClosed:le[13]||(le[13]=o=>x(o,!1)),onOverlayOpened:le[14]||(le[14]=o=>x(o,!0)),onAmPmChange:le[15]||(le[15]=o=>E.$emit("am-pm-change",o))}),Xe({_:2},[Re(u(N),(o,ee)=>({name:o,fn:we(ue=>[de(E.$slots,o,Le(Ze(ue)))])}))]),1040,["hours","minutes","seconds","internal-model-value","disabled-times-config","validate-time"]))])):K("",!0)],64))}}),Kr=(e,a)=>{const r=Q(),{defaultedMultiCalendars:t,defaultedConfig:l,defaultedHighlight:i,defaultedRange:d,propDates:h,defaultedFilters:s,defaultedMultiDates:Y}=Oe(e),{modelValue:c,year:v,month:p,calendars:w}=lt(e,a),{isDisabled:V}=$a(e),{selectYear:C,groupedYears:J,showYearPicker:k,isDisabled:H,toggleYearPicker:T,handleYearSelect:B,handleYear:G}=Ul({modelValue:c,multiCalendars:t,range:d,highlight:i,calendars:w,propDates:h,month:p,year:v,filters:s,props:e,emit:a}),R=(_,y)=>[_,y].map(z=>pa(z,"MMMM",{locale:e.formatLocale})).join("-"),I=j(()=>_=>c.value?Array.isArray(c.value)?c.value.some(y=>tl(_,y)):tl(c.value,_):!1),ie=_=>{if(d.value.enabled){if(Array.isArray(c.value)){const y=xe(_,c.value[0])||xe(_,c.value[1]);return Za(c.value,r.value,_)&&!y}return!1}return!1},L=(_,y)=>_.quarter===nl(y)&&_.year===he(y),O=_=>typeof i.value=="function"?i.value({quarter:nl(_),year:he(_)}):!!i.value.quarters.find(y=>L(y,_)),se=j(()=>_=>{const y=Pe(new Date,{year:v.value(_)});return nn({start:dt(y),end:gl(y)}).map(z=>{const te=rn(z),N=ll(z),oe=V(z),A=ie(te),U=O(te);return{text:R(te,N),value:te,active:I.value(te),highlighted:U,disabled:oe,isBetween:A}})}),ce=_=>{Zt(_,c,Y.value.limit),a("auto-apply",!0)},fe=_=>{c.value=Gt(c,_,a),yt(c.value,a,e.autoApply,e.modelAuto)},m=_=>{c.value=_,a("auto-apply")};return{defaultedConfig:l,defaultedMultiCalendars:t,groupedYears:J,year:v,isDisabled:H,quarters:se,showYearPicker:k,modelValue:c,setHoverDate:_=>{r.value=_},selectYear:C,selectQuarter:(_,y,z)=>{if(!z)return w.value[y].month=Me(ll(_)),Y.value.enabled?ce(_):d.value.enabled?fe(_):m(_)},toggleYearPicker:T,handleYearSelect:B,handleYear:G}},qr={class:"dp--quarter-items"},Xr=["data-test-id","disabled","onClick","onMouseover"],Jr=Fe({compatConfig:{MODE:3},__name:"QuarterPicker",props:{...sa},emits:["update:internal-model-value","reset-flow","overlay-closed","auto-apply","range-start","range-end","overlay-toggle","update-month-year"],setup(e,{expose:a,emit:r}){const t=r,l=e,i=Ra(),d=ea(i,"yearMode"),{defaultedMultiCalendars:h,defaultedConfig:s,groupedYears:Y,year:c,isDisabled:v,quarters:p,modelValue:w,showYearPicker:V,setHoverDate:C,selectQuarter:J,toggleYearPicker:k,handleYearSelect:H,handleYear:T}=Kr(l,t);return a({getSidebarProps:()=>({modelValue:w,year:c,selectQuarter:J,handleYearSelect:H,handleYear:T})}),(B,G)=>(D(),$e(mt,{"multi-calendars":u(h).count,collapse:B.collapse,stretch:"","is-mobile":B.isMobile},{default:we(({instance:R})=>[ge("div",{class:"dp-quarter-picker-wrap",style:la({minHeight:`${u(s).modeHeight}px`})},[B.$slots["top-extra"]?de(B.$slots,"top-extra",{key:0,value:B.internalModelValue}):K("",!0),ge("div",null,[aa(Vl,Ee(B.$props,{items:u(Y)(R),instance:R,"show-year-picker":u(V)[R],year:u(c)(R),"is-disabled":I=>u(v)(R,I),onHandleYear:I=>u(T)(R,I),onYearSelect:I=>u(H)(I,R),onToggleYearPicker:I=>u(k)(R,I==null?void 0:I.flow,I==null?void 0:I.show)}),Xe({_:2},[Re(u(d),(I,ie)=>({name:I,fn:we(L=>[de(B.$slots,I,Le(Ze(L)))])}))]),1040,["items","instance","show-year-picker","year","is-disabled","onHandleYear","onYearSelect","onToggleYearPicker"])]),ge("div",qr,[(D(!0),F(_e,null,Re(u(p)(R),(I,ie)=>(D(),F("div",{key:ie},[ge("button",{type:"button",class:ke(["dp--qr-btn",{"dp--qr-btn-active":I.active,"dp--qr-btn-between":I.isBetween,"dp--qr-btn-disabled":I.disabled,"dp--highlighted":I.highlighted}]),"data-test-id":I.value,disabled:I.disabled,onClick:L=>u(J)(I.value,R,I.disabled),onMouseover:L=>u(C)(I.value)},[B.$slots.quarter?de(B.$slots,"quarter",{key:0,value:I.value,text:I.text}):(D(),F(_e,{key:1},[ha(qe(I.text),1)],64))],42,Xr)]))),128))])],4)]),_:3},8,["multi-calendars","collapse","is-mobile"]))}}),Hl=(e,a)=>{const r=Q(0);We(()=>{t(),window.addEventListener("resize",t,{passive:!0})}),et(()=>{window.removeEventListener("resize",t)});const t=()=>{r.value=window.document.documentElement.clientWidth};return{isMobile:j(()=>r.value<=e.value.mobileBreakpoint&&!a?!0:void 0)}},Qr=["id","tabindex","role","aria-label"],Zr={key:0,class:"dp--menu-load-container"},Gr={key:1,class:"dp--menu-header"},eo=["data-dp-mobile"],ao={key:0,class:"dp__sidebar_left"},to=["data-dp-mobile"],lo=["data-test-id","data-dp-mobile","onClick","onKeydown"],no={key:2,class:"dp__sidebar_right"},ro={key:3,class:"dp__action_extra"},ml=Fe({compatConfig:{MODE:3},__name:"DatepickerMenu",props:{...pt,shadow:{type:Boolean,default:!1},openOnTop:{type:Boolean,default:!1},internalModelValue:{type:[Date,Array],default:null},noOverlayFocus:{type:Boolean,default:!1},collapse:{type:Boolean,default:!1},getInputRect:{type:Function,default:()=>({})},isTextInputDate:{type:Boolean,default:!1}},emits:["close-picker","select-date","auto-apply","time-update","flow-step","update-month-year","invalid-select","update:internal-model-value","recalculate-position","invalid-fixed-range","tooltip-open","tooltip-close","time-picker-open","time-picker-close","am-pm-change","range-start","range-end","auto-apply-invalid","date-update","invalid-date","overlay-toggle","menu-blur"],setup(e,{expose:a,emit:r}){const t=r,l=e,i=Q(null),d=j(()=>{const{openOnTop:b,...X}=l;return{...X,isMobile:C.value,flowStep:se.value,menuWrapRef:i.value}}),{setMenuFocused:h,setShiftKey:s,control:Y}=Yl(),c=Ra(),{defaultedTextInput:v,defaultedInline:p,defaultedConfig:w,defaultedUI:V}=Oe(l),{isMobile:C}=Hl(w,l.shadow),J=Q(null),k=Q(0),H=Q(null),T=Q(!1),B=Q(null),G=Q(!1);We(()=>{if(!l.shadow){T.value=!0,R(),window.addEventListener("resize",R);const b=ze(i);if(b&&!v.value.enabled&&!p.value.enabled&&(h(!0),te()),b){const X=pe=>{G.value=!0,w.value.allowPreventDefault&&pe.preventDefault(),Da(pe,w.value,!0)};b.addEventListener("pointerdown",X),b.addEventListener("mousedown",X)}}document.addEventListener("mousedown",De)}),et(()=>{window.removeEventListener("resize",R),document.addEventListener("mousedown",De)});const R=()=>{const b=ze(H);b&&(k.value=b.getBoundingClientRect().width)},{arrowRight:I,arrowLeft:ie,arrowDown:L,arrowUp:O}=xa(),{flowStep:se,updateFlowStep:ce,childMount:fe,resetFlow:m,handleFlow:_}=co(l,t,B),y=j(()=>l.monthPicker?mr:l.yearPicker?fr:l.timePicker?Sr:l.quarterPicker?Jr:jr),z=j(()=>{var b;if(w.value.arrowLeft)return w.value.arrowLeft;const X=(b=i.value)==null?void 0:b.getBoundingClientRect(),pe=l.getInputRect();return(pe==null?void 0:pe.width)<(k==null?void 0:k.value)&&(pe==null?void 0:pe.left)<=((X==null?void 0:X.left)??0)?`${(pe==null?void 0:pe.width)/2}px`:(pe==null?void 0:pe.right)>=((X==null?void 0:X.right)??0)&&(pe==null?void 0:pe.width)<(k==null?void 0:k.value)?`${(k==null?void 0:k.value)-(pe==null?void 0:pe.width)/2}px`:"50%"}),te=()=>{const b=ze(i);b&&b.focus({preventScroll:!0})},N=j(()=>{var b;return((b=B.value)==null?void 0:b.getSidebarProps())||{}}),oe=()=>{l.openOnTop&&t("recalculate-position")},A=ea(c,"action"),U=j(()=>l.monthPicker||l.yearPicker?ea(c,"monthYear"):l.timePicker?ea(c,"timePicker"):ea(c,"shared")),g=j(()=>l.openOnTop?"dp__arrow_bottom":"dp__arrow_top"),M=j(()=>({dp__menu_disabled:l.disabled,dp__menu_readonly:l.readonly,"dp-menu-loading":l.loading})),S=j(()=>({dp__menu:!0,dp__menu_index:!p.value.enabled,dp__relative:p.value.enabled,...V.value.menu??{}})),q=b=>{Da(b,w.value,!0)},n=()=>{l.escClose&&t("close-picker")},$=b=>{if(l.arrowNavigation){if(b===Je.up)return O();if(b===Je.down)return L();if(b===Je.left)return ie();if(b===Je.right)return I()}else b===Je.left||b===Je.up?E("handleArrow",Je.left,0,b===Je.up):E("handleArrow",Je.right,0,b===Je.down)},re=b=>{s(b.shiftKey),!l.disableMonthYearSelect&&b.code===Se.tab&&b.target.classList.contains("dp__menu")&&Y.value.shiftKeyInMenu&&(b.preventDefault(),Da(b,w.value,!0),t("close-picker"))},Ce=()=>{te(),t("time-picker-close")},x=b=>{var X,pe,Be;(X=B.value)==null||X.toggleTimePicker(!1,!1),(pe=B.value)==null||pe.toggleMonthPicker(!1,!1,b),(Be=B.value)==null||Be.toggleYearPicker(!1,!1,b)},be=(b,X=0)=>{var pe,Be,da;return b==="month"?(pe=B.value)==null?void 0:pe.toggleMonthPicker(!1,!0,X):b==="year"?(Be=B.value)==null?void 0:Be.toggleYearPicker(!1,!0,X):b==="time"?(da=B.value)==null?void 0:da.toggleTimePicker(!0,!1):x(X)},E=(b,...X)=>{var pe,Be;(pe=B.value)!=null&&pe[b]&&((Be=B.value)==null||Be[b](...X))},le=()=>{E("selectCurrentDate")},o=(b,X)=>{E("presetDate",Xl(b),X)},ee=()=>{E("clearHoverDate")},ue=(b,X)=>{E("updateMonthYear",b,X)},ae=(b,X)=>{b.preventDefault(),$(X)},Ae=b=>{var X,pe,Be;if(re(b),b.key===Se.home||b.key===Se.end)return E("selectWeekDate",b.key===Se.home,b.target.getAttribute("id"));switch((b.key===Se.pageUp||b.key===Se.pageDown)&&(b.shiftKey?(E("changeYear",b.key===Se.pageUp),(X=Bt(i.value,"overlay-year"))==null||X.focus()):(E("changeMonth",b.key===Se.pageUp),(pe=Bt(i.value,b.key===Se.pageUp?"action-prev":"action-next"))==null||pe.focus()),b.target.getAttribute("id")&&((Be=i.value)==null||Be.focus({preventScroll:!0}))),b.key){case Se.esc:return n();case Se.arrowLeft:return ae(b,Je.left);case Se.arrowRight:return ae(b,Je.right);case Se.arrowUp:return ae(b,Je.up);case Se.arrowDown:return ae(b,Je.down);default:return}},De=b=>{var X;p.value.enabled&&!p.value.input&&!((X=i.value)!=null&&X.contains(b.target))&&G.value&&(G.value=!1,t("menu-blur"))};return a({updateMonthYear:ue,switchView:be,handleFlow:_,onValueCleared:()=>{var b,X;(X=(b=B.value)==null?void 0:b.setStartTime)==null||X.call(b)}}),(b,X)=>{var pe,Be,da;return D(),F("div",{id:b.uid?`dp-menu-${b.uid}`:void 0,ref_key:"dpMenuRef",ref:i,tabindex:u(p).enabled?void 0:"0",role:u(p).enabled?void 0:"dialog","aria-label":(pe=b.ariaLabels)==null?void 0:pe.menu,class:ke(S.value),style:la({"--dp-arrow-left":z.value}),onMouseleave:ee,onClick:q,onKeydown:Ae},[(b.disabled||b.readonly)&&u(p).enabled||b.loading?(D(),F("div",{key:0,class:ke(M.value)},[b.loading?(D(),F("div",Zr,X[19]||(X[19]=[ge("span",{class:"dp--menu-loader"},null,-1)]))):K("",!0)],2)):K("",!0),b.$slots["menu-header"]?(D(),F("div",Gr,[de(b.$slots,"menu-header")])):K("",!0),!u(p).enabled&&!b.teleportCenter?(D(),F("div",{key:2,class:ke(g.value)},null,2)):K("",!0),ge("div",{ref_key:"innerMenuRef",ref:H,class:ke({dp__menu_content_wrapper:((Be=b.presetDates)==null?void 0:Be.length)||!!b.$slots["left-sidebar"]||!!b.$slots["right-sidebar"],"dp--menu-content-wrapper-collapsed":e.collapse&&(((da=b.presetDates)==null?void 0:da.length)||!!b.$slots["left-sidebar"]||!!b.$slots["right-sidebar"])}),"data-dp-mobile":u(C),style:la({"--dp-menu-width":`${k.value}px`})},[b.$slots["left-sidebar"]?(D(),F("div",ao,[de(b.$slots,"left-sidebar",Le(Ze(N.value)))])):K("",!0),b.presetDates.length?(D(),F("div",{key:1,class:ke({"dp--preset-dates-collapsed":e.collapse,"dp--preset-dates":!0}),"data-dp-mobile":u(C)},[(D(!0),F(_e,null,Re(b.presetDates,(me,ma)=>(D(),F(_e,{key:ma},[me.slot?de(b.$slots,me.slot,{key:0,presetDate:o,label:me.label,value:me.value}):(D(),F("button",{key:1,type:"button",style:la(me.style||{}),class:ke(["dp__btn dp--preset-range",{"dp--preset-range-collapsed":e.collapse}]),"data-test-id":me.testId??void 0,"data-dp-mobile":u(C),onClick:Xa(Ve=>o(me.value,me.noTz),["prevent"]),onKeydown:Ve=>u(Qe)(Ve,()=>o(me.value,me.noTz),!0)},qe(me.label),47,lo))],64))),128))],10,to)):K("",!0),ge("div",{ref_key:"calendarWrapperRef",ref:J,class:"dp__instance_calendar",role:"document"},[(D(),$e(vt(y.value),Ee({ref_key:"dynCmpRef",ref:B},d.value,{"flow-step":u(se),onMount:u(fe),onUpdateFlowStep:u(ce),onResetFlow:u(m),onFocusMenu:te,onSelectDate:X[0]||(X[0]=me=>b.$emit("select-date")),onDateUpdate:X[1]||(X[1]=me=>b.$emit("date-update",me)),onTooltipOpen:X[2]||(X[2]=me=>b.$emit("tooltip-open",me)),onTooltipClose:X[3]||(X[3]=me=>b.$emit("tooltip-close",me)),onAutoApply:X[4]||(X[4]=me=>b.$emit("auto-apply",me)),onRangeStart:X[5]||(X[5]=me=>b.$emit("range-start",me)),onRangeEnd:X[6]||(X[6]=me=>b.$emit("range-end",me)),onInvalidFixedRange:X[7]||(X[7]=me=>b.$emit("invalid-fixed-range",me)),onTimeUpdate:X[8]||(X[8]=me=>b.$emit("time-update")),onAmPmChange:X[9]||(X[9]=me=>b.$emit("am-pm-change",me)),onTimePickerOpen:X[10]||(X[10]=me=>b.$emit("time-picker-open",me)),onTimePickerClose:Ce,onRecalculatePosition:oe,onUpdateMonthYear:X[11]||(X[11]=me=>b.$emit("update-month-year",me)),onAutoApplyInvalid:X[12]||(X[12]=me=>b.$emit("auto-apply-invalid",me)),onInvalidDate:X[13]||(X[13]=me=>b.$emit("invalid-date",me)),onOverlayToggle:X[14]||(X[14]=me=>b.$emit("overlay-toggle",me)),"onUpdate:internalModelValue":X[15]||(X[15]=me=>b.$emit("update:internal-model-value",me))}),Xe({_:2},[Re(U.value,(me,ma)=>({name:me,fn:we(Ve=>[de(b.$slots,me,Le(Ze({...Ve})))])}))]),1040,["flow-step","onMount","onUpdateFlowStep","onResetFlow"]))],512),b.$slots["right-sidebar"]?(D(),F("div",no,[de(b.$slots,"right-sidebar",Le(Ze(N.value)))])):K("",!0),b.$slots["action-extra"]?(D(),F("div",ro,[b.$slots["action-extra"]?de(b.$slots,"action-extra",{key:0,selectCurrentDate:le}):K("",!0)])):K("",!0)],14,eo),!b.autoApply||u(w).keepActionRow?(D(),$e(rr,Ee({key:3,"menu-mount":T.value},d.value,{"calendar-width":k.value,onClosePicker:X[16]||(X[16]=me=>b.$emit("close-picker")),onSelectDate:X[17]||(X[17]=me=>b.$emit("select-date")),onInvalidSelect:X[18]||(X[18]=me=>b.$emit("invalid-select")),onSelectNow:le}),Xe({_:2},[Re(u(A),(me,ma)=>({name:me,fn:we(Ve=>[de(b.$slots,me,Le(Ze({...Ve})))])}))]),1040,["menu-mount","calendar-width"])):K("",!0)],46,Qr)}}});var Na=(e=>(e.center="center",e.left="left",e.right="right",e))(Na||{});const oo=({menuRef:e,menuRefInner:a,inputRef:r,pickerWrapperRef:t,inline:l,emit:i,props:d,slots:h})=>{const{defaultedConfig:s}=Oe(d),Y=Q({}),c=Q(!1),v=Q({top:"0",left:"0"}),p=Q(!1),w=qa(d,"teleportCenter");na(w,()=>{v.value=JSON.parse(JSON.stringify({})),G()});const V=y=>{if(d.teleport){const z=y.getBoundingClientRect();return{left:z.left+window.scrollX,top:z.top+window.scrollY}}return{top:0,left:0}},C=(y,z)=>{v.value.left=`${y+z-Y.value.width}px`},J=y=>{v.value.left=`${y}px`},k=(y,z)=>{d.position===Na.left&&J(y),d.position===Na.right&&C(y,z),d.position===Na.center&&(v.value.left=`${y+z/2-Y.value.width/2}px`)},H=y=>{const{width:z,height:te}=y.getBoundingClientRect(),{top:N,left:oe}=V(y);return{top:+N,left:+oe,width:z,height:te}},T=()=>{v.value.left="50%",v.value.top="50%",v.value.transform="translate(-50%, -50%)",v.value.position="fixed",delete v.value.opacity},B=()=>{const y=ze(r);v.value=d.altPosition(y)},G=(y=!0)=>{var z;if(!l.value.enabled){if(w.value)return T();if(d.altPosition!==null)return B();if(y){const te=d.teleport?(z=a.value)==null?void 0:z.$el:e.value;te&&(Y.value=te.getBoundingClientRect()),i("recalculate-position")}return ce()}},R=({inputEl:y,left:z,width:te})=>{window.screen.width>768&&!c.value&&k(z,te),L(y)},I=y=>{const{top:z,left:te,height:N,width:oe}=H(y);v.value.top=`${N+z+ +d.offset}px`,p.value=!1,c.value||(v.value.left=`${te+oe/2-Y.value.width/2}px`),R({inputEl:y,left:te,width:oe})},ie=y=>{const{top:z,left:te,width:N}=H(y);v.value.top=`${z-+d.offset-Y.value.height}px`,p.value=!0,R({inputEl:y,left:te,width:N})},L=y=>{if(d.autoPosition){const{left:z,width:te}=H(y),{left:N,right:oe}=Y.value;if(!c.value){if(Math.abs(N)!==Math.abs(oe)){if(N<=0)return c.value=!0,J(z);if(oe>=document.documentElement.clientWidth)return c.value=!0,C(z,te)}return k(z,te)}}},O=()=>{const y=ze(r);if(y){if(d.autoPosition===ua.top)return ua.top;if(d.autoPosition===ua.bottom)return ua.bottom;const{height:z}=Y.value,{top:te,height:N}=y.getBoundingClientRect(),oe=window.innerHeight-te-N,A=te;return z<=oe?ua.bottom:z>oe&&z<=A?ua.top:oe>=A?ua.bottom:ua.top}return ua.bottom},se=y=>O()===ua.bottom?I(y):ie(y),ce=()=>{const y=ze(r);if(y)return d.autoPosition?se(y):I(y)},fe=function(y){if(y){const z=y.scrollHeight>y.clientHeight,te=window.getComputedStyle(y).overflowY.indexOf("hidden")!==-1;return z&&!te}return!0},m=function(y){return!y||y===document.body||y.nodeType===Node.DOCUMENT_FRAGMENT_NODE?window:fe(y)?y:m(y.assignedSlot&&s.value.shadowDom?y.assignedSlot.parentNode:y.parentNode)},_=y=>{if(y)switch(d.position){case Na.left:return{left:0,transform:"translateX(0)"};case Na.right:return{left:`${y.width}px`,transform:"translateX(-100%)"};default:return{left:`${y.width/2}px`,transform:"translateX(-50%)"}}return{}};return{openOnTop:p,menuStyle:v,xCorrect:c,setMenuPosition:G,getScrollableParent:m,shadowRender:(y,z)=>{var te,N,oe;const A=document.createElement("div"),U=(te=ze(r))==null?void 0:te.getBoundingClientRect();A.setAttribute("id","dp--temp-container");const g=(N=t.value)!=null&&N.clientWidth?t.value:document.body;g.append(A);const M=_(U),S=s.value.shadowDom?Object.keys(h).filter(n=>["right-sidebar","left-sidebar","top-extra","action-extra"].includes(n)):Object.keys(h),q=Kl(y,{...z,shadow:!0,style:{opacity:0,position:"absolute",...M}},Object.fromEntries(S.map(n=>[n,h[n]])));al(q,A),Y.value=(oe=q.el)==null?void 0:oe.getBoundingClientRect(),al(null,A),g.removeChild(A)}}},_a=[{name:"clock-icon",use:["time","calendar","shared"]},{name:"arrow-left",use:["month-year","calendar","shared","year-mode"]},{name:"arrow-right",use:["month-year","calendar","shared","year-mode"]},{name:"arrow-up",use:["time","calendar","month-year","shared"]},{name:"arrow-down",use:["time","calendar","month-year","shared"]},{name:"calendar-icon",use:["month-year","time","calendar","shared","year-mode"]},{name:"day",use:["calendar","shared"]},{name:"month-overlay-value",use:["calendar","month-year","shared"]},{name:"year-overlay-value",use:["calendar","month-year","shared","year-mode"]},{name:"year-overlay",use:["month-year","shared"]},{name:"month-overlay",use:["month-year","shared"]},{name:"month-overlay-header",use:["month-year","shared"]},{name:"year-overlay-header",use:["month-year","shared"]},{name:"hours-overlay-value",use:["calendar","time","shared"]},{name:"hours-overlay-header",use:["calendar","time","shared"]},{name:"minutes-overlay-value",use:["calendar","time","shared"]},{name:"minutes-overlay-header",use:["calendar","time","shared"]},{name:"seconds-overlay-value",use:["calendar","time","shared"]},{name:"seconds-overlay-header",use:["calendar","time","shared"]},{name:"hours",use:["calendar","time","shared"]},{name:"minutes",use:["calendar","time","shared"]},{name:"month",use:["calendar","month-year","shared"]},{name:"year",use:["calendar","month-year","shared","year-mode"]},{name:"action-buttons",use:["action"]},{name:"action-preview",use:["action"]},{name:"calendar-header",use:["calendar","shared"]},{name:"marker-tooltip",use:["calendar","shared"]},{name:"action-extra",use:["menu"]},{name:"time-picker-overlay",use:["calendar","time","shared"]},{name:"am-pm-button",use:["calendar","time","shared"]},{name:"left-sidebar",use:["menu"]},{name:"right-sidebar",use:["menu"]},{name:"month-year",use:["month-year","shared"]},{name:"time-picker",use:["menu","shared"]},{name:"action-row",use:["action"]},{name:"marker",use:["calendar","shared"]},{name:"quarter",use:["shared"]},{name:"top-extra",use:["shared","month-year"]},{name:"tp-inline-arrow-up",use:["shared","time"]},{name:"tp-inline-arrow-down",use:["shared","time"]},{name:"menu-header",use:["menu"]}],uo=[{name:"trigger"},{name:"input-icon"},{name:"clear-icon"},{name:"dp-input"}],io={all:()=>_a,monthYear:()=>_a.filter(e=>e.use.includes("month-year")),input:()=>uo,timePicker:()=>_a.filter(e=>e.use.includes("time")),action:()=>_a.filter(e=>e.use.includes("action")),calendar:()=>_a.filter(e=>e.use.includes("calendar")),menu:()=>_a.filter(e=>e.use.includes("menu")),shared:()=>_a.filter(e=>e.use.includes("shared")),yearMode:()=>_a.filter(e=>e.use.includes("year-mode"))},ea=(e,a,r)=>{const t=[];return io[a]().forEach(l=>{e[l.name]&&t.push(l.name)}),r!=null&&r.length&&r.forEach(l=>{l.slot&&t.push(l.slot)}),t},tt=e=>{const a=j(()=>t=>e.value?t?e.value.open:e.value.close:""),r=j(()=>t=>e.value?t?e.value.menuAppearTop:e.value.menuAppearBottom:"");return{transitionName:a,showTransition:!!e.value,menuTransition:r}},lt=(e,a,r)=>{const{defaultedRange:t,defaultedTz:l}=Oe(e),i=W(Ge(W(),l.value.timezone)),d=Q([{month:Me(i),year:he(i)}]),h=p=>{const w={hours:ga(i),minutes:Ma(i),seconds:0};return t.value.enabled?[w[p],w[p]]:w[p]},s=Ga({hours:h("hours"),minutes:h("minutes"),seconds:h("seconds")});na(t,(p,w)=>{p.enabled!==w.enabled&&(s.hours=h("hours"),s.minutes=h("minutes"),s.seconds=h("seconds"))},{deep:!0});const Y=j({get:()=>e.internalModelValue,set:p=>{!e.readonly&&!e.disabled&&a("update:internal-model-value",p)}}),c=j(()=>p=>d.value[p]?d.value[p].month:0),v=j(()=>p=>d.value[p]?d.value[p].year:0);return na(Y,(p,w)=>{r&&JSON.stringify(p??{})!==JSON.stringify(w??{})&&r()},{deep:!0}),{calendars:d,time:s,modelValue:Y,month:c,year:v,today:i}},so=(e,a)=>{const{defaultedMultiCalendars:r,defaultedMultiDates:t,defaultedUI:l,defaultedHighlight:i,defaultedTz:d,propDates:h,defaultedRange:s}=Oe(a),{isDisabled:Y}=$a(a),c=Q(null),v=Q(Ge(new Date,d.value.timezone)),p=n=>{!n.current&&a.hideOffsetDates||(c.value=n.value)},w=()=>{c.value=null},V=n=>Array.isArray(e.value)&&s.value.enabled&&e.value[0]&&c.value?n?Ye(c.value,e.value[0]):Ie(c.value,e.value[0]):!0,C=(n,$)=>{const re=()=>e.value?$?e.value[0]||null:e.value[1]:null,Ce=e.value&&Array.isArray(e.value)?re():null;return xe(W(n.value),Ce)},J=n=>{const $=Array.isArray(e.value)?e.value[0]:null;return n?!Ie(c.value??null,$):!0},k=(n,$=!0)=>(s.value.enabled||a.weekPicker)&&Array.isArray(e.value)&&e.value.length===2?a.hideOffsetDates&&!n.current?!1:xe(W(n.value),e.value[$?0:1]):s.value.enabled?C(n,$)&&J($)||xe(n.value,Array.isArray(e.value)?e.value[0]:null)&&V($):!1,H=(n,$)=>{if(Array.isArray(e.value)&&e.value[0]&&e.value.length===1){const re=xe(n.value,c.value);return $?Ye(e.value[0],n.value)&&re:Ie(e.value[0],n.value)&&re}return!1},T=n=>!e.value||a.hideOffsetDates&&!n.current?!1:s.value.enabled?a.modelAuto&&Array.isArray(e.value)?xe(n.value,e.value[0]?e.value[0]:v.value):!1:t.value.enabled&&Array.isArray(e.value)?e.value.some($=>xe($,n.value)):xe(n.value,e.value?e.value:v.value),B=n=>{if(s.value.autoRange||a.weekPicker){if(c.value){if(a.hideOffsetDates&&!n.current)return!1;const $=wa(c.value,+s.value.autoRange),re=ya(W(c.value),a.weekStart);return a.weekPicker?xe(re[1],W(n.value)):xe($,W(n.value))}return!1}return!1},G=n=>{if(s.value.autoRange||a.weekPicker){if(c.value){const $=wa(c.value,+s.value.autoRange);if(a.hideOffsetDates&&!n.current)return!1;const re=ya(W(c.value),a.weekStart);return a.weekPicker?Ye(n.value,re[0])&&Ie(n.value,re[1]):Ye(n.value,c.value)&&Ie(n.value,$)}return!1}return!1},R=n=>{if(s.value.autoRange||a.weekPicker){if(c.value){if(a.hideOffsetDates&&!n.current)return!1;const $=ya(W(c.value),a.weekStart);return a.weekPicker?xe($[0],n.value):xe(c.value,n.value)}return!1}return!1},I=n=>Za(e.value,c.value,n.value),ie=()=>a.modelAuto&&Array.isArray(a.internalModelValue)?!!a.internalModelValue[0]:!1,L=()=>a.modelAuto?Ml(a.internalModelValue):!0,O=n=>{if(a.weekPicker)return!1;const $=s.value.enabled?!k(n)&&!k(n,!1):!0;return!Y(n.value)&&!T(n)&&!(!n.current&&a.hideOffsetDates)&&$},se=n=>s.value.enabled?a.modelAuto?ie()&&T(n):!1:T(n),ce=n=>i.value?$n(n.value,h.value.highlight):!1,fe=n=>{const $=Y(n.value);return $&&(typeof i.value=="function"?!i.value(n.value,$):!i.value.options.highlightDisabled)},m=n=>{var $;return typeof i.value=="function"?i.value(n.value):($=i.value.weekdays)==null?void 0:$.includes(n.value.getDay())},_=n=>(s.value.enabled||a.weekPicker)&&(!(r.value.count>0)||n.current)&&L()&&!(!n.current&&a.hideOffsetDates)&&!T(n)?I(n):!1,y=n=>{if(Array.isArray(e.value)&&e.value.length===1){const{before:$,after:re}=dl(+s.value.maxRange,e.value[0]);return Ba(n.value,$)||Ca(n.value,re)}return!1},z=n=>{if(Array.isArray(e.value)&&e.value.length===1){const{before:$,after:re}=dl(+s.value.minRange,e.value[0]);return Za([$,re],e.value[0],n.value)}return!1},te=n=>s.value.enabled&&(s.value.maxRange||s.value.minRange)?s.value.maxRange&&s.value.minRange?y(n)||z(n):s.value.maxRange?y(n):z(n):!1,N=n=>{const{isRangeStart:$,isRangeEnd:re}=g(n),Ce=s.value.enabled?$||re:!1;return{dp__cell_offset:!n.current,dp__pointer:!a.disabled&&!(!n.current&&a.hideOffsetDates)&&!Y(n.value)&&!te(n),dp__cell_disabled:Y(n.value)||te(n),dp__cell_highlight:!fe(n)&&(ce(n)||m(n))&&!se(n)&&!Ce&&!R(n)&&!(_(n)&&a.weekPicker)&&!re,dp__cell_highlight_active:!fe(n)&&(ce(n)||m(n))&&se(n),dp__today:!a.noToday&&xe(n.value,v.value)&&n.current,"dp--past":Ie(n.value,v.value),"dp--future":Ye(n.value,v.value)}},oe=n=>({dp__active_date:se(n),dp__date_hover:O(n)}),A=n=>{if(e.value&&!Array.isArray(e.value)){const $=ya(e.value,a.weekStart);return{...S(n),dp__range_start:xe($[0],n.value),dp__range_end:xe($[1],n.value),dp__range_between_week:Ye(n.value,$[0])&&Ie(n.value,$[1])}}return{...S(n)}},U=n=>{if(e.value&&Array.isArray(e.value)){const $=ya(e.value[0],a.weekStart),re=e.value[1]?ya(e.value[1],a.weekStart):[];return{...S(n),dp__range_start:xe($[0],n.value)||xe(re[0],n.value),dp__range_end:xe($[1],n.value)||xe(re[1],n.value),dp__range_between_week:Ye(n.value,$[0])&&Ie(n.value,$[1])||Ye(n.value,re[0])&&Ie(n.value,re[1]),dp__range_between:Ye(n.value,$[1])&&Ie(n.value,re[0])}}return{...S(n)}},g=n=>{const $=r.value.count>0?n.current&&k(n)&&L():k(n)&&L(),re=r.value.count>0?n.current&&k(n,!1)&&L():k(n,!1)&&L();return{isRangeStart:$,isRangeEnd:re}},M=n=>{const{isRangeStart:$,isRangeEnd:re}=g(n);return{dp__range_start:$,dp__range_end:re,dp__range_between:_(n),dp__date_hover:xe(n.value,c.value)&&!$&&!re&&!a.weekPicker,dp__date_hover_start:H(n,!0),dp__date_hover_end:H(n,!1)}},S=n=>({...M(n),dp__cell_auto_range:G(n),dp__cell_auto_range_start:R(n),dp__cell_auto_range_end:B(n)}),q=n=>s.value.enabled?s.value.autoRange?S(n):a.modelAuto?{...oe(n),...M(n)}:a.weekPicker?U(n):M(n):a.weekPicker?A(n):oe(n);return{setHoverDate:p,clearHoverDate:w,getDayClassData:n=>a.hideOffsetDates&&!n.current?{}:{...N(n),...q(n),[a.dayClass?a.dayClass(n.value,a.internalModelValue):""]:!0,...l.value.calendarCell??{}}}},$a=e=>{const{defaultedFilters:a,defaultedRange:r,propDates:t,defaultedMultiDates:l}=Oe(e),i=m=>t.value.disabledDates?typeof t.value.disabledDates=="function"?t.value.disabledDates(W(m)):!!ct(m,t.value.disabledDates):!1,d=m=>t.value.maxDate?e.yearPicker?he(m)>he(t.value.maxDate):Ye(m,t.value.maxDate):!1,h=m=>t.value.minDate?e.yearPicker?he(m)<he(t.value.minDate):Ie(m,t.value.minDate):!1,s=m=>{const _=d(m),y=h(m),z=i(m),te=a.value.months.map(g=>+g).includes(Me(m)),N=e.disabledWeekDays.length?e.disabledWeekDays.some(g=>+g===en(m)):!1,oe=w(m),A=he(m),U=A<+e.yearRange[0]||A>+e.yearRange[1];return!(_||y||z||te||U||N||oe)},Y=(m,_)=>Ie(...ka(t.value.minDate,m,_))||xe(...ka(t.value.minDate,m,_)),c=(m,_)=>Ye(...ka(t.value.maxDate,m,_))||xe(...ka(t.value.maxDate,m,_)),v=(m,_,y)=>{let z=!1;return t.value.maxDate&&y&&c(m,_)&&(z=!0),t.value.minDate&&!y&&Y(m,_)&&(z=!0),z},p=(m,_,y,z)=>{let te=!1;return z&&(t.value.minDate||t.value.maxDate)?t.value.minDate&&t.value.maxDate?te=v(m,_,y):(t.value.minDate&&Y(m,_)||t.value.maxDate&&c(m,_))&&(te=!0):te=!0,te},w=m=>Array.isArray(t.value.allowedDates)&&!t.value.allowedDates.length?!0:t.value.allowedDates?!ct(m,t.value.allowedDates):!1,V=m=>!s(m),C=m=>r.value.noDisabledRange?!yl({start:m[0],end:m[1]}).some(_=>V(_)):!0,J=m=>{if(m){const _=he(m);return _>=+e.yearRange[0]&&_<=e.yearRange[1]}return!0},k=(m,_)=>!!(Array.isArray(m)&&m[_]&&(r.value.maxRange||r.value.minRange)&&J(m[_])),H=(m,_,y=0)=>{if(k(_,y)&&J(m)){const z=an(m,_[y]),te=Cl(_[y],m),N=te.length===1?0:te.filter(A=>V(A)).length,oe=Math.abs(z)-(r.value.minMaxRawRange?0:N);if(r.value.minRange&&r.value.maxRange)return oe>=+r.value.minRange&&oe<=+r.value.maxRange;if(r.value.minRange)return oe>=+r.value.minRange;if(r.value.maxRange)return oe<=+r.value.maxRange}return!0},T=()=>!e.enableTimePicker||e.monthPicker||e.yearPicker||e.ignoreTimeValidation,B=m=>Array.isArray(m)?[m[0]?Tt(m[0]):null,m[1]?Tt(m[1]):null]:Tt(m),G=(m,_,y)=>m.find(z=>+z.hours===ga(_)&&z.minutes==="*"?!0:+z.minutes===Ma(_)&&+z.hours===ga(_))&&y,R=(m,_,y)=>{const[z,te]=m,[N,oe]=_;return!G(z,N,y)&&!G(te,oe,y)&&y},I=(m,_)=>{const y=Array.isArray(_)?_:[_];return Array.isArray(e.disabledTimes)?Array.isArray(e.disabledTimes[0])?R(e.disabledTimes,y,m):!y.some(z=>G(e.disabledTimes,z,m)):m},ie=(m,_)=>{const y=Array.isArray(_)?[Sa(_[0]),_[1]?Sa(_[1]):void 0]:Sa(_),z=!e.disabledTimes(y);return m&&z},L=(m,_)=>e.disabledTimes?Array.isArray(e.disabledTimes)?I(_,m):ie(_,m):_,O=m=>{let _=!0;if(!m||T())return!0;const y=!t.value.minDate&&!t.value.maxDate?B(m):m;return(e.maxTime||t.value.maxDate)&&(_=sl(e.maxTime,t.value.maxDate,"max",Ue(y),_)),(e.minTime||t.value.minDate)&&(_=sl(e.minTime,t.value.minDate,"min",Ue(y),_)),L(m,_)},se=m=>{if(!e.monthPicker)return!0;let _=!0;const y=W(ia(m));if(t.value.minDate&&t.value.maxDate){const z=W(ia(t.value.minDate)),te=W(ia(t.value.maxDate));return Ye(y,z)&&Ie(y,te)||xe(y,z)||xe(y,te)}if(t.value.minDate){const z=W(ia(t.value.minDate));_=Ye(y,z)||xe(y,z)}if(t.value.maxDate){const z=W(ia(t.value.maxDate));_=Ie(y,z)||xe(y,z)}return _},ce=j(()=>m=>!e.enableTimePicker||e.ignoreTimeValidation?!0:O(m)),fe=j(()=>m=>e.monthPicker?Array.isArray(m)&&(r.value.enabled||l.value.enabled)?!m.filter(_=>!se(_)).length:se(m):!0);return{isDisabled:V,validateDate:s,validateMonthYearInRange:p,isDateRangeAllowed:C,checkMinMaxRange:H,isValidTime:O,isTimeValid:ce,isMonthValid:fe}},ft=()=>{const e=j(()=>(t,l)=>t==null?void 0:t.includes(l)),a=j(()=>(t,l)=>t.count?t.solo?!0:l===0:!0),r=j(()=>(t,l)=>t.count?t.solo?!0:l===t.count-1:!0);return{hideNavigationButtons:e,showLeftIcon:a,showRightIcon:r}},co=(e,a,r)=>{const t=Q(0),l=Ga({[Ta.timePicker]:!e.enableTimePicker||e.timePicker||e.monthPicker,[Ta.calendar]:!1,[Ta.header]:!1}),i=j(()=>e.monthPicker||e.timePicker),d=v=>{var p;if((p=e.flow)!=null&&p.length){if(!v&&i.value)return c();l[v]=!0,Object.keys(l).filter(w=>!l[w]).length||c()}},h=()=>{var v,p;(v=e.flow)!=null&&v.length&&t.value!==-1&&(t.value+=1,a("flow-step",t.value),c()),((p=e.flow)==null?void 0:p.length)===t.value&&ta().then(()=>s())},s=()=>{t.value=-1},Y=(v,p,...w)=>{var V,C;e.flow[t.value]===v&&r.value&&((C=(V=r.value)[p])==null||C.call(V,...w))},c=(v=0)=>{v&&(t.value+=v),Y(Ke.month,"toggleMonthPicker",!0),Y(Ke.year,"toggleYearPicker",!0),Y(Ke.calendar,"toggleTimePicker",!1,!0),Y(Ke.time,"toggleTimePicker",!0,!0);const p=e.flow[t.value];(p===Ke.hours||p===Ke.minutes||p===Ke.seconds)&&Y(p,"toggleTimePicker",!0,!0,p)};return{childMount:d,updateFlowStep:h,resetFlow:s,handleFlow:c,flowStep:t}},vo={key:1,class:"dp__input_wrap"},po=["id","name","inputmode","placeholder","disabled","readonly","required","value","autocomplete","aria-label","aria-disabled","aria-invalid"],mo={key:2,class:"dp--clear-btn"},yo=["aria-label"],fo=Fe({compatConfig:{MODE:3},__name:"DatepickerInput",props:{isMenuOpen:{type:Boolean,default:!1},inputValue:{type:String,default:""},...pt},emits:["clear","open","update:input-value","set-input-date","close","select-date","set-empty-date","toggle","focus-prev","focus","blur","real-blur","text-input"],setup(e,{expose:a,emit:r}){const t=r,l=e,{defaultedTextInput:i,defaultedAriaLabels:d,defaultedInline:h,defaultedConfig:s,defaultedRange:Y,defaultedMultiDates:c,defaultedUI:v,getDefaultPattern:p,getDefaultStartTime:w}=Oe(l),{checkMinMaxRange:V}=$a(l),C=Q(),J=Q(null),k=Q(!1),H=Q(!1),T=j(()=>({dp__pointer:!l.disabled&&!l.readonly&&!i.value.enabled,dp__disabled:l.disabled,dp__input_readonly:!i.value.enabled,dp__input:!0,dp__input_icon_pad:!l.hideInputIcon,dp__input_valid:typeof l.state=="boolean"?l.state:!1,dp__input_invalid:typeof l.state=="boolean"?!l.state:!1,dp__input_focus:k.value||l.isMenuOpen,dp__input_reg:!i.value.enabled,...v.value.input??{}})),B=()=>{t("set-input-date",null),l.clearable&&l.autoApply&&(t("set-empty-date"),C.value=null)},G=A=>{const U=w();return Sn(A,i.value.format??p(),U??Rl({},l.enableSeconds),l.inputValue,H.value,l.formatLocale)},R=A=>{const{rangeSeparator:U}=i.value,[g,M]=A.split(`${U}`);if(g){const S=G(g.trim()),q=M?G(M.trim()):null;if(Ca(S,q))return;const n=S&&q?[S,q]:[S];V(q,n,0)&&(C.value=S?n:null)}},I=()=>{H.value=!0},ie=A=>{if(Y.value.enabled)R(A);else if(c.value.enabled){const U=A.split(";");C.value=U.map(g=>G(g.trim())).filter(g=>g)}else C.value=G(A)},L=A=>{var U;const g=typeof A=="string"?A:(U=A.target)==null?void 0:U.value;g!==""?(i.value.openMenu&&!l.isMenuOpen&&t("open"),ie(g),t("set-input-date",C.value)):B(),H.value=!1,t("update:input-value",g),t("text-input",A,C.value)},O=A=>{i.value.enabled?(ie(A.target.value),i.value.enterSubmit&&zt(C.value)&&l.inputValue!==""?(t("set-input-date",C.value,!0),C.value=null):i.value.enterSubmit&&l.inputValue===""&&(C.value=null,t("clear"))):fe(A)},se=(A,U)=>{i.value.enabled&&i.value.tabSubmit&&!U&&ie(A.target.value),i.value.tabSubmit&&zt(C.value)&&l.inputValue!==""?(t("set-input-date",C.value,!0,!0),C.value=null):i.value.tabSubmit&&l.inputValue===""&&(C.value=null,t("clear",!0))},ce=()=>{k.value=!0,t("focus"),ta().then(()=>{var A;i.value.enabled&&i.value.selectOnFocus&&((A=J.value)==null||A.select())})},fe=A=>{if(Da(A,s.value,!0),i.value.enabled&&i.value.openMenu&&!h.value.input){if(i.value.openMenu==="open"&&!l.isMenuOpen)return t("open");if(i.value.openMenu==="toggle")return t("toggle")}else i.value.enabled||t("toggle")},m=()=>{t("real-blur"),k.value=!1,(!l.isMenuOpen||h.value.enabled&&h.value.input)&&t("blur"),l.autoApply&&i.value.enabled&&C.value&&!l.isMenuOpen&&(t("set-input-date",C.value),t("select-date"),C.value=null)},_=A=>{Da(A,s.value,!0),t("clear")},y=()=>{t("close")},z=A=>{if(A.key==="Tab"&&se(A),A.key==="Enter"&&O(A),A.key==="Escape"&&i.value.escClose&&y(),!i.value.enabled){if(A.code==="Tab")return;A.preventDefault()}},te=()=>{var A;(A=J.value)==null||A.focus({preventScroll:!0})},N=A=>{C.value=A},oe=A=>{A.key===Se.tab&&se(A,!0)};return a({focusInput:te,setParsedDate:N}),(A,U)=>{var g,M,S;return D(),F("div",{onClick:fe},[A.$slots.trigger&&!A.$slots["dp-input"]&&!u(h).enabled?de(A.$slots,"trigger",{key:0}):K("",!0),!A.$slots.trigger&&(!u(h).enabled||u(h).input)?(D(),F("div",vo,[A.$slots["dp-input"]&&!A.$slots.trigger&&(!u(h).enabled||u(h).enabled&&u(h).input)?de(A.$slots,"dp-input",{key:0,value:e.inputValue,isMenuOpen:e.isMenuOpen,onInput:L,onEnter:O,onTab:se,onClear:_,onBlur:m,onKeypress:z,onPaste:I,onFocus:ce,openMenu:()=>A.$emit("open"),closeMenu:()=>A.$emit("close"),toggleMenu:()=>A.$emit("toggle")}):K("",!0),A.$slots["dp-input"]?K("",!0):(D(),F("input",{key:1,id:A.uid?`dp-input-${A.uid}`:void 0,ref_key:"inputRef",ref:J,"data-test-id":"dp-input",name:A.name,class:ke(T.value),inputmode:u(i).enabled?"text":"none",placeholder:A.placeholder,disabled:A.disabled,readonly:A.readonly,required:A.required,value:e.inputValue,autocomplete:A.autocomplete,"aria-label":(g=u(d))==null?void 0:g.input,"aria-disabled":A.disabled||void 0,"aria-invalid":A.state===!1?!0:void 0,onInput:L,onBlur:m,onFocus:ce,onKeypress:z,onKeydown:U[0]||(U[0]=q=>z(q)),onPaste:I},null,42,po)),ge("div",{onClick:U[3]||(U[3]=q=>t("toggle"))},[A.$slots["input-icon"]&&!A.hideInputIcon?(D(),F("span",{key:0,class:"dp__input_icon",onClick:U[1]||(U[1]=q=>t("toggle"))},[de(A.$slots,"input-icon")])):K("",!0),!A.$slots["input-icon"]&&!A.hideInputIcon&&!A.$slots["dp-input"]?(D(),$e(u(Ha),{key:1,"aria-label":(M=u(d))==null?void 0:M.calendarIcon,class:"dp__input_icon dp__input_icons",onClick:U[2]||(U[2]=q=>t("toggle"))},null,8,["aria-label"])):K("",!0)]),A.$slots["clear-icon"]&&(A.alwaysClearable||e.inputValue&&A.clearable&&!A.disabled&&!A.readonly)?(D(),F("span",mo,[de(A.$slots,"clear-icon",{clear:_})])):K("",!0),!A.$slots["clear-icon"]&&(A.alwaysClearable||A.clearable&&e.inputValue&&!A.disabled&&!A.readonly)?(D(),F("button",{key:3,"aria-label":(S=u(d))==null?void 0:S.clearInput,class:"dp--clear-btn",type:"button",onKeydown:U[4]||(U[4]=q=>u(Qe)(q,()=>_(q),!0,oe)),onClick:U[5]||(U[5]=Xa(q=>_(q),["prevent"]))},[aa(u(Dl),{class:"dp__input_icons","data-test-id":"clear-icon"})],40,yo)):K("",!0)])):K("",!0)])}}}),ho=typeof window<"u"?window:void 0,Nt=()=>{},go=e=>Zl()?(Gl(e),!0):!1,bo=(e,a,r,t)=>{if(!e)return Nt;let l=Nt;const i=na(()=>u(e),h=>{l(),h&&(h.addEventListener(a,r,t),l=()=>{h.removeEventListener(a,r,t),l=Nt})},{immediate:!0,flush:"post"}),d=()=>{i(),l()};return go(d),d},_o=(e,a,r,t={})=>{const{window:l=ho,event:i="pointerdown"}=t;return l?bo(l,i,d=>{const h=ze(e),s=ze(a);!h||!s||h===d.target||d.composedPath().includes(h)||d.composedPath().includes(s)||r(d)},{passive:!0}):void 0},wo=["data-dp-mobile"],ko=Fe({compatConfig:{MODE:3},__name:"VueDatePicker",props:{...pt},emits:["update:model-value","update:model-timezone-value","text-submit","closed","cleared","open","focus","blur","internal-model-change","recalculate-position","flow-step","update-month-year","invalid-select","invalid-fixed-range","tooltip-open","tooltip-close","time-picker-open","time-picker-close","am-pm-change","range-start","range-end","date-update","invalid-date","overlay-toggle","text-input"],setup(e,{expose:a,emit:r}){const t=r,l=e,i=Ra(),d=Q(!1),h=qa(l,"modelValue"),s=qa(l,"timezone"),Y=Q(null),c=Q(null),v=Q(null),p=Q(!1),w=Q(null),V=Q(!1),C=Q(!1),J=Q(!1),k=Q(!1),{setMenuFocused:H,setShiftKey:T}=Yl(),{clearArrowNav:B}=xa(),{validateDate:G,isValidTime:R}=$a(l),{defaultedTransitions:I,defaultedTextInput:ie,defaultedInline:L,defaultedConfig:O,defaultedRange:se,defaultedMultiDates:ce}=Oe(l),{menuTransition:fe,showTransition:m}=tt(I),{isMobile:_}=Hl(O);We(()=>{q(l.modelValue),ta().then(()=>{if(!L.value.enabled){const P=U(w.value);P==null||P.addEventListener("scroll",ee),window==null||window.addEventListener("resize",ue)}}),L.value.enabled&&(d.value=!0),window==null||window.addEventListener("keyup",ae),window==null||window.addEventListener("keydown",Ae)}),et(()=>{if(!L.value.enabled){const P=U(w.value);P==null||P.removeEventListener("scroll",ee),window==null||window.removeEventListener("resize",ue)}window==null||window.removeEventListener("keyup",ae),window==null||window.removeEventListener("keydown",Ae)});const y=ea(i,"all",l.presetDates),z=ea(i,"input");na([h,s],()=>{q(h.value)},{deep:!0});const{openOnTop:te,menuStyle:N,xCorrect:oe,setMenuPosition:A,getScrollableParent:U,shadowRender:g}=oo({menuRef:Y,menuRefInner:c,inputRef:v,pickerWrapperRef:w,inline:L,emit:t,props:l,slots:i}),{inputValue:M,internalModelValue:S,parseExternalModelValue:q,emitModelValue:n,formatInputValue:$,checkBeforeEmit:re}=ar(t,l,p),Ce=j(()=>({dp__main:!0,dp__theme_dark:l.dark,dp__theme_light:!l.dark,dp__flex_display:L.value.enabled,"dp--flex-display-collapsed":J.value,dp__flex_display_with_input:L.value.input})),x=j(()=>l.dark?"dp__theme_dark":"dp__theme_light"),be=j(()=>l.teleport?{to:typeof l.teleport=="boolean"?"body":l.teleport,disabled:!l.teleport||L.value.enabled}:{}),E=j(()=>({class:"dp__outer_menu_wrap"})),le=j(()=>L.value.enabled&&(l.timePicker||l.monthPicker||l.yearPicker||l.quarterPicker)),o=()=>{var P,ne;return((ne=(P=v.value)==null?void 0:P.$el)==null?void 0:ne.getBoundingClientRect())??{width:0,left:0,right:0}},ee=()=>{d.value&&(O.value.closeOnScroll?Ve():A())},ue=()=>{var P;d.value&&A();const ne=((P=c.value)==null?void 0:P.$el.getBoundingClientRect().width)??0;J.value=document.body.offsetWidth<=ne},ae=P=>{P.key==="Tab"&&!L.value.enabled&&!l.teleport&&O.value.tabOutClosesMenu&&(w.value.contains(document.activeElement)||Ve()),C.value=P.shiftKey},Ae=P=>{C.value=P.shiftKey},De=()=>{!l.disabled&&!l.readonly&&(g(ml,l),A(!1),d.value=!0,d.value&&t("open"),d.value||ma(),q(l.modelValue))},b=()=>{var P,ne;M.value="",ma(),(P=c.value)==null||P.onValueCleared(),(ne=v.value)==null||ne.setParsedDate(null),t("update:model-value",null),t("update:model-timezone-value",null),t("cleared"),O.value.closeOnClearValue&&Ve()},X=()=>{const P=S.value;return!P||!Array.isArray(P)&&G(P)?!0:Array.isArray(P)?ce.value.enabled||P.length===2&&G(P[0])&&G(P[1])?!0:se.value.partialRange&&!l.timePicker?G(P[0]):!1:!1},pe=()=>{re()&&X()?(n(),Ve()):t("invalid-select",S.value)},Be=P=>{da(),n(),O.value.closeOnAutoApply&&!P&&Ve()},da=()=>{v.value&&ie.value.enabled&&v.value.setParsedDate(S.value)},me=(P=!1)=>{l.autoApply&&R(S.value)&&X()&&(se.value.enabled&&Array.isArray(S.value)?(se.value.partialRange||S.value.length===2)&&Be(P):Be(P))},ma=()=>{ie.value.enabled||(S.value=null)},Ve=(P=!1)=>{P&&S.value&&O.value.setDateOnMenuClose&&pe(),L.value.enabled||(d.value&&(d.value=!1,oe.value=!1,H(!1),T(!1),B(),t("closed"),M.value&&q(h.value)),ma(),t("blur"))},Fa=(P,ne,ve=!1)=>{if(!P){S.value=null;return}const ca=Array.isArray(P)?!P.some(Oa=>!G(Oa)):G(P),ra=R(P);ca&&ra?(k.value=!0,S.value=P,ne&&(V.value=ve,pe(),t("text-submit")),ta().then(()=>{k.value=!1})):t("invalid-date",P)},ht=()=>{l.autoApply&&R(S.value)&&n(),da()},nt=()=>d.value?Ve():De(),gt=P=>{S.value=P},bt=()=>{ie.value.enabled&&(p.value=!0,$()),t("focus")},_t=()=>{if(ie.value.enabled&&(p.value=!1,q(l.modelValue),V.value)){const P=xn(w.value,C.value);P==null||P.focus()}t("blur")},wt=P=>{c.value&&c.value.updateMonthYear(0,{month:ol(P.month),year:ol(P.year)})},kt=P=>{q(P??l.modelValue)},Dt=(P,ne)=>{var ve;(ve=c.value)==null||ve.switchView(P,ne)},f=(P,ne)=>O.value.onClickOutside?O.value.onClickOutside(P,ne):Ve(!0),Z=(P=0)=>{var ne;(ne=c.value)==null||ne.handleFlow(P)},ye=()=>Y;return _o(Y,v,P=>f(X,P)),a({closeMenu:Ve,selectDate:pe,clearValue:b,openMenu:De,onScroll:ee,formatInputValue:$,updateInternalModelValue:gt,setMonthYear:wt,parseModel:kt,switchView:Dt,toggleMenu:nt,handleFlow:Z,getDpWrapMenuRef:ye}),(P,ne)=>(D(),F("div",{ref_key:"pickerWrapperRef",ref:w,class:ke(Ce.value),"data-datepicker-instance":"","data-dp-mobile":u(_)},[aa(fo,Ee({ref_key:"inputRef",ref:v,"input-value":u(M),"onUpdate:inputValue":ne[0]||(ne[0]=ve=>el(M)?M.value=ve:null),"is-menu-open":d.value},P.$props,{onClear:b,onOpen:De,onSetInputDate:Fa,onSetEmptyDate:u(n),onSelectDate:pe,onToggle:nt,onClose:Ve,onFocus:bt,onBlur:_t,onRealBlur:ne[1]||(ne[1]=ve=>p.value=!1),onTextInput:ne[2]||(ne[2]=ve=>P.$emit("text-input",ve))}),Xe({_:2},[Re(u(z),(ve,ca)=>({name:ve,fn:we(ra=>[de(P.$slots,ve,Le(Ze(ra)))])}))]),1040,["input-value","is-menu-open","onSetEmptyDate"]),(D(),$e(vt(P.teleport?jl:"div"),Le(Ze(be.value)),{default:we(()=>[aa(Ea,{name:u(fe)(u(te)),css:u(m)&&!u(L).enabled},{default:we(()=>[d.value?(D(),F("div",Ee({key:0,ref_key:"dpWrapMenuRef",ref:Y},E.value,{class:{"dp--menu-wrapper":!u(L).enabled},style:u(L).enabled?void 0:u(N)}),[aa(ml,Ee({ref_key:"dpMenuRef",ref:c},P.$props,{"internal-model-value":u(S),"onUpdate:internalModelValue":ne[3]||(ne[3]=ve=>el(S)?S.value=ve:null),class:{[x.value]:!0,"dp--menu-wrapper":P.teleport},"open-on-top":u(te),"no-overlay-focus":le.value,collapse:J.value,"get-input-rect":o,"is-text-input-date":k.value,onClosePicker:Ve,onSelectDate:pe,onAutoApply:me,onTimeUpdate:ht,onFlowStep:ne[4]||(ne[4]=ve=>P.$emit("flow-step",ve)),onUpdateMonthYear:ne[5]||(ne[5]=ve=>P.$emit("update-month-year",ve)),onInvalidSelect:ne[6]||(ne[6]=ve=>P.$emit("invalid-select",u(S))),onAutoApplyInvalid:ne[7]||(ne[7]=ve=>P.$emit("invalid-select",ve)),onInvalidFixedRange:ne[8]||(ne[8]=ve=>P.$emit("invalid-fixed-range",ve)),onRecalculatePosition:u(A),onTooltipOpen:ne[9]||(ne[9]=ve=>P.$emit("tooltip-open",ve)),onTooltipClose:ne[10]||(ne[10]=ve=>P.$emit("tooltip-close",ve)),onTimePickerOpen:ne[11]||(ne[11]=ve=>P.$emit("time-picker-open",ve)),onTimePickerClose:ne[12]||(ne[12]=ve=>P.$emit("time-picker-close",ve)),onAmPmChange:ne[13]||(ne[13]=ve=>P.$emit("am-pm-change",ve)),onRangeStart:ne[14]||(ne[14]=ve=>P.$emit("range-start",ve)),onRangeEnd:ne[15]||(ne[15]=ve=>P.$emit("range-end",ve)),onDateUpdate:ne[16]||(ne[16]=ve=>P.$emit("date-update",ve)),onInvalidDate:ne[17]||(ne[17]=ve=>P.$emit("invalid-date",ve)),onOverlayToggle:ne[18]||(ne[18]=ve=>P.$emit("overlay-toggle",ve)),onMenuBlur:ne[19]||(ne[19]=ve=>P.$emit("blur"))}),Xe({_:2},[Re(u(y),(ve,ca)=>({name:ve,fn:we(ra=>[de(P.$slots,ve,Le(Ze({...ra})))])}))]),1040,["internal-model-value","class","open-on-top","no-overlay-focus","collapse","is-text-input-date","onRecalculatePosition"])],16)):K("",!0)]),_:3},8,["name","css"])]),_:3},16))],10,wo))}}),Fl=(()=>{const e=ko;return e.install=a=>{a.component("Vue3DatePicker",e)},e})(),Do=Object.freeze(Object.defineProperty({__proto__:null,default:Fl},Symbol.toStringTag,{value:"Module"}));Object.entries(Do).forEach(([e,a])=>{e!=="default"&&(Fl[e]=a)});export{Fl as G};
//# sourceMappingURL=datepicker-BBNcWeHz.js.map
