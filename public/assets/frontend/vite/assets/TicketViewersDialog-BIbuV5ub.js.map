{"version":3,"file":"TicketViewersDialog-BIbuV5ub.js","sources":["../../../../../app/frontend/apps/mobile/pages/ticket/components/TicketDetailView/TicketViewerItem.vue","../../../../../app/frontend/apps/mobile/pages/ticket/components/TicketDetailView/TicketViewersDialog.vue"],"sourcesContent":["<!-- Copyright (C) 2012-2025 Zammad Foundation, https://zammad-foundation.org/ -->\n\n<script setup lang=\"ts\">\nimport { computed, toRef } from 'vue'\n\nimport CommonUserAvatar from '#shared/components/CommonUserAvatar/CommonUserAvatar.vue'\nimport {\n  type AvatarUser,\n  type AvatarUserLive,\n} from '#shared/components/CommonUserAvatar/types.ts'\nimport { useAvatarIndicator } from '#shared/composables/useAvatarIndicator.ts'\nimport { EnumTaskbarApp } from '#shared/graphql/types.ts'\nimport { getIdFromGraphQLId } from '#shared/graphql/utils.ts'\n\nexport interface Props {\n  user: AvatarUser\n  editing: boolean\n  idle?: boolean\n  app: EnumTaskbarApp\n}\n\nconst props = defineProps<Props>()\n\nconst liveUser = computed<AvatarUserLive>(() => ({\n  editing: props.editing,\n  app: props.app,\n  isIdle: props.idle,\n}))\n\nconst { indicatorIcon, indicatorLabel, indicatorIsIdle } = useAvatarIndicator(\n  toRef(props.user),\n  false,\n  liveUser,\n)\n</script>\n\n<template>\n  <CommonLink\n    :key=\"user.id\"\n    :link=\"`/users/${getIdFromGraphQLId(user.id)}`\"\n    class=\"flex items-center justify-between px-3 first:pt-1 last:pb-1\"\n  >\n    <div class=\"flex items-center\">\n      <CommonUserAvatar :entity=\"user\" :live=\"{ isIdle: idle }\" />\n      <div class=\"ltr:ml-3 rtl:mr-3\">{{ user.fullname }}</div>\n    </div>\n\n    <div v-if=\"indicatorIcon\" class=\"flex items-center\">\n      <CommonIcon\n        :class=\"{ 'fill-gray': indicatorIsIdle }\"\n        :label=\"indicatorLabel\"\n        :name=\"indicatorIcon\"\n      />\n    </div>\n  </CommonLink>\n</template>\n","<!-- Copyright (C) 2012-2025 Zammad Foundation, https://zammad-foundation.org/ -->\n\n<script setup lang=\"ts\">\nimport { toRef } from 'vue'\n\nimport { useTicketLiveUsersDisplay } from '#shared/entities/ticket/composables/useTicketLiveUsersDisplay.ts'\nimport type { TicketLiveAppUser } from '#shared/entities/ticket/types.ts'\n\nimport CommonDialog from '#mobile/components/CommonDialog/CommonDialog.vue'\nimport CommonSectionMenu from '#mobile/components/CommonSectionMenu/CommonSectionMenu.vue'\n\nimport TicketViewerItem from './TicketViewerItem.vue'\n\ninterface Props {\n  name: string\n  liveUsers: TicketLiveAppUser[]\n}\n\nconst props = defineProps<Props>()\n\nconst { viewingUsers, idleUsers } = useTicketLiveUsersDisplay(\n  toRef(() => props.liveUsers),\n)\n</script>\n\n<template>\n  <CommonDialog\n    :name=\"name\"\n    :label=\"__('Ticket viewers')\"\n    class=\"w-full p-4 text-sm\"\n  >\n    <CommonSectionMenu\n      v-if=\"viewingUsers.length > 0\"\n      class=\"shrink-0 gap-3 py-2\"\n      :header-label=\"__('Viewing ticket')\"\n    >\n      <TicketViewerItem\n        v-for=\"(viewingUser, index) in viewingUsers\"\n        :key=\"`${index}-${viewingUser.user.id}`\"\n        :user=\"viewingUser.user\"\n        :editing=\"viewingUser.editing\"\n        :app=\"viewingUser.app\"\n      />\n    </CommonSectionMenu>\n    <CommonSectionMenu\n      v-if=\"idleUsers.length > 0\"\n      class=\"shrink-0 gap-3 py-2\"\n      :header-label=\"__('Opened in tabs')\"\n      :help=\"\n        __(\n          'Has ticket open in tabs, but is not actively looking at the ticket.',\n        )\n      \"\n    >\n      <TicketViewerItem\n        v-for=\"(idleUser, index) in idleUsers\"\n        :key=\"`${index}-${idleUser.user.id}`\"\n        :user=\"idleUser.user\"\n        :editing=\"idleUser.editing\"\n        :app=\"idleUser.app\"\n        idle\n      />\n    </CommonSectionMenu>\n  </CommonDialog>\n</template>\n"],"names":["props","__props","liveUser","computed","indicatorIcon","indicatorLabel","indicatorIsIdle","useAvatarIndicator","toRef","viewingUsers","idleUsers","useTicketLiveUsersDisplay"],"mappings":"w6BAqBA,MAAMA,EAAQC,EAERC,EAAWC,EAAyB,KAAO,CAC/C,QAASH,EAAM,QACf,IAAKA,EAAM,IACX,OAAQA,EAAM,IACd,EAAA,EAEI,CAAE,cAAAI,EAAe,eAAAC,EAAgB,gBAAAC,CAAoB,EAAAC,EACzDC,EAAMR,EAAM,IAAI,EAChB,GACAE,CAAA,shBCdF,MAAMF,EAAQC,EAER,CAAE,aAAAQ,EAAc,UAAAC,CAAA,EAAcC,EAClCH,EAAM,IAAMR,EAAM,SAAS,CAAA"}