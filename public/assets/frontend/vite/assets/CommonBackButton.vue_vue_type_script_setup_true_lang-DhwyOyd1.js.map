{"version":3,"file":"CommonBackButton.vue_vue_type_script_setup_true_lang-DhwyOyd1.js","sources":["../../../../../app/frontend/apps/mobile/components/CommonBackButton/CommonBackButton.vue"],"sourcesContent":["<!-- Copyright (C) 2012-2025 Zammad Foundation, https://zammad-foundation.org/ -->\n\n<script setup lang=\"ts\">\nimport { computed } from 'vue'\n\nimport { useWalker } from '#shared/router/walker.ts'\nimport { useLocaleStore } from '#shared/stores/locale.ts'\n\nimport type { RouteLocationRaw } from 'vue-router'\n\ninterface Props {\n  fallback: RouteLocationRaw\n  label?: string\n  // list of routes users shouldn't go back to\n  // useful, if there is a possible infinite loop\n  // ticket -> information -> ticket -> information -> ...\n  ignore?: string[]\n  avoidHomeButton?: boolean\n}\n\nconst props = defineProps<Props>()\n\nconst walker = useWalker()\n\nconst isHomeButton = computed(() => {\n  return !(props.avoidHomeButton || walker.getBackUrl(props.fallback) !== '/')\n})\n\nconst locale = useLocaleStore()\n\nconst icon = computed(() => {\n  if (isHomeButton.value) return 'home'\n  if (locale.localeData?.dir === 'rtl') return 'chevron-right'\n  return 'chevron-left'\n})\n</script>\n\n<template>\n  <button\n    class=\"flex cursor-pointer items-center\"\n    :aria-label=\"isHomeButton ? $t('Go home') : $t('Go back')\"\n    :class=\"{ 'gap-2': label }\"\n    type=\"button\"\n    @click=\"$walker.back(fallback, ignore)\"\n  >\n    <CommonIcon :name=\"icon\" decorative />\n    <span v-if=\"label\">{{ isHomeButton ? $t('Home') : $t(label) }}</span>\n  </button>\n</template>\n"],"names":["props","__props","walker","useWalker","isHomeButton","computed","locale","useLocaleStore","icon","_a"],"mappings":"4UAoBA,MAAMA,EAAQC,EAERC,EAASC,IAETC,EAAeC,EAAS,IACrB,EAAEL,EAAM,iBAAmBE,EAAO,WAAWF,EAAM,QAAQ,IAAM,IACzE,EAEKM,EAASC,IAETC,EAAOH,EAAS,IAAM,OACtB,OAAAD,EAAa,MAAc,SAC3BK,EAAAH,EAAO,aAAP,YAAAG,EAAmB,OAAQ,MAAc,gBACtC,cAAA,CACR"}