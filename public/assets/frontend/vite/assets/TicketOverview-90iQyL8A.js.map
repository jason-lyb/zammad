{"version":3,"file":"TicketOverview-90iQyL8A.js","sources":["../../../../../app/frontend/apps/mobile/components/CommonSelectPill/CommonSelectPill.vue","../../../../../app/frontend/apps/mobile/pages/ticket/graphql/queries/ticketsByOverviewSlim.api.ts","../../../../../app/frontend/apps/mobile/pages/ticket/components/TicketList/TicketList.vue","../../../../../app/frontend/apps/mobile/pages/ticket/components/TicketList/TicketOrderBySelector.vue","../../../../../app/frontend/apps/mobile/pages/ticket/views/TicketOverview.vue"],"sourcesContent":["<!-- Copyright (C) 2012-2025 Zammad Foundation, https://zammad-foundation.org/ -->\n\n<script setup lang=\"ts\">\nimport { computed } from 'vue'\n\nimport type { SelectOption } from '#shared/components/CommonSelect/types.ts'\n\nimport CommonSelect from '#mobile/components/CommonSelect/CommonSelect.vue'\n\nconst props = defineProps<{\n  modelValue?: string | number | boolean | (string | number | boolean)[] | null\n  options: SelectOption[]\n  placeholder?: string\n  multiple?: boolean\n  noClose?: boolean\n  noOptionsLabelTranslation?: boolean\n}>()\n\nconst emit = defineEmits<{\n  'update:modelValue': [string | number | (string | number)[]]\n  select: [SelectOption]\n}>()\n\nconst dialogProps = computed(() => {\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  const { placeholder, ...dialogProps } = props\n  return dialogProps\n})\n\nconst defaultLabel = computed(() => {\n  const option = props.options.find(\n    (option) => option.value === props.modelValue,\n  )\n  return option?.label || props.placeholder || ''\n})\n</script>\n\n<template>\n  <CommonSelect\n    #default=\"{ open, state: expanded }\"\n    v-bind=\"dialogProps\"\n    @update:model-value=\"emit('update:modelValue', $event)\"\n    @select=\"emit('select', $event)\"\n  >\n    <button\n      type=\"button\"\n      aria-controls=\"common-select\"\n      aria-owns=\"common-select\"\n      aria-haspopup=\"dialog\"\n      :aria-expanded=\"expanded\"\n      class=\"inline-flex w-auto cursor-pointer rounded-lg bg-gray-600 py-1 ltr:pr-1 ltr:pl-2 rtl:pr-2 rtl:pl-1\"\n      @click=\"open()\"\n      @keypress.space.prevent=\"open()\"\n    >\n      <slot>\n        {{ defaultLabel }}\n      </slot>\n      <CommonIcon\n        class=\"self-center\"\n        name=\"caret-down\"\n        size=\"tiny\"\n        decorative\n      />\n    </button>\n  </CommonSelect>\n</template>\n","import * as Types from '#shared/graphql/types.ts';\n\nimport gql from 'graphql-tag';\nimport { ObjectAttributeValuesFragmentDoc } from '../../../../../../shared/graphql/fragments/objectAttributeValues.api';\nimport * as VueApolloComposable from '@vue/apollo-composable';\nimport * as VueCompositionApi from 'vue';\nexport type ReactiveFunction<TParam> = () => TParam;\n\nexport const TicketsByOverviewSlimDocument = gql`\n    query ticketsByOverviewSlim($overviewId: ID!, $orderBy: String, $orderDirection: EnumOrderDirection, $cursor: String, $showPriority: Boolean!, $showUpdatedBy: Boolean!, $pageSize: Int = 10, $withObjectAttributes: Boolean = false) {\n  ticketsByOverview(\n    overviewId: $overviewId\n    orderBy: $orderBy\n    orderDirection: $orderDirection\n    after: $cursor\n    first: $pageSize\n  ) {\n    totalCount\n    edges {\n      node {\n        id\n        internalId\n        number\n        title\n        createdAt\n        updatedAt\n        updatedBy @include(if: $showUpdatedBy) {\n          id\n          fullname\n        }\n        customer {\n          id\n          firstname\n          lastname\n          fullname\n        }\n        organization {\n          id\n          name\n        }\n        state {\n          id\n          name\n          stateType {\n            id\n            name\n          }\n        }\n        group {\n          id\n          name\n        }\n        priority @include(if: $showPriority) {\n          id\n          name\n          uiColor\n          defaultCreate\n        }\n        objectAttributeValues @include(if: $withObjectAttributes) {\n          ...objectAttributeValues\n        }\n        stateColorCode\n      }\n      cursor\n    }\n    pageInfo {\n      endCursor\n      hasNextPage\n    }\n  }\n}\n    ${ObjectAttributeValuesFragmentDoc}`;\nexport function useTicketsByOverviewSlimQuery(variables: Types.TicketsByOverviewSlimQueryVariables | VueCompositionApi.Ref<Types.TicketsByOverviewSlimQueryVariables> | ReactiveFunction<Types.TicketsByOverviewSlimQueryVariables>, options: VueApolloComposable.UseQueryOptions<Types.TicketsByOverviewSlimQuery, Types.TicketsByOverviewSlimQueryVariables> | VueCompositionApi.Ref<VueApolloComposable.UseQueryOptions<Types.TicketsByOverviewSlimQuery, Types.TicketsByOverviewSlimQueryVariables>> | ReactiveFunction<VueApolloComposable.UseQueryOptions<Types.TicketsByOverviewSlimQuery, Types.TicketsByOverviewSlimQueryVariables>> = {}) {\n  return VueApolloComposable.useQuery<Types.TicketsByOverviewSlimQuery, Types.TicketsByOverviewSlimQueryVariables>(TicketsByOverviewSlimDocument, variables, options);\n}\nexport function useTicketsByOverviewSlimLazyQuery(variables?: Types.TicketsByOverviewSlimQueryVariables | VueCompositionApi.Ref<Types.TicketsByOverviewSlimQueryVariables> | ReactiveFunction<Types.TicketsByOverviewSlimQueryVariables>, options: VueApolloComposable.UseQueryOptions<Types.TicketsByOverviewSlimQuery, Types.TicketsByOverviewSlimQueryVariables> | VueCompositionApi.Ref<VueApolloComposable.UseQueryOptions<Types.TicketsByOverviewSlimQuery, Types.TicketsByOverviewSlimQueryVariables>> | ReactiveFunction<VueApolloComposable.UseQueryOptions<Types.TicketsByOverviewSlimQuery, Types.TicketsByOverviewSlimQueryVariables>> = {}) {\n  return VueApolloComposable.useLazyQuery<Types.TicketsByOverviewSlimQuery, Types.TicketsByOverviewSlimQueryVariables>(TicketsByOverviewSlimDocument, variables, options);\n}\nexport type TicketsByOverviewSlimQueryCompositionFunctionResult = VueApolloComposable.UseQueryReturn<Types.TicketsByOverviewSlimQuery, Types.TicketsByOverviewSlimQueryVariables>;","<!-- Copyright (C) 2012-2025 Zammad Foundation, https://zammad-foundation.org/ -->\n\n<script setup lang=\"ts\">\nimport { useInfiniteScroll } from '@vueuse/core'\nimport { computed, ref, watch, watchEffect } from 'vue'\n\nimport { usePagination } from '#shared/composables/usePagination.ts'\nimport type { EnumOrderDirection } from '#shared/graphql/types.ts'\nimport { QueryHandler } from '#shared/server/apollo/handler/index.ts'\nimport { getFocusableElements } from '#shared/utils/getFocusableElements.ts'\nimport { edgesToArray } from '#shared/utils/helpers.ts'\n\nimport CommonLoader from '#mobile/components/CommonLoader/CommonLoader.vue'\nimport TicketItem from '#mobile/components/Ticket/TicketItem.vue'\n\nimport { useTicketsByOverviewSlimQuery } from '../../graphql/queries/ticketsByOverviewSlim.api.ts'\n\ninterface Props {\n  overviewId: string\n  overviewTicketCount?: number\n  maxCount: number\n  orderBy: string\n  hiddenColumns: string[]\n  orderDirection: EnumOrderDirection\n}\n\nconst props = defineProps<Props>()\nconst emit = defineEmits<{\n  refetch: [status: boolean]\n}>()\nconst TICKETS_COUNT = 10\n\nconst ticketsQueryVariables = computed(() => {\n  return {\n    pageSize: TICKETS_COUNT,\n    overviewId: props.overviewId,\n    orderBy: props.orderBy,\n    orderDirection: props.orderDirection,\n    showUpdatedBy: !props.hiddenColumns.includes('updated_by'),\n    showPriority: !props.hiddenColumns.includes('priority'),\n  }\n})\n\nconst ticketsQuery = new QueryHandler(\n  useTicketsByOverviewSlimQuery(ticketsQueryVariables, {\n    fetchPolicy: 'cache-first',\n    nextFetchPolicy: 'cache-first',\n  }),\n)\n\nconst ticketsResult = ticketsQuery.result()\nconst loading = ticketsQuery.loading()\n\nwatchEffect(() => {\n  emit('refetch', loading.value && !!ticketsResult.value)\n})\n\nconst tickets = computed(() =>\n  edgesToArray(ticketsResult.value?.ticketsByOverview),\n)\n\nconst totalCount = computed(\n  () => ticketsResult.value?.ticketsByOverview.totalCount || 0,\n)\n\nconst pagination = usePagination(\n  ticketsQuery,\n  'ticketsByOverview',\n  TICKETS_COUNT,\n)\n\n// Refetch tickets, when the ticket count for the current overview changed.\nwatch(\n  () => props.overviewTicketCount,\n  (overviewTicketCount) => {\n    if (overviewTicketCount !== totalCount.value) {\n      ticketsQuery.refetch({\n        ...ticketsQueryVariables.value,\n        pageSize: TICKETS_COUNT * pagination.currentPage,\n      })\n    }\n  },\n)\n\nconst canLoadMore = computed(() => {\n  return (\n    !pagination.loadingNewPage &&\n    !loading.value &&\n    pagination.hasNextPage &&\n    tickets.value.length < props.maxCount\n  )\n})\n\nconst mainElement = ref<HTMLElement>()\n\nconst loadMore = async () => {\n  const links = getFocusableElements(mainElement.value)\n  const lastLink = links[links.length - 2]\n  await pagination.fetchNextPage()\n  lastLink?.focus({ preventScroll: true })\n}\n\nuseInfiniteScroll(\n  window.document,\n  async () => {\n    if (canLoadMore.value) {\n      await pagination.fetchNextPage()\n    }\n  },\n  // distance is needed for iOS Safari, where infinite scroll is not triggered unless\n  // it's at the bery bottom of the page, which is hard to achieve with their \"bouncy\" scroll\n  { distance: 150 },\n)\n</script>\n\n<template>\n  <CommonLoader :loading=\"!tickets.length && loading\">\n    <section\n      v-if=\"tickets.length\"\n      ref=\"mainElement\"\n      :aria-label=\"$t('%s tickets found', tickets.length)\"\n      aria-live=\"polite\"\n      :aria-busy=\"loading\"\n    >\n      <CommonLink\n        v-for=\"ticket in tickets\"\n        :key=\"ticket.id\"\n        :link=\"`/tickets/${ticket.internalId}`\"\n      >\n        <TicketItem :entity=\"ticket\" />\n      </CommonLink>\n      <div v-if=\"canLoadMore\" class=\"mb-4 px-3\">\n        <FormKit\n          wrapper-class=\"mt-4 text-base flex grow justify-center items-center\"\n          input-class=\"py-2 px-4 w-full h-14 text-white formkit-variant-primary:bg-gray-500 rounded-xl select-none\"\n          type=\"submit\"\n          name=\"load_more\"\n          @click=\"loadMore\"\n        >\n          {{ $t('load %s more', TICKETS_COUNT) }}\n        </FormKit>\n      </div>\n    </section>\n    <CommonLoader v-if=\"pagination.loadingNewPage\" loading class=\"mt-4\" />\n    <div\n      v-if=\"!tickets.length\"\n      aria-live=\"polite\"\n      class=\"px-4 py-3 text-center text-base\"\n    >\n      {{ $t('No entries') }}\n    </div>\n    <div\n      v-else-if=\"tickets.length >= maxCount && totalCount > maxCount\"\n      class=\"px-4 py-3 text-center text-sm\"\n      aria-live=\"polite\"\n    >\n      {{\n        $t(\n          'The limit of %s displayable tickets was reached (%s remaining)',\n          maxCount,\n          totalCount - tickets.length,\n        )\n      }}\n    </div>\n  </CommonLoader>\n</template>\n","<!-- Copyright (C) 2012-2025 Zammad Foundation, https://zammad-foundation.org/ -->\n\n<script setup lang=\"ts\">\nimport { useVModel } from '@vueuse/core'\nimport { computed, ref, useTemplateRef } from 'vue'\n\nimport type { Sizes } from '#shared/components/CommonIcon/types.ts'\nimport type { SelectOption } from '#shared/components/CommonSelect/types.ts'\nimport { EnumOrderDirection } from '#shared/graphql/types.ts'\nimport { i18n } from '#shared/i18n.ts'\nimport stopEvent from '#shared/utils/events.ts'\n\nimport CommonSelect from '#mobile/components/CommonSelect/CommonSelect.vue'\n\ninterface Props {\n  orderBy?: string\n  options: SelectOption[]\n  direction?: EnumOrderDirection\n  label: string\n}\n\nconst props = defineProps<Props>()\n\nconst emit = defineEmits<{\n  'update:orderBy': [string]\n  'update:direction': [EnumOrderDirection]\n}>()\n\nconst localOrderBy = useVModel(props, 'orderBy', emit)\nconst localDirection = useVModel(props, 'direction', emit)\n\nconst accessibilityLabel = computed(() => {\n  return i18n.t(\n    'Tickets are ordered by \"%s\" column (%s).',\n    i18n.t(props.label),\n    props.direction === EnumOrderDirection.Ascending\n      ? i18n.t('ascending')\n      : i18n.t('descending'),\n  )\n})\n\nconst directionOptions = computed(() => [\n  {\n    value: EnumOrderDirection.Descending,\n    label: __('descending'),\n    icon: 'arrow-down',\n    iconProps: {\n      class: {\n        'text-blue': props.direction === EnumOrderDirection.Descending,\n      },\n      size: 'tiny' as Sizes,\n    },\n  },\n  {\n    value: EnumOrderDirection.Ascending,\n    label: __('ascending'),\n    icon: 'arrow-up',\n    iconProps: {\n      class: [\n        {\n          'text-blue': props.direction === EnumOrderDirection.Ascending,\n        },\n      ],\n      size: 'tiny' as Sizes,\n    },\n  },\n])\n\nconst directionElement = ref<HTMLDivElement>()\nconst selectButton = ref<HTMLButtonElement>()\n\nconst selector = useTemplateRef('select')\n\nconst advanceFocus = (event: KeyboardEvent, idx: number) => {\n  const { key } = event\n  if (!['ArrowUp', 'ArrowDown', 'ArrowLeft', 'ArrowRight'].includes(event.key))\n    return\n\n  stopEvent(event)\n\n  if (key === 'ArrowUp' || key === 'ArrowDown') {\n    const elements = selector.value?.getFocusableOptions() || []\n    const index = key === 'ArrowDown' ? 0 : elements.length - 3 // -3 because of the direction buttons\n    elements[index]?.focus()\n    elements[index]?.scrollIntoView({ block: 'nearest' })\n    return\n  }\n\n  // go either left or right\n  const nextIndex = idx === 1 ? 0 : 1\n  const elements = directionElement.value?.querySelectorAll('button') || []\n\n  elements[nextIndex]?.focus()\n}\n</script>\n\n<template>\n  <CommonSelect ref=\"select\" v-model=\"localOrderBy\" :options=\"options\" no-close>\n    <template #default=\"{ open, state: expanded }\">\n      <button\n        ref=\"selectButton\"\n        type=\"button\"\n        aria-controls=\"common-select\"\n        aria-owns=\"common-select\"\n        aria-haspopup=\"dialog\"\n        :aria-expanded=\"expanded\"\n        :aria-label=\"accessibilityLabel\"\n        class=\"text-blue flex cursor-pointer items-center gap-1 overflow-hidden whitespace-nowrap\"\n        data-test-id=\"column\"\n        @click=\"open\"\n        @keydown.space.prevent=\"open\"\n      >\n        <div>\n          <CommonIcon\n            decorative\n            :name=\"\n              direction === EnumOrderDirection.Ascending\n                ? 'arrow-up'\n                : 'arrow-down'\n            \"\n            size=\"tiny\"\n          />\n        </div>\n        <span class=\"truncate\">\n          {{ $t(label) }}\n        </span>\n      </button>\n    </template>\n\n    <template #footer>\n      <div ref=\"directionElement\" class=\"flex gap-2 p-3 text-white\">\n        <button\n          v-for=\"(option, idx) of directionOptions\"\n          :key=\"option.value\"\n          class=\"flex flex-1 cursor-pointer items-center justify-center rounded-md p-2\"\n          :class=\"{\n            'bg-gray-200 font-bold': option.value === direction,\n          }\"\n          :aria-pressed=\"option.value === direction\"\n          type=\"button\"\n          tabindex=\"0\"\n          @click=\"localDirection = option.value\"\n          @keydown=\"advanceFocus($event, idx)\"\n          @keydown.space.prevent=\"localDirection = option.value\"\n        >\n          <CommonIcon\n            v-if=\"option.icon\"\n            :name=\"option.icon\"\n            decorative\n            class=\"ltr:mr-1 rtl:ml-1\"\n            v-bind=\"option.iconProps\"\n          />\n          {{ $t(option.label) }}\n        </button>\n      </div>\n    </template>\n  </CommonSelect>\n</template>\n","<!-- Copyright (C) 2012-2025 Zammad Foundation, https://zammad-foundation.org/ -->\n\n<script setup lang=\"ts\">\nimport { useRouteQuery } from '@vueuse/router'\nimport { storeToRefs } from 'pinia'\nimport { computed, ref, watch } from 'vue'\nimport { useRoute, useRouter } from 'vue-router'\n\nimport { useStickyHeader } from '#shared/composables/useStickyHeader.ts'\nimport { EnumOrderDirection } from '#shared/graphql/types.ts'\nimport { i18n } from '#shared/i18n.ts'\nimport { useApplicationStore } from '#shared/stores/application.ts'\nimport { useSessionStore } from '#shared/stores/session.ts'\n\nimport CommonLoader from '#mobile/components/CommonLoader/CommonLoader.vue'\nimport CommonSelectPill from '#mobile/components/CommonSelectPill/CommonSelectPill.vue'\nimport CommonTicketCreateLink from '#mobile/components/CommonTicketCreateLink/CommonTicketCreateLink.vue'\nimport LayoutHeader from '#mobile/components/layout/LayoutHeader.vue'\nimport { useTicketOverviews } from '#mobile/entities/ticket/composables/useTicketOverviews.ts'\n\nimport TicketList from '../components/TicketList/TicketList.vue'\nimport TicketOrderBySelector from '../components/TicketList/TicketOrderBySelector.vue'\n\nconst application = useApplicationStore()\n\nconst props = defineProps<{\n  overviewLink: string\n}>()\n\nconst router = useRouter()\nconst route = useRoute()\n\nconst { overviews, loading: loadingOverviews } =\n  storeToRefs(useTicketOverviews())\n\nconst optionsOverviews = computed(() => {\n  return overviews.value.map((overview) => ({\n    value: overview.link,\n    label: `${i18n.t(overview.name)} (${overview.ticketCount})`,\n  }))\n})\n\nconst selectedOverview = computed(() => {\n  return (\n    overviews.value.find((overview) => overview.link === props.overviewLink) ||\n    null\n  )\n})\n\nconst selectedOverviewLink = computed(() => {\n  return selectedOverview.value?.link || null\n})\n\nconst session = useSessionStore()\n\nconst hiddenColumns = computed(() => {\n  if (session.hasPermission(['ticket.agent'])) return []\n  const viewColumns =\n    selectedOverview.value?.viewColumns.map((column) => column.key) || []\n  // show priority only if it is specified in overview\n  return ['priority', 'updated_by'].filter(\n    (name) => !viewColumns.includes(name),\n  )\n})\n\nconst selectOverview = (link: string) => {\n  const { query } = route\n  return router.replace({ path: `/tickets/view/${link}`, query })\n}\n\nwatch(\n  [selectedOverview, overviews],\n  async ([overview]) => {\n    if (!overview && overviews.value.length) {\n      const [firstOverview] = overviews.value\n      await selectOverview(firstOverview.link)\n    }\n  },\n  { immediate: true },\n)\n\nconst userOrderBy = useRouteQuery<string | undefined>('column', undefined)\n\nconst orderColumnsOptions = computed(() => {\n  return (\n    selectedOverview.value?.orderColumns.map((entry) => {\n      return { value: entry.key, label: entry.value || entry.key }\n    }) || []\n  )\n})\n\nconst orderColumnLabels = computed(() => {\n  return (\n    selectedOverview.value?.orderColumns.reduce(\n      (map, entry) => {\n        map[entry.key] = entry.value || entry.key\n        return map\n      },\n      {} as Record<string, string>,\n    ) || {}\n  )\n})\n\n// Check that the given order by column is really a valid column and otherwise\n// reset query parameter.\nwatch(selectedOverview, () => {\n  if (userOrderBy.value && !orderColumnLabels.value[userOrderBy.value]) {\n    userOrderBy.value = undefined\n  }\n})\n\nconst orderBy = computed({\n  get: () => {\n    if (userOrderBy.value && orderColumnLabels.value[userOrderBy.value])\n      return userOrderBy.value\n    return selectedOverview.value?.orderBy\n  },\n  set: (column) => {\n    userOrderBy.value =\n      column !== selectedOverview.value?.orderBy ? column : undefined\n  },\n})\n\nconst columnLabel = computed(() => {\n  return orderColumnLabels.value[orderBy.value || ''] || ''\n})\n\nconst userOrderDirection = useRouteQuery<EnumOrderDirection | undefined>(\n  'direction',\n  undefined,\n)\n\n// Check that the given order direction is a valid direction, otherwise\n// reset the query parameter.\nif (\n  userOrderDirection.value &&\n  !Object.values(EnumOrderDirection).includes(userOrderDirection.value)\n) {\n  userOrderDirection.value = undefined\n}\n\nconst orderDirection = computed({\n  get: () => {\n    if (userOrderDirection.value) return userOrderDirection.value\n    return selectedOverview.value?.orderDirection\n  },\n  set: (direction) => {\n    userOrderDirection.value =\n      direction !== selectedOverview.value?.orderDirection\n        ? direction\n        : undefined\n  },\n})\n\nconst { stickyStyles, headerElement } = useStickyHeader([loadingOverviews])\n\nconst showRefetch = ref(false)\n</script>\n\n<template>\n  <div>\n    <header\n      ref=\"headerElement\"\n      class=\"border-b-[0.5px] border-white/10 bg-black px-4\"\n      :style=\"stickyStyles.header\"\n    >\n      <LayoutHeader\n        back-url=\"/\"\n        container-tag=\"div\"\n        class=\"h-16 border-none first:px-0\"\n        back-avoid-home-button\n        :refetch=\"showRefetch\"\n        :title=\"__('Tickets')\"\n      >\n        <template #after>\n          <CommonTicketCreateLink class=\"justify-self-end text-base\" />\n        </template>\n      </LayoutHeader>\n      <div\n        v-if=\"optionsOverviews.length\"\n        class=\"mb-3 flex items-center justify-between gap-2\"\n        data-test-id=\"overview\"\n      >\n        <CommonSelectPill\n          :model-value=\"selectedOverviewLink\"\n          :options=\"optionsOverviews\"\n          no-options-label-translation\n          @update:model-value=\"selectOverview($event as string)\"\n        >\n          <span class=\"max-w-[55vw] truncate\">\n            {{ $t(selectedOverview?.name) }}\n          </span>\n          <span class=\"px-1\"> ({{ selectedOverview?.ticketCount }}) </span>\n        </CommonSelectPill>\n        <TicketOrderBySelector\n          v-model:order-by=\"orderBy\"\n          v-model:direction=\"orderDirection\"\n          :options=\"orderColumnsOptions\"\n          :label=\"columnLabel\"\n        />\n      </div>\n    </header>\n    <div :style=\"stickyStyles.body\">\n      <CommonLoader\n        v-if=\"loadingOverviews || overviews.length\"\n        :loading=\"loadingOverviews\"\n      >\n        <TicketList\n          v-if=\"selectedOverview && orderBy && orderDirection\"\n          :overview-id=\"selectedOverview.id\"\n          :overview-ticket-count=\"selectedOverview.ticketCount\"\n          :order-by=\"orderBy\"\n          :order-direction=\"orderDirection\"\n          :max-count=\"application.config.ui_ticket_overview_ticket_limit\"\n          :hidden-columns=\"hiddenColumns\"\n          @refetch=\"showRefetch = $event\"\n        />\n      </CommonLoader>\n      <div\n        v-else\n        class=\"flex items-center justify-center gap-2 p-4 text-center\"\n      >\n        <CommonIcon class=\"text-red\" name=\"close-small\" />\n        {{ $t('Currently no overview is assigned to your roles.') }}\n      </div>\n    </div>\n  </div>\n</template>\n"],"names":["props","__props","emit","__emit","dialogProps","computed","placeholder","defaultLabel","option","TicketsByOverviewSlimDocument","gql","ObjectAttributeValuesFragmentDoc","useTicketsByOverviewSlimQuery","variables","options","VueApolloComposable.useQuery","TICKETS_COUNT","ticketsQueryVariables","ticketsQuery","QueryHandler","ticketsResult","loading","watchEffect","tickets","edgesToArray","_a","totalCount","pagination","usePagination","watch","overviewTicketCount","canLoadMore","mainElement","ref","loadMore","links","getFocusableElements","lastLink","useInfiniteScroll","localOrderBy","useVModel","localDirection","accessibilityLabel","i18n","EnumOrderDirection","directionOptions","directionElement","selectButton","selector","useTemplateRef","advanceFocus","event","idx","key","stopEvent","elements","index","nextIndex","_e","_d","application","useApplicationStore","router","useRouter","route","useRoute","overviews","loadingOverviews","storeToRefs","useTicketOverviews","optionsOverviews","overview","selectedOverview","selectedOverviewLink","session","useSessionStore","hiddenColumns","viewColumns","column","name","selectOverview","link","query","firstOverview","userOrderBy","useRouteQuery","orderColumnsOptions","entry","orderColumnLabels","map","orderBy","columnLabel","userOrderDirection","orderDirection","direction","stickyStyles","headerElement","useStickyHeader","showRefetch"],"mappings":"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"}