{"version":3,"file":"useOnlineNotificationCount-CN5COmqb.js","sources":["../../../../../app/frontend/shared/entities/online-notification/graphql/subscriptions/onlineNotificationsCount.api.ts","../../../../../app/frontend/shared/entities/online-notification/composables/useOnlineNotificationCount.ts"],"sourcesContent":["import * as Types from '#shared/graphql/types.ts';\n\nimport gql from 'graphql-tag';\nimport * as VueApolloComposable from '@vue/apollo-composable';\nimport * as VueCompositionApi from 'vue';\nexport type ReactiveFunction<TParam> = () => TParam;\n\nexport const OnlineNotificationsCountDocument = gql`\n    subscription onlineNotificationsCount {\n  onlineNotificationsCount {\n    unseenCount\n  }\n}\n    `;\nexport function useOnlineNotificationsCountSubscription(options: VueApolloComposable.UseSubscriptionOptions<Types.OnlineNotificationsCountSubscription, Types.OnlineNotificationsCountSubscriptionVariables> | VueCompositionApi.Ref<VueApolloComposable.UseSubscriptionOptions<Types.OnlineNotificationsCountSubscription, Types.OnlineNotificationsCountSubscriptionVariables>> | ReactiveFunction<VueApolloComposable.UseSubscriptionOptions<Types.OnlineNotificationsCountSubscription, Types.OnlineNotificationsCountSubscriptionVariables>> = {}) {\n  return VueApolloComposable.useSubscription<Types.OnlineNotificationsCountSubscription, Types.OnlineNotificationsCountSubscriptionVariables>(OnlineNotificationsCountDocument, {}, options);\n}\nexport type OnlineNotificationsCountSubscriptionCompositionFunctionResult = VueApolloComposable.UseSubscriptionReturn<Types.OnlineNotificationsCountSubscription, Types.OnlineNotificationsCountSubscriptionVariables>;","// Copyright (C) 2012-2025 Zammad Foundation, https://zammad-foundation.org/\n\nimport { ref } from 'vue'\n\nimport { useOnlineNotificationsCountSubscription } from '#shared/entities/online-notification/graphql/subscriptions/onlineNotificationsCount.api.ts'\nimport { SubscriptionHandler } from '#shared/server/apollo/handler/index.ts'\n\nexport const useOnlineNotificationCount = () => {\n  const unseenCount = ref(0)\n\n  const notificationsCountSubscription = new SubscriptionHandler(\n    useOnlineNotificationsCountSubscription(),\n  )\n\n  notificationsCountSubscription.onResult((result) => {\n    const { data } = result\n\n    if (!data) return\n\n    unseenCount.value = data.onlineNotificationsCount.unseenCount\n  })\n\n  return {\n    notificationsCountSubscription,\n    unseenCount,\n  }\n}\n"],"names":["OnlineNotificationsCountDocument","gql","useOnlineNotificationsCountSubscription","options","VueApolloComposable.useSubscription","useOnlineNotificationCount","unseenCount","ref","notificationsCountSubscription","SubscriptionHandler","result","data"],"mappings":"0HAOO,MAAMA,EAAmCC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAOhC,SAAAC,EAAwCC,EAA4d,GAAI,CACthB,OAAOC,EAAqIJ,EAAkC,GAAIG,CAAO,CAC3L,CCTO,MAAME,EAA6B,IAAM,CACxC,MAAAC,EAAcC,EAAI,CAAC,EAEnBC,EAAiC,IAAIC,EACzCP,EAAwC,CAAA,EAGX,OAAAM,EAAA,SAAUE,GAAW,CAC5C,KAAA,CAAE,KAAAC,CAAS,EAAAD,EAEZC,IAEOL,EAAA,MAAQK,EAAK,yBAAyB,YAAA,CACnD,EAEM,CACL,+BAAAH,EACA,YAAAF,CAAA,CAEJ"}