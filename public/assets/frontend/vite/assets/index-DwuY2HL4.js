import{w as j}from"./vue-oicRkvo0.js";function _(e,t){var n=!1;return function(...r){n||(e.call(null,...r),n=!0,setTimeout(function(){n=!1},t))}}function S(e){return e.split(" ").filter(t=>t)}var k=typeof window<"u";function N(e,t,n=!1){if(!t)return;const r=S(t);if(r.length&&!r.includes("longTouch"))for(const o of e){if(!x(o)||!h.has(o)){o.classList.add(...r);continue}const l=[],s=h.get(o);if(s){for(const i of r)o.classList.contains(i)?o.classList.contains(i)&&n===!1&&l.push(i):o.classList.add(i);s.privateClasses=l,h.set(o,s)}}}function P(e,t){if(!t)return;const n=S(t);if(n.length)for(const r of e){if(!x(r)){r.classList.remove(...n);continue}const o=h.get(r);if(o)for(const l of n)o.privateClasses.includes(l)||r.classList.remove(l)}}function M(e){let t=e.parentNode;for(;t!==null&&t.nodeType===1&&t instanceof HTMLElement;){const r=window.getComputedStyle(t).getPropertyValue("overflow");if(r==="scroll"||r==="auto")return t;t=t.parentNode}return document.documentElement}function q(e){if(!(e.e instanceof TouchEvent))return;const t=e.e.touches[0].clientX,n=e.e.touches[0].clientY;let r=document.elementFromPoint(t,n);if(!x(r))return;let o,l=!0;for(;r&&l;){if(h.has(r)||g.has(r)){l=!1,o=g.has(r);break}r=r.parentNode}if(o){const s=g.get(r);return s?{parent:{el:r,data:s}}:void 0}else{const s=h.get(r);if(!s)return;const i=g.get(r.parentNode);return i?{node:{el:r,data:s},parent:{el:r.parentNode,data:i}}:void 0}}function x(e){return e instanceof HTMLElement&&e.parentNode instanceof HTMLElement}function R(e,t){const n=new AbortController;for(const r in t){const o=t[r];e.addEventListener(r,o,{signal:n.signal,passive:!1})}return n}function H(e,t,n=!1){const r=window.getComputedStyle(e),o=["position","z-index","top","left","x","pointer-events","y","transform-origin","filter","-webkit-text-fill-color"];for(const l of Array.from(r))n===!1&&l&&o.includes(l)||t.style.setProperty(l,r.getPropertyValue(l),r.getPropertyPriority(l));for(const l of Array.from(e.children)){if(!x(l))continue;const s=t.children[Array.from(e.children).indexOf(l)];H(l,s,n)}}function T(e){return e instanceof DragEvent?{x:e.clientX,y:e.clientY}:{x:e.touches[0].clientX,y:e.touches[0].clientY}}Array();function We(e={}){const t=[{transform:`translateY(${e.yScale||50}%)`},{transform:`translateY(${e.yScale||0}%)`}],n=[{transform:`translateY(-${e.yScale||50}%)`},{transform:`translateY(${e.yScale||0}%)`}],r=[{transform:`translateX(${e.xScale||50}%)`},{transform:`translateX(${e.xScale||0}%)`}],o=[{transform:`translateX(-${e.xScale||50}%)`},{transform:`translateX(${e.xScale||0}%)`}];return l=>{if(g.get(l))return{setup(){document.head.querySelector("[data-drag-and-drop]")},setupNodeRemap(i){if(!a)return;const c=e.duration||150;if(i.nodeData.value===a.draggedNode.data.value){switch(a.incomingDirection){case"below":p(i.node,t,c);break;case"above":p(i.node,n,c);break;case"left":p(i.node,o,c);break;case"right":p(i.node,r,c);break}return}if(!a.affectedNodes.map(y=>y.data.value).includes(i.nodeData.value))return;const u=i.node.getBoundingClientRect(),d=a.affectedNodes.findIndex(y=>y.data.value===i.nodeData.value),D=a.draggedNode.data.index>=a.targetIndex;let m;if(D?m=a.affectedNodes[d+1]?a.affectedNodes[d+1]:a.affectedNodes[d-1]:m=a.affectedNodes[d-1]?a.affectedNodes[d-1]:a.affectedNodes[d+1],m){const y=Math.abs(u.x-m.el.getBoundingClientRect().x),L=Math.abs(u.y-m.el.getBoundingClientRect().y);y>L&&D?p(i.node,o,c):y>L&&!D&&p(i.node,r,c)}else switch(a.incomingDirection){case"below":p(i.node,n,c);break;case"above":p(i.node,t,c);break;case"left":p(i.node,r,c);break;case"right":p(i.node,o,c);break}}}}}function p(e,t,n){a&&(a.preventEnter=!0,e.animate(t,{duration:n}),setTimeout(()=>{a&&(a.preventEnter=!1)},n))}Array();Array();var O={up:[0,-1],down:[0,1],left:[-1,0],right:[1,0]},h=new WeakMap,g=new WeakMap,a=void 0;function U(){a=void 0}function A(e){return a={ascendingDirection:!1,incomingDirection:void 0,enterCount:0,targetIndex:0,affectedNodes:[],lastValue:void 0,activeNode:void 0,lastTargetValue:void 0,remapJustFinished:!1,preventEnter:!1,clonedDraggedEls:[],originalZIndex:void 0,transferred:!1,...e},a}function G(e,t){return a={...e,...t},a}function Z(e){const{x:t,y:n}=T(e.e);return{coordinates:{x:t,y:n},draggedNode:{el:e.targetData.node.el,data:e.targetData.node.data},draggedNodes:[{el:e.targetData.node.el,data:e.targetData.node.data}],initialIndex:e.targetData.node.data.index,initialParent:{el:e.targetData.parent.el,data:e.targetData.parent.data},lastParent:{el:e.targetData.parent.el,data:e.targetData.parent.data},scrollParent:M(e.targetData.node.el)}}function K(e,t){const n=$(e),o=[...C(t.targetData.parent.el,t.targetData.parent.data).filter(l=>!n.includes(l))];o.splice(t.targetData.node.data.index,0,...n),e.lastTargetValue=t.targetData.node.data.value,E(t.targetData.parent.el,t.targetData.parent.data,[...o])}function C(e,t){return[...t.getValues(e)]}function E(e,t,n){t.setValues(n,e)}function $(e){return[...e.draggedNodes.map(t=>t.data.value)]}function ze(e,t){const n=g.get(e);n&&(g.set(e,{...n,config:{...n.config,...t}}),B({parent:e,getValues:n.getValues,setValues:n.setValues,config:t}))}function B({parent:e,getValues:t,setValues:n,config:r={}}){var s,i,c;if(!k)return;document.addEventListener("dragover",u=>{if(u.preventDefault(),!(h.has(u.target)||g.has(u.target))&&a){a.remapJustFinished=!1,a.lastTargetValue=void 0;const{x:d,y:f}=T(u);a.coordinates.y=f,a.coordinates.x=d,b()}}),Q(e);const o={getValues:t,setValues:n,config:{handleDragstart:re,handleDragoverNode:Le,handleDragoverParent:Oe,handleEnd:ge,handleTouchstart:pe,handleTouchmove:Ne,handleTouchOverNode:se,handleTouchOverParent:Ie,handleDragenterNode:ke,handleDragleaveNode:Me,performSort:K,performTransfer:Ae,root:document,setupNode:ce,setupNodeRemap:Y,reapplyDragClasses:de,tearDownNode:fe,tearDownNodeRemap:ue,remapFinished:ne,scrollBehavior:{x:.8,y:.8},threshold:{horizontal:0,vertical:0},...r},enabledNodes:[],abortControllers:{}};new MutationObserver(te).observe(e,{childList:!0}),g.set(e,o),(s=r.plugins)==null||s.forEach(u=>{var d,f;(f=(d=u(e))==null?void 0:d.tearDown)==null||f.call(d)}),(i=r.plugins)==null||i.forEach(u=>{var d,f;(f=(d=u(e))==null?void 0:d.tearDown)==null||f.call(d)}),(c=r.plugins)==null||c.forEach(u=>{var d,f;(f=(d=u(e))==null?void 0:d.setup)==null||f.call(d)}),ee(e,o),F(e,!0)}function Q(e){const t=g.get(e);t&&t.abortControllers.mainParent&&t.abortControllers.mainParent.abort()}function ee(e,t){t.abortControllers.mainParent=R(e,{dragover:Ze(_(t.config.handleDragoverParent,10)),touchOverParent:t.config.handleTouchOverParent})}function te(e){const t=e[0].target;t instanceof HTMLElement&&F(t)}function F(e,t){const n=g.get(e);if(!n)return;const r=[],o=n.config;for(let i=0;i<e.children.length;i++){const c=e.children[i];if(!x(c))continue;const u=h.get(c);(t||!u)&&o.tearDownNode({node:c,parent:e,nodeData:u,parentData:n}),!o.disabled&&(!o.draggable||o.draggable&&o.draggable(c))&&r.push(c)}if(r.length!==n.getValues(e).length&&!o.disabled){console.warn("The number of enabled nodes does not match the number of values.");return}const l=n.getValues(e),s=[];for(let i=0;i<r.length;i++){const c=r[i],u=h.get(c),d=Object.assign(u??{privateClasses:[],abortControllers:{}},{value:l[i],index:i});if(a&&d.value===a.draggedNode.data.value&&(a.draggedNode.data=d,a.draggedNode.el=c),a&&a.draggedNodes.map(D=>D.data.value).includes(d.value)){const D=a.draggedNodes.find(m=>m.data.value===d.value);D&&(D.el=c)}s.push({el:c,data:d});const f={node:c,parent:e,parentData:n,nodeData:d};(t||!u)&&o.setupNode(f),Y(f)}g.set(e,{...n,enabledNodes:s}),o.remapFinished(n)}function ne(){a&&(a.remapJustFinished=!0,a.affectedNodes=[])}function re(e){e.e instanceof DragEvent&&ie({e:e.e,targetData:e.targetData})}function oe(e,t,n){N([e],t),setTimeout(()=>{P([e],t),N([e],n)})}function ae(e){const t=A(Z(e));return e.e.stopPropagation(),e.e.dataTransfer&&(e.e.dataTransfer.dropEffect="move",e.e.dataTransfer.effectAllowed="move",e.e.dataTransfer.setDragImage(e.targetData.node.el,e.e.offsetX,e.e.offsetY)),t}function X(e){if(!(e.e instanceof DragEvent)&&!(e.e instanceof TouchEvent))return!1;const t=e.targetData.parent.data.config;if(!t.dragHandle)return!0;const n=e.targetData.node.el.querySelectorAll(t.dragHandle);if(!n)return!1;const r=T(e.e),o=t.root.elementFromPoint(r.x,r.y);if(!o)return!1;for(const l of Array.from(n))if(o===l||l.contains(o))return!0;return!1}function le(e){if(!X(e))return;const t=De(e);ve(e,t),me(e,t)}function ie(e){if(!X(e)){e.e.preventDefault();return}const t=e.targetData.parent.data.config,n=ae(e),r=e.targetData.node.el.style.zIndex;n.originalZIndex=r,e.targetData.node.el.style.zIndex="9999",oe(n.draggedNode.el,t.draggingClass,t.dropZoneClass)}function se(e){a&&(e.detail.targetData.parent.el===a.lastParent.el?J(e.detail,a):w(e.detail,a))}function ce(e){var n;const t=e.parentData.config;e.node.draggable=!0,e.nodeData.abortControllers.mainNode=R(e.node,{dragstart:v(t.handleDragstart),dragover:v(t.handleDragoverNode),dragenter:v(t.handleDragenterNode),dragleave:v(t.handleDragleaveNode),dragend:v(t.handleEnd),touchstart:v(t.handleTouchstart),touchmove:v(t.handleTouchmove),touchend:v(t.handleEnd),touchOverNode:t.handleTouchOverNode}),t.reapplyDragClasses(e.node,e.parentData),(n=e.parentData.config.plugins)==null||n.forEach(r=>{var o,l;(l=(o=r(e.parent))==null?void 0:o.setupNode)==null||l.call(o,e)})}function Y(e){var t;h.set(e.node,e.nodeData),(t=e.parentData.config.plugins)==null||t.forEach(n=>{var r,o;(o=(r=n(e.parent))==null?void 0:r.setupNodeRemap)==null||o.call(r,e)})}function de(e,t){if(!a)return;const n="touchedNode"in a?t.config.touchDropZoneClass:t.config.dropZoneClass;a.draggedNode.el===e&&N([e],n,!0)}function ue(e){var t;(t=e.parentData.config.plugins)==null||t.forEach(n=>{var r,o;(o=(r=n(e.parent))==null?void 0:r.tearDownNodeRemap)==null||o.call(r,e)})}function fe(e){var t,n,r,o,l;(t=e.parentData.config.plugins)==null||t.forEach(s=>{var i,c;(c=(i=s(e.parent))==null?void 0:i.tearDownNode)==null||c.call(i,e)}),e.node.draggable=!1,(r=(n=e.nodeData)==null?void 0:n.abortControllers)!=null&&r.mainNode&&((l=(o=e.nodeData)==null?void 0:o.abortControllers)==null||l.mainNode.abort())}function ge(e){a&&(he(e,a),U())}function he(e,t){var l,s,i,c;document.removeEventListener("contextmenu",W),"longTouchTimeout"in t&&t.longTouchTimeout&&clearTimeout(t.longTouchTimeout);const n=(l=g.get(t.initialParent.el))==null?void 0:l.config,o="touchedNode"in t?n==null?void 0:n.touchDropZoneClass:n==null?void 0:n.dropZoneClass;t.originalZIndex!==void 0&&(t.draggedNode.el.style.zIndex=t.originalZIndex),N(t.draggedNodes.map(u=>u.el),o,!0),P(t.draggedNodes.map(u=>u.el),o),n!=null&&n.longTouchClass&&P(t.draggedNodes.map(u=>u.el),(i=(s=t.initialParent.data)==null?void 0:s.config)==null?void 0:i.longTouchClass),"touchedNode"in t&&((c=t.touchedNode)==null||c.remove())}function pe(e){e.e instanceof TouchEvent&&le({e:e.e,targetData:e.targetData})}function De(e){e.e.stopPropagation();const t=e.targetData.node.el.cloneNode(!0),n=e.targetData.node.el.getBoundingClientRect();return G(A(Z(e)),{coordinates:{x:e.e.touches[0].clientX,y:e.e.touches[0].clientY},scrollParent:M(e.targetData.node.el),touchStartLeft:e.e.touches[0].clientX-n.left,touchStartTop:e.e.touches[0].clientY-n.top,touchedNode:t,touchMoving:!1})}function W(e){e.preventDefault()}function ve(e,t){t.touchedNodeDisplay=t.touchedNode.style.display;const n=e.targetData.node.el.getBoundingClientRect();t.touchedNode.style.cssText=`
            width: ${n.width}px;
            position: fixed;
            pointer-events: none;
            top: -9999px;
            z-index: 999999;
            display: none;
          `,document.body.append(t.touchedNode),H(e.targetData.node.el,t.touchedNode),t.touchedNode.style.display="none",document.addEventListener("contextmenu",W)}function me(e,t){const n=e.targetData.parent.data.config;n.longTouch&&(t.longTouchTimeout=setTimeout(()=>{t&&(t.longTouch=!0,n.longTouchClass&&e.e.cancelable&&N(t.draggedNodes.map(r=>r.el),n.longTouchClass),e.e.preventDefault())},n.longTouchTimeout||200))}function Ne(e){!a||!("touchedNode"in a)||Ve(e,a)}function Te(e,t){t.longTouchClass&&P(e.draggedNodes.map(n=>n.el),t==null?void 0:t.longTouchClass),t.touchDraggingClass&&N([e.touchedNode],t.touchDraggingClass),t.touchDropZoneClass&&N(e.draggedNodes.map(n=>n.el),t.touchDropZoneClass)}function ye(e){if(!e||!e.scrollParent||e.scrollParent===document.documentElement&&!("touchedNode"in e))return;const{x:t,y:n,width:r,height:o}=e.scrollParent.getBoundingClientRect(),{x:l,y:s,scrollOutside:i}=e.lastParent.data.config.scrollBehavior;return{state:e,xThresh:l,yThresh:s,scrollOutside:i,scrollParent:e.scrollParent,x:t,y:n,width:r,height:o}}function xe(e){const t=ye(a);if(t)switch(e){case"down":return Ce(t.state,t);case"up":return we(t.state,t);case"right":return Pe(t.state,t);case"left":return be(t.state,t)}}function Pe(e,t){const n=t.scrollParent.clientWidth+t.x-e.coordinates.x;if(!(!t.scrollOutside&&n<0)&&n<(1-t.xThresh)*t.scrollParent.clientWidth&&!(t.scrollParent.scrollLeft+t.scrollParent.clientWidth>=t.scrollParent.scrollWidth))return e}function be(e,t){const n=t.scrollParent.clientWidth+t.x-e.coordinates.x;if(!(!t.scrollOutside&&n>t.scrollParent.clientWidth)&&n>t.xThresh*t.scrollParent.clientWidth&&t.scrollParent.scrollLeft!==0)return e}function we(e,t){const n=t.scrollParent.clientHeight+t.y-e.coordinates.y;if(!(!t.scrollOutside&&n>t.scrollParent.clientHeight)&&n>t.yThresh*t.scrollParent.clientHeight&&t.scrollParent.scrollTop!==0)return e}function Ce(e,t){const n=t.scrollParent.clientHeight+t.y-e.coordinates.y;if(!(!t.scrollOutside&&n<0)&&n<(1-t.yThresh)*t.scrollParent.clientHeight&&!(t.scrollParent.scrollTop+t.scrollParent.clientHeight>=t.scrollParent.scrollHeight))return e}function Ee(e,t){t.touchMoving=!0,t.touchedNode.style.display=t.touchedNodeDisplay||"";const{x:n,y:r}=T(e.e);t.coordinates.y=r,t.coordinates.x=n;const o=t.touchStartLeft??0,l=t.touchStartTop??0;t.touchedNode.style.left=`${n-o}px`,t.touchedNode.style.top=`${r-l}px`,Te(t,e.targetData.parent.data.config)}function Ve(e,t){if(e.targetData.parent.data.config.longTouch&&!t.longTouch){clearTimeout(t.longTouchTimeout);return}e.e.cancelable&&e.e.preventDefault(),Ee(e,t),b();const r=q(e);if(!r)return;const o={e:e.e,targetData:r};"node"in r?r.node.el.dispatchEvent(new CustomEvent("touchOverNode",{detail:o})):r.parent.el.dispatchEvent(new CustomEvent("touchOverParent",{detail:o}))}function b(){for(const e of Object.keys(O)){const[t,n]=O[e];z(e,t,n)}}function z(e,t,n){const r=xe(e);r&&(r.scrollParent.scrollBy(t,n),setTimeout(()=>{z(e,t,n)},"touchedNode"in r?10:100))}function Le(e){if(!a)return;const{x:t,y:n}=T(e.e);a.coordinates.y=n,a.coordinates.x=t,b(),Re(e,a)}function Oe(e){if(!a)return;const{x:t,y:n}=T(e.e);a.coordinates.y=n,a.coordinates.x=t,b(),w(e,a)}function Ie(e){a&&w(e.detail,a)}function Se(e,t){if(e.targetData.parent.el===t.lastParent.el)return!1;const n=e.targetData.parent.data.config;if(n.dropZone===!1)return!1;const r=t.initialParent.data.config;return n.accepts?n.accepts(e.targetData.parent,t.initialParent,t.lastParent,t):!(!n.group||n.group!==r.group)}function ke(e,t){e.e.preventDefault()}function Me(e,t){e.e.preventDefault()}function Re(e,t){var n;e.e.preventDefault(),e.e.stopPropagation(),e.targetData.parent.el===((n=t.lastParent)==null?void 0:n.el)?J(e,t):w(e,t)}function He(e,t,n,r){var d;if(t.affectedNodes.map(f=>f.data.value).includes(e.targetData.node.data.value))return!1;if(t.remapJustFinished)return t.remapJustFinished=!1,(e.targetData.node.data.value===t.lastTargetValue||t.draggedNodes.map(f=>f.el).includes(e.targetData.node.el))&&(t.lastTargetValue=e.targetData.node.data.value),!1;if(t.draggedNodes.map(f=>f.el).includes(e.targetData.node.el))return t.lastTargetValue=void 0,!1;if(e.targetData.node.data.value===t.lastTargetValue||t.preventEnter||e.targetData.parent.el!==((d=t.lastParent)==null?void 0:d.el)||e.targetData.parent.data.config.sortable===!1)return!1;const o=e.targetData.node.el.getBoundingClientRect(),l=t.draggedNode.el.getBoundingClientRect(),s=o.y-l.y,i=o.x-l.x;let c;Math.abs(s)>Math.abs(i)?c=s>0?"above":"below":c=i>0?"left":"right";const u=t.lastParent.data.config.threshold;switch(c){case"left":if(n>o.x+o.width*u.horizontal)return t.incomingDirection="left",!0;break;case"right":if(n<o.x+o.width*(1-u.horizontal))return t.incomingDirection="right",!0;break;case"above":if(r>o.y+o.height*u.vertical)return t.incomingDirection="above",!0;break;case"below":if(r<o.y+o.height*(1-u.vertical))return t.incomingDirection="below",!0;break}return!1}function J(e,t){const{x:n,y:r}=T(e.e);if(!He(e,t,n,r))return;const o=t.draggedNode.data.index>e.targetData.node.data.index?[e.targetData.node.data.index,t.draggedNode.data.index]:[t.draggedNode.data.index,e.targetData.node.data.index];t.targetIndex=e.targetData.node.data.index,t.affectedNodes=e.targetData.parent.data.enabledNodes.filter(l=>o[0]<=l.data.index&&l.data.index<=o[1]&&l.el!==t.draggedNode.el),e.targetData.parent.data.config.performSort(t,e)}function v(e){function t(n){var s;const r=h.get(n),o=n.parentNode||((s=a==null?void 0:a.lastParent)==null?void 0:s.el);if(!r)return;const l=g.get(o);if(l)return{node:{el:n,data:r},parent:{el:o,data:l}}}return n=>{const r=t(n.currentTarget);if(r)return e({e:n,targetData:r})}}function Ae(e,t){const n=$(e),r=C(e.lastParent.el,e.lastParent.data).filter(i=>!n.includes(i)),o=C(t.targetData.parent.el,t.targetData.parent.data),l=e.initialParent.el===t.targetData.parent.el&&t.targetData.parent.data.config.sortable===!1;let s;"node"in t.targetData?(l?s=e.initialIndex:t.targetData.parent.data.config.sortable===!1?s=t.targetData.parent.data.enabledNodes.length:s=t.targetData.node.data.index,o.splice(s,0,...n)):(s=l?e.initialIndex:t.targetData.parent.data.enabledNodes.length,o.splice(s,0,...n)),E(e.lastParent.el,e.lastParent.data,r),E(t.targetData.parent.el,t.targetData.parent.data,o)}function w(e,t){Se(e,t)&&(e.targetData.parent.data.config.performTransfer(t,e),t.lastParent=e.targetData.parent,t.transferred=!0)}function Ze(e){function t(n){const r=g.get(n);if(r)return{parent:{el:n,data:r}}}return n=>{const r=t(n.currentTarget);if(r)return e({e:n,targetData:r})}}function I(e){if(e instanceof HTMLElement)return e;if(e.value instanceof HTMLElement)return e.value;if("$el"in e&&e.$el instanceof HTMLElement)return e.$el}function $e(e,t){Array.isArray(e)||(e=[e]);for(const n of e){const r=I(n);if(r)return t(r);const o=j(n,l=>{if(!l)return;const s=I(l);s?t(s):console.warn("Invalid parent element",l),o()})}}var V=new WeakMap;function Be(e){const t=V.get(e);return t?t.value:(console.warn("No values found for parent element"),[])}function Fe(e,t){const n=V.get(t);n&&(n.value=e)}function Je(e){k&&(Array.isArray(e)||(e=[e]),e.forEach(t=>{const{parent:n,values:r,...o}=t;$e(n,Xe(o,r))}))}function Xe(e,t){return n=>{V.set(n,t),B({parent:n,getValues:Be,setValues:Fe,config:{...e,dropZones:[]}})}}export{We as a,Je as d,g as p,ze as u};
//# sourceMappingURL=index-DwuY2HL4.js.map
