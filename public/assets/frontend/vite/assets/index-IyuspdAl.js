import{i as m,Z as u}from"./routes-CgLO9M4y.js";import{_ as k}from"./Form.vue_vue_type_script_setup_true_lang-B6L-6HzY.js";import{u as g}from"./useImportSource-DpIhNL7i.js";import{ap as L,f as h,a1 as S,m as c,p as f,q as l,y as b,Q as v,M as C,u as _,D as R,r as Z,d as z,E as T,J as M}from"./vue-oicRkvo0.js";import{e as $,M as A}from"./apollo-Cj5TVUDk.js";import{n as E}from"./vendor-C11O1Xx8.js";import{X as P}from"./overviewAttributes.api-C09LSZ8O.js";import{u as U}from"./useForm-CUKec4n5.js";import{u as F}from"./useSSLVerificationWarningHandler-CuWTKKwG.js";import{u as q}from"./useSystemSetup-CBS5N4Hd.js";import{o as G}from"./openExternalLink-B2ZtqYBi.js";import{_ as V}from"./CommonButtonGroup.vue_vue_type_script_setup_true_lang-C3MnS4Ly.js";const D=E`
    mutation systemImportConfiguration($configuration: SystemImportConfigurationInput!) {
  systemImportConfiguration(configuration: $configuration) {
    success
    errors {
      ...errors
    }
  }
}
    ${P}`;function B(t={}){return $(D,t)}const I=t=>{const e=L(),{loading:o}=g();return{configureSystemImportSource:r=>{o.value=!0;const n=new A(B());let i=!0;return r.sslVerify!==void 0&&(i=r.sslVerify,delete r.sslVerify),n.send({configuration:{...r,source:t,tlsVerify:i}}).then(a=>{var y;(y=a==null?void 0:a.systemImportConfiguration)!=null&&y.success&&e.push(`/guided-setup/import/${t}/start`)}).finally(()=>{o.value=!1})}}},K={class:"flex flex-col gap-y-2.5"},N=h({__name:"GuidedSetupImportSourceFreshdesk",setup(t){const{form:e}=g(),o=[{isLayout:!0,element:"div",attrs:{class:"grid grid-cols-1 gap-y-2.5 gap-x-3"},children:[{label:"URL",name:"url",type:"text",required:!0,validation:"url",help:m.t("Enter the URL of your %s system.","Freshdesk")},{label:__("API token"),name:"secret",type:"text",placeholder:"XYZ3133723421111",required:!0,sectionsSchema:{help:{children:["$help",{$cmp:"CommonLink",props:{link:"https://support.freshdesk.com/support/solutions/articles/215517-how-to-find-your-api-key",external:!0,openInNewTab:!0,class:"ltr:ml-1 rtl:mr-1"},children:__("More information can be found here.")}]}},help:__("Enter your Freshdesk API token gained from your account profile settings.")}]}],{configureSystemImportSource:s}=I(u.Freshdesk);return(r,n)=>{const i=S("CommonAlert");return c(),f("div",K,[l(i,{variant:"info"},{default:b(()=>[v(C(r.$t("After the import is completed, the account associated with the API token will become your username, and the token itself will be your password.")),1)]),_:1}),l(k,{id:"import-freshdesk-configuration",ref_key:"form",ref:e,"form-class":"mb-2.5",schema:o,onSubmit:n[0]||(n[0]=a=>_(s)(a))},null,512)])}}}),j={source:u.Freshdesk,label:__("Freshdesk"),beta:!0,component:N,importEntities:{Groups:__("Groups"),Organizations:__("Organizations"),Users:__("Users"),Tickets:__("Tickets")},documentationURL:"https://docs.zammad.org/en/latest/migration/freshdesk.html"},H={class:"flex flex-col gap-y-2.5"},X=h({__name:"GuidedSetupImportSourceKayako",setup(t){const{form:e}=g(),o=[{isLayout:!0,element:"div",attrs:{class:"grid grid-cols-1 gap-y-2.5 gap-x-3"},children:[{label:"URL",name:"url",type:"text",required:!0,validation:"url",help:m.t("Enter the URL of your %s system.","Kayako")},{name:"username",label:__("Email"),type:"email",validation:"email",placeholder:"admin@example.com",props:{maxLength:150},required:!0,help:__("Enter your email address from your Kayako account which should be used for the import.")},{label:__("Password"),name:"secret",type:"password",required:!0,help:__("Enter your password from your Kayako account which should be used for the import.")}]}],{configureSystemImportSource:s}=I(u.Kayako);return(r,n)=>{const i=S("CommonAlert");return c(),f("div",H,[l(i,{variant:"info"},{default:b(()=>[v(C(r.$t("The entered email and password will become your Zammad login credentials after the import is completed.")),1)]),_:1}),l(k,{id:"import-kayako-configuration",ref_key:"form",ref:e,"form-class":"mb-2.5",schema:o,onSubmit:n[0]||(n[0]=a=>_(s)(a))},null,512)])}}}),W={source:u.Kayako,label:__("Kayako"),beta:!0,component:X,importEntities:{Groups:__("Groups"),Organizations:__("Organizations"),Users:__("Users"),Tickets:__("Tickets")},documentationURL:"https://docs.zammad.org/en/latest/migration/kayako.html"},Y=h({__name:"GuidedSetupImportSourceOTRSDownloadButtons",setup(t){const e=s=>{G(s)},o=[{label:m.t("Migration Plugin for %s","OTRS 6"),variant:"primary",size:"medium",icon:"download",onActionClick:()=>e("https://ftp.zammad.com/otrs-migrator-plugins/Znuny4OTRS-ZammadMigrator-6.0.7.opm")},{label:m.t("Migration Plugin for %s","OTRS 5"),variant:"primary",size:"medium",icon:"download",onActionClick:()=>e("https://ftp.zammad.com/otrs-migrator-plugins/Znuny4OTRS-ZammadMigrator-5.0.4.opm")},{label:m.t("Migration Plugin for %s","OTRS 4"),variant:"primary",size:"medium",icon:"download",onActionClick:()=>e("https://ftp.zammad.com/otrs-migrator-plugins/Znuny4OTRS-ZammadMigrator-4.1.12.opm")},{label:m.t("Migration Plugin for %s","OTRS 3.3-3.1"),variant:"primary",size:"medium",icon:"download",onActionClick:()=>e("https://ftp.zammad.com/otrs-migrator-plugins/Znuny4OTRS-ZammadMigrator-3.0.33.opm")}];return(s,r)=>(c(),R(V,{items:o}))}}),J={key:0,class:"flex flex-col gap-2"},Q=h({__name:"GuidedSetupImportSourceOTRS",setup(t){const{setTitle:e}=q();e(m.t("Download %s Migration Plugin","OTRS"));const o=Z(!1),{form:s,onContinueButtonCallback:r}=g();r.value=()=>{e(m.t("Link %s","OTRS")),r.value=void 0,o.value=!0};const n=[{isLayout:!0,element:"div",attrs:{class:"flex flex-col gap-y-2.5 gap-x-3"},children:[{name:"url",label:__("URL"),type:"text",placeholder:"https://example.com/otrs/public.pl?Action=ZammadMigrator;Key=31337",required:!0,validation:"url",help:__("Enter the link provided by the plugin at the end of the installation to link the two systems.")},{name:"sslVerify",label:__("SSL verification"),type:"toggle",value:!0,props:{variants:{true:"yes",false:"no"}}}]}],{configureSystemImportSource:i}=I(u.Otrs),{updateFieldValues:a,onChangedField:y}=U(s),x=z({});return y("url",p=>{if(p&&typeof p=="string"){const d=p.startsWith("http://");x.sslVerify={disabled:d},a({sslVerify:!d})}}),(p,d)=>{const w=S("CommonLabel");return c(),f(M,null,[o.value?T("",!0):(c(),f("div",J,[l(w,null,{default:b(()=>[v(C(p.$t("Download and install the %s Migration Plugin on your %s instance.","OTRS","OTRS")),1)]),_:1}),l(Y,{class:"mb-5"})])),o.value===!0?(c(),R(k,{key:1,id:"import-otrs-configuration",ref_key:"form",ref:s,"form-class":"mb-2.5",handlers:[_(F)()],schema:n,"change-fields":x,onSubmit:d[0]||(d[0]=O=>_(i)(O))},null,8,["handlers","change-fields"])):T("",!0)],64)}}}),ee={source:u.Otrs,label:__("OTRS"),beta:!0,component:Q,importEntities:{Configuration:__("Configuration"),Base:__("Base Objects"),User:__("Users"),Ticket:__("Tickets")},preStartHints:[__("OTRS BPM processes can't get imported into Zammad since it currently doesn't support this kind of workflows."),__("Dynamic fields are not that common in Zammad, as it takes a different approach to ticket attributes. Zammad also uses tags in addition to custom fields to classify tickets. This difference can create a new philosophy of your ticket attributes/tags compared to your current use of dynamic fields in OTRS.")],documentationURL:"https://docs.zammad.org/en/latest/migration/otrs.html"},te={class:"flex flex-col gap-y-2.5"},oe=h({__name:"GuidedSetupImportSourceZendesk",setup(t){const{form:e}=g(),o=[{isLayout:!0,element:"div",attrs:{class:"grid grid-cols-1 gap-y-2.5 gap-x-3"},children:[{label:"URL",name:"url",type:"text",required:!0,validation:"url",help:m.t("Enter the URL of your %s system.","Zendesk")},{name:"username",label:__("Email"),type:"email",validation:"email",placeholder:"admin@example.com",props:{maxLength:150},required:!0},{label:__("API token"),name:"secret",type:"text",placeholder:"XYZ3133723421111",required:!0,sectionsSchema:{help:{children:["$help",{$cmp:"CommonLink",props:{link:"https://support.zendesk.com/hc/en-us/articles/4408889192858-Managing-access-to-the-Zendesk-API#topic_tcb_fk1_2yb",external:!0,openInNewTab:!0,class:"ltr:ml-1 rtl:mr-1"},children:__("More information can be found here.")}]}},help:__("Enter your Zendesk API token gained from your admin interface.")}]}],{configureSystemImportSource:s}=I(u.Zendesk);return(r,n)=>{const i=S("CommonAlert");return c(),f("div",te,[l(i,{variant:"info"},{default:b(()=>[v(C(r.$t("The entered email and API token will become your Zammad login credentials after the import is completed.")),1)]),_:1}),l(k,{id:"import-zendesk-configuration",ref_key:"form",ref:e,"form-class":"mb-2.5",schema:o,onSubmit:n[0]||(n[0]=a=>_(s)(a))},null,512)])}}}),re={source:u.Zendesk,label:__("Zendesk"),beta:!0,component:oe,importEntities:{Groups:__("Groups"),Organizations:__("Organizations"),Users:__("Users"),Tickets:__("Tickets")},documentationURL:"https://docs.zammad.org/en/latest/migration/zendesk.html"},se=Object.assign({"./freshdesk.ts":j,"./kayako.ts":W,"./otrs.ts":ee,"./zendesk.ts":re}),ne=Object.values(se).sort((t,e)=>t.label.localeCompare(e.label)),ye=ne.reduce((t,e)=>(t[e.source]=e,t),{});export{ye as a,ne as g};
//# sourceMappingURL=index-IyuspdAl.js.map
