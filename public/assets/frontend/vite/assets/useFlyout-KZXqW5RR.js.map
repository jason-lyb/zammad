{"version":3,"file":"useFlyout-KZXqW5RR.js","sources":["../../../../../app/frontend/apps/desktop/components/CommonFlyout/useFlyout.ts"],"sourcesContent":["// Copyright (C) 2012-2025 Zammad Foundation, https://zammad-foundation.org/\n\nimport { useRoute } from 'vue-router'\n\nimport {\n  closeOverlayContainer,\n  getOpenedOverlayContainers,\n  getOverlayContainerMeta,\n  isOverlayContainerOpened,\n  openOverlayContainer,\n  useOverlayContainer,\n  type OverlayContainerOptions,\n} from '#desktop/composables/useOverlayContainer.ts'\nimport { getCurrentApp } from '#desktop/currentApp.ts'\n\nconst OVERLAY_CONTAINER_TYPE = 'flyout'\n\nexport const getOpenedFlyouts = () =>\n  getOpenedOverlayContainers(OVERLAY_CONTAINER_TYPE)\n\nexport const isFlyoutOpened = (name?: string) =>\n  isOverlayContainerOpened(OVERLAY_CONTAINER_TYPE, name)\n\nexport const getFlyoutMeta = () => {\n  const overlayContainerMeta = getOverlayContainerMeta(OVERLAY_CONTAINER_TYPE)\n\n  return {\n    flyoutsOptions: overlayContainerMeta.options,\n    openedFlyouts: overlayContainerMeta.opened,\n  }\n}\n\nexport const openFlyout = async (\n  name: string,\n  props: Record<string, unknown>,\n  global: boolean = false,\n) => {\n  let currentName = name\n\n  if (!global) {\n    getCurrentApp().runWithContext(() => {\n      const route = useRoute()\n\n      currentName = `${name}_${route.path}`\n    })\n  }\n\n  return openOverlayContainer(OVERLAY_CONTAINER_TYPE, currentName, props)\n}\n\nexport const closeFlyout = async (name: string, global: boolean = false) => {\n  let currentName = name\n\n  if (!global) {\n    getCurrentApp().runWithContext(() => {\n      const route = useRoute()\n\n      currentName = `${name}_${route.path}`\n    })\n  }\n\n  return closeOverlayContainer(OVERLAY_CONTAINER_TYPE, currentName)\n}\n\nexport const useFlyout = (options: OverlayContainerOptions) => {\n  return useOverlayContainer(OVERLAY_CONTAINER_TYPE, options)\n}\n"],"names":["OVERLAY_CONTAINER_TYPE","closeFlyout","name","global","currentName","getCurrentApp","route","useRoute","closeOverlayContainer","useFlyout","options","useOverlayContainer"],"mappings":"+FAeA,MAAMA,EAAyB,SAmClBC,EAAc,MAAOC,EAAcC,EAAkB,KAAU,CAC1E,IAAIC,EAAcF,EAElB,OAAKC,GACWE,EAAA,EAAE,eAAe,IAAM,CACnC,MAAMC,EAAQC,IAEdH,EAAc,GAAGF,CAAI,IAAII,EAAM,IAAI,EAAA,CACpC,EAGIE,EAAsBR,EAAwBI,CAAW,CAClE,EAEaK,EAAaC,GACjBC,EAAoBX,EAAwBU,CAAO"}