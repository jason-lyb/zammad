{"version":3,"file":"Home-0AZW6uEV.js","sources":["../../../../../app/frontend/apps/mobile/pages/home/views/Home.vue"],"sourcesContent":["<!-- Copyright (C) 2012-2025 Zammad Foundation, https://zammad-foundation.org/ -->\n\n<script setup lang=\"ts\">\nimport { computed } from 'vue'\n\nimport CommonInputSearch from '#shared/components/CommonInputSearch/CommonInputSearch.vue'\nimport { useSessionStore } from '#shared/stores/session.ts'\n\nimport CommonSectionMenu from '#mobile/components/CommonSectionMenu/CommonSectionMenu.vue'\nimport type { MenuItem } from '#mobile/components/CommonSectionMenu/index.ts'\nimport CommonTicketCreateLink from '#mobile/components/CommonTicketCreateLink/CommonTicketCreateLink.vue'\nimport { useTicketOverviews } from '#mobile/entities/ticket/composables/useTicketOverviews.ts'\n\nconst IS_DEV = import.meta.env.DEV\n\nconst session = useSessionStore()\n\nconst menu: MenuItem[] = [\n  {\n    type: 'link',\n    link: '/tickets/view',\n    label: __('Ticket Overviews'),\n    icon: { name: 'all-tickets', size: 'base' },\n    iconBg: 'bg-pink',\n    permission: ['ticket.agent', 'ticket.customer'],\n  },\n  // Cannot inline import.meta here, Vite fails\n  ...(IS_DEV\n    ? [\n        {\n          type: 'link' as const,\n          link: '/playground',\n          label: 'Playground',\n          icon: { name: 'settings', size: 'small' as const },\n          iconBg: 'bg-orange',\n        },\n      ]\n    : []),\n]\n\nconst overviews = useTicketOverviews()\n\nconst ticketOverview = computed<MenuItem[]>(() => {\n  if (overviews.loading) return []\n\n  return overviews.includedOverviews.map((overview) => {\n    return {\n      type: 'link',\n      link: `/tickets/view/${overview.link}`,\n      label: overview.name,\n      information: overview.ticketCount,\n    }\n  })\n})\n</script>\n\n<template>\n  <div class=\"p-4\">\n    <CommonTicketCreateLink class=\"mt-1.5 mb-3\" />\n    <h1 class=\"mb-5 flex w-full items-center justify-center text-4xl font-bold\">\n      {{ $t('Home') }}\n    </h1>\n    <CommonLink :aria-label=\"$t('Searchâ€¦')\" link=\"/search\">\n      <CommonInputSearch\n        aria-hidden=\"true\"\n        tabindex=\"-1\"\n        wrapper-class=\"mb-4\"\n        no-border\n      />\n    </CommonLink>\n    <CommonSectionMenu :items=\"menu\" />\n    <CommonSectionMenu\n      v-if=\"session.hasPermission(['ticket.agent', 'ticket.customer'])\"\n      :items=\"ticketOverview\"\n      :header-label=\"__('Ticket Overview')\"\n      :action-label=\"__('Edit')\"\n      action-link=\"/favorite/ticket-overviews/edit\"\n    >\n      <template v-if=\"overviews.loading\" #before-items>\n        <div class=\"flex w-full justify-center\">\n          <CommonIcon name=\"loading\" animation=\"spin\" />\n        </div>\n      </template>\n    </CommonSectionMenu>\n  </div>\n</template>\n"],"names":["session","useSessionStore","menu","overviews","useTicketOverviews","ticketOverview","computed","overview"],"mappings":"uzBAeA,MAAMA,EAAUC,IAEVC,EAAmB,CACvB,CACE,KAAM,OACN,KAAM,gBACN,MAAO,GAAG,kBAAkB,EAC5B,KAAM,CAAE,KAAM,cAAe,KAAM,MAAO,EAC1C,OAAQ,UACR,WAAY,CAAC,eAAgB,iBAAiB,CAChD,CAYK,EAGDC,EAAYC,IAEZC,EAAiBC,EAAqB,IACtCH,EAAU,QAAgB,GAEvBA,EAAU,kBAAkB,IAAKI,IAC/B,CACL,KAAM,OACN,KAAM,iBAAiBA,EAAS,IAAI,GACpC,MAAOA,EAAS,KAChB,YAAaA,EAAS,WAAA,EAEzB,CACF"}