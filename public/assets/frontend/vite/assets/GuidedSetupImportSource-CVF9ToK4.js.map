{"version":3,"file":"GuidedSetupImportSource-CVF9ToK4.js","sources":["../../../../../app/frontend/apps/desktop/pages/guided-setup/views/GuidedSetupImport/GuidedSetupImportSource/GuidedSetupImportSource.vue"],"sourcesContent":["<!-- Copyright (C) 2012-2025 Zammad Foundation, https://zammad-foundation.org/ -->\n\n<script setup lang=\"ts\">\nimport { useRouter } from 'vue-router'\n\nimport { EnumSystemImportSource } from '#shared/graphql/types.ts'\nimport { i18n } from '#shared/i18n/index.ts'\n\nimport GuidedSetupActionFooter from '#desktop/pages/guided-setup/components/GuidedSetupActionFooter.vue'\nimport { guidedSetupImportSourcePluginLookup } from '#desktop/pages/guided-setup/components/GuidedSetupImport/GuidedSetupImportSource/plugins/index.ts'\nimport GuidedSetupStatusMessage from '#desktop/pages/guided-setup/components/GuidedSetupStatusMessage.vue'\nimport { useImportSource } from '#desktop/pages/guided-setup/composables/useImportSource.ts'\nimport { useSystemSetup } from '#desktop/pages/guided-setup/composables/useSystemSetup.ts'\nimport { useSystemSetupInfoStore } from '#desktop/pages/guided-setup/stores/systemSetupInfo.ts'\n\ninterface Props {\n  source: EnumSystemImportSource\n}\n\nconst props = defineProps<Props>()\n\nconst sourcePlugin = guidedSetupImportSourcePluginLookup[props.source]\nconst { setTitle } = useSystemSetup()\n\nsetTitle(i18n.t('Import from %s', sourcePlugin.label))\n\nconst router = useRouter()\n\nconst systemSetupInfoStore = useSystemSetupInfoStore()\n\nconst goBack = () => {\n  systemSetupInfoStore.systemSetupInfo.importSource = undefined\n\n  router.push('/guided-setup/import')\n}\n\nconst { form, debouncedLoading, onContinueButtonCallback } = useImportSource()\n// TODO: :on-submit=\"onContinueButtonCallback\" is a workaround for the issue that inside the test the change of the such\n// a event handler is not triggered. Create small reproduction repo and open issue in vue-test-utils.\n</script>\n\n<template>\n  <GuidedSetupStatusMessage\n    v-if=\"debouncedLoading\"\n    :message=\"__('Verifying and saving your import configurationâ€¦')\"\n  />\n  <div v-show=\"!debouncedLoading\">\n    <component :is=\"sourcePlugin.component\" />\n\n    <GuidedSetupActionFooter\n      :form=\"form\"\n      :submit-button-text=\"\n        onContinueButtonCallback ? __('Continue') : __('Save and Continue')\n      \"\n      :submit-button-type=\"onContinueButtonCallback ? 'button' : 'submit'\"\n      :submit-button-variant=\"onContinueButtonCallback ? 'primary' : 'submit'\"\n      :on-submit=\"onContinueButtonCallback\"\n      @go-back=\"goBack()\"\n      @submit=\"onContinueButtonCallback\"\n    />\n  </div>\n</template>\n"],"names":["sourcePlugin","guidedSetupImportSourcePluginLookup","__props","setTitle","useSystemSetup","i18n","router","useRouter","systemSetupInfoStore","useSystemSetupInfoStore","goBack","form","debouncedLoading","onContinueButtonCallback","useImportSource"],"mappings":"4oDAqBM,MAAAA,EAAeC,EAFPC,EAEiD,MAAM,EAC/D,CAAE,SAAAC,GAAaC,IAErBD,EAASE,EAAK,EAAE,iBAAkBL,EAAa,KAAK,CAAC,EAErD,MAAMM,EAASC,IAETC,EAAuBC,IAEvBC,EAAS,IAAM,CACnBF,EAAqB,gBAAgB,aAAe,OAEpDF,EAAO,KAAK,sBAAsB,CAAA,EAG9B,CAAE,KAAAK,EAAM,iBAAAC,EAAkB,yBAAAC,GAA6BC,EAAgB"}