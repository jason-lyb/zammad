import{u as B}from"./useTicketLiveUsersDisplay-CMSLuo_a.js";import{_ as L}from"./CommonDialog.vue_vue_type_script_setup_true_lang-CID2Z6MI.js";import{b as _}from"./mobile-Bk4bKGxF.js";import{bm as V,_ as w,aR as D}from"./overviewAttributes.api-C09LSZ8O.js";import{f as I,c as T,t as v,a1 as f,m as t,D as n,y as p,I as k,q as g,M as N,u as s,p as c,H as E,E as u,x as h,J as y}from"./vue-oicRkvo0.js";import"./routes-CgLO9M4y.js";import"./vite-FJshFMF2.js";import"./vendor-C11O1Xx8.js";import"./commonjsHelpers-BosuxZz1.js";import"./apollo-Cj5TVUDk.js";import"./lodash-pFOI14f-.js";import"./pwa-THoW_3xc.js";import"./add.api-CxwFhgGn.js";import"./datepicker-BBNcWeHz.js";import"./date-B2UyDZN7.js";import"./formkit-5nol1GBe.js";const F={class:"flex items-center"},H={class:"ltr:ml-3 rtl:mr-3"},R={key:0,class:"flex items-center"},b=I({__name:"TicketViewerItem",props:{user:{},editing:{type:Boolean},idle:{type:Boolean},app:{}},setup(m){const i=m,l=T(()=>({editing:i.editing,app:i.app,isIdle:i.idle})),{indicatorIcon:r,indicatorLabel:a,indicatorIsIdle:d}=V(v(i.user),!1,l);return(e,o)=>{const C=f("CommonIcon"),$=f("CommonLink");return t(),n($,{key:e.user.id,link:`/users/${s(D)(e.user.id)}`,class:"flex items-center justify-between px-3 first:pt-1 last:pb-1"},{default:p(()=>[k("div",F,[g(w,{entity:e.user,live:{isIdle:e.idle}},null,8,["entity","live"]),k("div",H,N(e.user.fullname),1)]),s(r)?(t(),c("div",R,[g(C,{class:E({"fill-gray":s(d)}),label:s(a),name:s(r)},null,8,["class","label","name"])])):u("",!0)]),_:1},8,["link"])}}}),Y=I({__name:"TicketViewersDialog",props:{name:{},liveUsers:{}},setup(m){const i=m,{viewingUsers:l,idleUsers:r}=B(v(()=>i.liveUsers));return(a,d)=>(t(),n(L,{name:a.name,label:a.__("Ticket viewers"),class:"w-full p-4 text-sm"},{default:p(()=>[s(l).length>0?(t(),n(_,{key:0,class:"shrink-0 gap-3 py-2","header-label":a.__("Viewing ticket")},{default:p(()=>[(t(!0),c(y,null,h(s(l),(e,o)=>(t(),n(b,{key:`${o}-${e.user.id}`,user:e.user,editing:e.editing,app:e.app},null,8,["user","editing","app"]))),128))]),_:1},8,["header-label"])):u("",!0),s(r).length>0?(t(),n(_,{key:1,class:"shrink-0 gap-3 py-2","header-label":a.__("Opened in tabs"),help:a.__("Has ticket open in tabs, but is not actively looking at the ticket.")},{default:p(()=>[(t(!0),c(y,null,h(s(r),(e,o)=>(t(),n(b,{key:`${o}-${e.user.id}`,user:e.user,editing:e.editing,app:e.app,idle:""},null,8,["user","editing","app"]))),128))]),_:1},8,["header-label","help"])):u("",!0)]),_:1},8,["name","label"]))}});export{Y as default};
//# sourceMappingURL=TicketViewersDialog-BIbuV5ub.js.map
