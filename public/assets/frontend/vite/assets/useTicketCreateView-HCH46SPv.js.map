{"version":3,"file":"useTicketCreateView-HCH46SPv.js","sources":["../../../../../app/frontend/shared/entities/ticket/composables/useTicketCreateView.ts"],"sourcesContent":["// Copyright (C) 2012-2025 Zammad Foundation, https://zammad-foundation.org/\n\nimport { computed } from 'vue'\n\nimport { useApplicationStore } from '#shared/stores/application.ts'\nimport { useSessionStore } from '#shared/stores/session.ts'\nimport getUuid from '#shared/utils/getUuid.ts'\n\nimport type { RouteLocationNormalized } from 'vue-router'\n\nexport const useTicketCreateView = () => {\n  const application = useApplicationStore()\n  const session = useSessionStore()\n\n  const ticketCreateEnabled = computed(() => {\n    return (\n      session.hasPermission('ticket.agent') ||\n      (session.hasPermission('ticket.customer') &&\n        application.config.customer_ticket_create)\n    )\n  })\n\n  const isTicketCustomer = computed(() => {\n    return (\n      session.hasPermission('ticket.customer') &&\n      !session.hasPermission('ticket.agent')\n    )\n  })\n\n  const checkUniqueTicketCreateRoute = (to: RouteLocationNormalized) => {\n    if (!to.params.tabId) {\n      return {\n        path: `/tickets/create/${getUuid()}`,\n        query: to.query,\n      }\n    }\n\n    return true\n  }\n\n  return {\n    ticketCreateEnabled,\n    isTicketCustomer,\n    checkUniqueTicketCreateRoute,\n  }\n}\n"],"names":["useTicketCreateView","application","useApplicationStore","session","useSessionStore","ticketCreateEnabled","computed","isTicketCustomer","to","getUuid"],"mappings":"0HAUO,MAAMA,EAAsB,IAAM,CACvC,MAAMC,EAAcC,IACdC,EAAUC,IAEVC,EAAsBC,EAAS,IAEjCH,EAAQ,cAAc,cAAc,GACnCA,EAAQ,cAAc,iBAAiB,GACtCF,EAAY,OAAO,sBAExB,EAEKM,EAAmBD,EAAS,IAE9BH,EAAQ,cAAc,iBAAiB,GACvC,CAACA,EAAQ,cAAc,cAAc,CAExC,EAaM,MAAA,CACL,oBAAAE,EACA,iBAAAE,EACA,6BAdoCC,GAC/BA,EAAG,OAAO,MAOR,GANE,CACL,KAAM,mBAAmBC,EAAA,CAAS,GAClC,MAAOD,EAAG,KAAA,CAUd,CAEJ"}