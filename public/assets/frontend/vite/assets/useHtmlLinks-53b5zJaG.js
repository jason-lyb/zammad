import{ap as h,av as d}from"./vue-oicRkvo0.js";import{i as p}from"./pwa-THoW_3xc.js";import{u as l}from"./useBaseUrl-BsZiEKQE.js";const w=s=>{const{baseUrl:n}=l(),o=h(),i=e=>{if(e.pathname.startsWith(s))return e.href.slice(`${e.origin}${s}`.length);const t=o.resolve(`/${e.hash.slice(1)}${e.search}`);if(t.name!=="Error")return t.fullPath},c=(e,t)=>{!p()&&e&&e!=="_self"?window.open(`${s}${t}`,e):o.push(t)},u=(e,t)=>{try{const r=new URL(e.href);if(r.origin===window.location.origin||r.origin===n.value){const a=i(r);if(a)return t.preventDefault(),c(e.target,a)}if(e.hasAttribute("external"))return;e.target||(t.preventDefault(),window.open(e.href))}catch{}},f=e=>{const t=e.dataset.mentionUserId;t&&(e.href=`${n.value}${s}/users/${t}`)};return{setupLinksHandlers:e=>{e.querySelectorAll("a").forEach(t=>{"__handled"in t||(Object.defineProperty(t,"__handled",{value:!0}),f(t),d(t,"click",r=>u(t,r)))})}}};export{w as u};
//# sourceMappingURL=useHtmlLinks-53b5zJaG.js.map
