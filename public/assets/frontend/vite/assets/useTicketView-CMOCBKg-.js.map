{"version":3,"file":"useTicketView-CMOCBKg-.js","sources":["../../../../../app/frontend/shared/entities/ticket/utils/getTicketView.ts","../../../../../app/frontend/shared/entities/ticket/composables/useTicketView.ts"],"sourcesContent":["// Copyright (C) 2012-2025 Zammad Foundation, https://zammad-foundation.org/\n\nimport { useSessionStore } from '#shared/stores/session.ts'\n\nimport type { TicketById, TicketView } from '../types.ts'\n\nexport const getTicketView = (ticket: TicketById) => {\n  const session = useSessionStore()\n\n  const isTicketEditable = ticket.policy.update\n\n  const isTicketCustomer =\n    session.hasPermission('ticket.customer') && !ticket.policy.agentReadAccess\n\n  const isTicketAgent = ticket.policy.agentReadAccess\n\n  const ticketView: TicketView = isTicketAgent ? 'agent' : 'customer'\n\n  return {\n    isTicketAgent,\n    isTicketCustomer,\n    isTicketEditable,\n    ticketView,\n  }\n}\n","// Copyright (C) 2012-2025 Zammad Foundation, https://zammad-foundation.org/\n\nimport { computed, type Ref } from 'vue'\n\nimport type { TicketById } from '#shared/entities/ticket/types.ts'\n\nimport { getTicketView } from '../utils/getTicketView.ts'\n\nexport const useTicketView = (ticket: Ref<TicketById | undefined>) => {\n  const view = computed(() => ticket.value && getTicketView(ticket.value))\n\n  const isTicketEditable = computed(() => !!view.value?.isTicketEditable)\n  const isTicketCustomer = computed(() => !!view.value?.isTicketCustomer)\n  const isTicketAgent = computed(() => !!view.value?.isTicketAgent)\n\n  return { isTicketAgent, isTicketCustomer, isTicketEditable }\n}\n"],"names":["getTicketView","ticket","session","useSessionStore","isTicketEditable","isTicketCustomer","isTicketAgent","useTicketView","view","computed","_a"],"mappings":"0EAMa,MAAAA,EAAiBC,GAAuB,CACnD,MAAMC,EAAUC,IAEVC,EAAmBH,EAAO,OAAO,OAEjCI,EACJH,EAAQ,cAAc,iBAAiB,GAAK,CAACD,EAAO,OAAO,gBAEvDK,EAAgBL,EAAO,OAAO,gBAI7B,MAAA,CACL,cAAAK,EACA,iBAAAD,EACA,iBAAAD,EACA,WAN6BE,EAAgB,QAAU,UAMvD,CAEJ,EChBaC,EAAiBN,GAAwC,CAC9D,MAAAO,EAAOC,EAAS,IAAMR,EAAO,OAASD,EAAcC,EAAO,KAAK,CAAC,EAEjEG,EAAmBK,EAAS,IAAM,OAAA,OAAC,GAACC,EAAAF,EAAK,QAAL,MAAAE,EAAY,kBAAgB,EAChEL,EAAmBI,EAAS,IAAM,OAAA,OAAC,GAACC,EAAAF,EAAK,QAAL,MAAAE,EAAY,kBAAgB,EAG/D,MAAA,CAAE,cAFaD,EAAS,IAAM,OAAA,OAAC,GAACC,EAAAF,EAAK,QAAL,MAAAE,EAAY,eAAa,EAExC,iBAAAL,EAAkB,iBAAAD,EAC5C"}