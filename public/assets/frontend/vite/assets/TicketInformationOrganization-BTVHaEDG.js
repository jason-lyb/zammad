import{i as w}from"./overviewAttributes.api-C09LSZ8O.js";import{_ as D}from"./ObjectAttributes.vue_vue_type_script_setup_true_lang-B0DrxGTz.js";import{u as O}from"./useOrganizationDetail-CenI9U-0.js";import{u as C}from"./useErrorHandler-ZIzy1Mvt.js";import{_ as I}from"./mobile-Bk4bKGxF.js";import{_ as T}from"./CommonLoader.vue_vue_type_script_setup_true_lang-BtrvaoyW.js";import{_ as x}from"./CommonTicketStateList.vue_vue_type_script_setup_true_lang-BroMKQU9.js";import{u as q,_ as B}from"./useOrganizationEdit-B9tu6F_g.js";import{u as N}from"./useOrganizationTicketsCount-CWW16y9d.js";import{u as V}from"./useTicketInformation-DhcXzEKN.js";import{f as j,c as p,r as L,Y as M,m as i,p as m,q as r,y as u,u as t,I as Q,M as f,E as c,v as S,Q as A,D as F,J as H}from"./vue-oicRkvo0.js";import"./routes-CgLO9M4y.js";import"./vite-FJshFMF2.js";import"./vendor-C11O1Xx8.js";import"./commonjsHelpers-BosuxZz1.js";import"./apollo-Cj5TVUDk.js";import"./lodash-pFOI14f-.js";import"./formkit-5nol1GBe.js";import"./useDisplayObjectAttributes-sspS-pHp.js";import"./pwa-THoW_3xc.js";import"./add.api-CxwFhgGn.js";import"./datepicker-BBNcWeHz.js";import"./date-B2UyDZN7.js";import"./types-Cu-Nkl7K.js";import"./CommonShowMoreButton.vue_vue_type_script_setup_true_lang-0Icksle5.js";import"./CommonUsersList.vue_vue_type_script_setup_true_lang-CKM-Z0cj.js";const R={key:0,class:"mb-3 flex items-center gap-3"},Y={class:"text-lg font-semibold"},J={key:0},zt=j({__name:"TicketInformationOrganization",setup(U){const{ticket:d,updateRefetchingStatus:_}=V(),{createQueryErrorHandler:g}=C(),k=g({notFound:__("Organization with specified ID was not found. Try checking the URL for errors."),forbidden:__("You have insufficient rights to view this organization.")}),v=p(()=>{var a,e;return(e=(a=d.value)==null?void 0:a.organization)==null?void 0:e.internalId}),{organization:o,organizationQuery:y,loading:n,objectAttributes:z,loadAllMembers:b}=O(v,k),l=L("");y.onError(a=>{l.value=a.message}),M(()=>{_(n.value&&o.value!=null)});const{openEditOrganizationDialog:h}=q(),{getTicketData:E}=N(),s=p(()=>E(o.value));return(a,e)=>(i(),m(H,null,[r(T,{loading:!t(o)&&t(n),error:l.value},{default:u(()=>[t(o)?(i(),m("div",R,[r(w,{size:"normal",entity:t(o)},null,8,["entity"]),Q("h2",Y,f(t(o).name),1)])):c("",!0)]),_:1},8,["loading","error"]),t(o)?(i(),m("div",J,[r(D,{object:t(o),attributes:t(z),"skip-attributes":["name"]},S({_:2},[t(o).policy.update?{name:"after-fields",fn:u(()=>[r(I,{class:"p-4",variant:"primary","transparent-background":"",onClick:e[0]||(e[0]=$=>t(h)(t(o)))},{default:u(()=>[A(f(a.$t("Edit Organization")),1)]),_:1})]),key:"0"}:void 0]),1032,["object","attributes"]),r(B,{organization:t(o),"disable-show-more":t(n),onLoadMore:e[1]||(e[1]=$=>t(b)())},null,8,["organization","disable-show-more"]),s.value?(i(),F(x,{key:0,counts:s.value.count,"tickets-link-query":s.value.query},null,8,["counts","tickets-link-query"])):c("",!0)])):c("",!0)],64))}});export{zt as default};
//# sourceMappingURL=TicketInformationOrganization-BTVHaEDG.js.map
